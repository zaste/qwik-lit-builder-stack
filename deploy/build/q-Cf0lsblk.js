import{u as l,f as e,i as t,q as n,b as s,d as u,E as o,_hW as r}from"./q-DFVw1sOS.js";import{_ as a}from"./q-Ccds0Gka.js";const i=e=>{const[t]=l();return t.value={...t.value,title:e.target.value}},c=Object.freeze(Object.defineProperty({__proto__:null,s_Et0psVOr3QA:i},Symbol.toStringTag,{value:"Module"})),_=()=>{const[e]=l();return e.value=!e.value},d=Object.freeze(Object.defineProperty({__proto__:null,s_Oc2O0zQdsgE:_},Symbol.toStringTag,{value:"Module"})),b=()=>{const[e]=l();e()},p=Object.freeze(Object.defineProperty({__proto__:null,_hW:r,s_540yPc3E2RA:b},Symbol.toStringTag,{value:"Module"})),g=e=>{const[t]=l();return t.value={...t.value,published:e.target.checked}},v=Object.freeze(Object.defineProperty({__proto__:null,s_q00lGzU6qCM:g},Symbol.toStringTag,{value:"Module"})),y=e=>{const[t]=l();return t.value={...t.value,content:e.target.value}},m=Object.freeze(Object.defineProperty({__proto__:null,s_RJ3Ap4n0gmY:y},Symbol.toStringTag,{value:"Module"})),f=async()=>{const[e,t,n]=l();try{(await fetch("/api/content/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.value)})).ok&&(t.value={title:"",content:"",published:!1},n.value=!1,await e())}catch(s){}},x=Object.freeze(Object.defineProperty({__proto__:null,_hW:r,s_V24BuGzIqHI:f},Symbol.toStringTag,{value:"Module"})),h=async()=>{const[e,t]=l();try{const l=await fetch("/api/content/posts");if(l.ok){const e=await l.json();t.value=e.posts||[]}}catch(n){}finally{e.value=!1}},O=Object.freeze(Object.defineProperty({__proto__:null,_hW:r,s_1WTH03jRCsU:h},Symbol.toStringTag,{value:"Module"})),P=()=>{const l=e([]),r=e(!0),i=e(!1),_=e({title:"",content:"",published:!1}),b=n(()=>a(()=>Promise.resolve().then(()=>O),void 0),"s_1WTH03jRCsU",[r,l]);t(n(()=>a(()=>Promise.resolve().then(()=>p),void 0),"s_540yPc3E2RA",[b]));const g=n(()=>a(()=>Promise.resolve().then(()=>x),void 0),"s_V24BuGzIqHI",[b,_,i]);return s("div",null,null,[s("div",null,{class:"flex justify-between items-center mb-8"},[s("div",null,null,[s("h1",null,{class:"text-3xl font-bold text-gray-900"},"Posts",3,null),s("p",null,{class:"text-gray-600 mt-2"},"Manage your blog posts and articles",3,null)],3,null),s("button",null,{class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",onClick$:n(()=>a(()=>Promise.resolve().then(()=>d),void 0),"s_Oc2O0zQdsgE",[i])},u(l=>l.value?"Cancel":"New Post",[i]),3,null)],3,null),i.value&&s("div",null,{class:"bg-white rounded-lg shadow-sm border p-6 mb-8"},[s("h2",null,{class:"text-xl font-semibold mb-4"},"Create New Post",3,null),s("div",null,{class:"space-y-4"},[s("div",null,null,[s("label",null,{class:"block text-sm font-medium text-gray-700 mb-2"},"Title",3,null),s("input",null,{type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:u(l=>l.value.title,[_]),onInput$:n(()=>a(()=>Promise.resolve().then(()=>c),void 0),"s_Et0psVOr3QA",[_])},null,3,null)],3,null),s("div",null,null,[s("label",null,{class:"block text-sm font-medium text-gray-700 mb-2"},"Content",3,null),s("textarea",null,{rows:6,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:u(l=>l.value.content,[_]),onInput$:n(()=>a(()=>Promise.resolve().then(()=>m),void 0),"s_RJ3Ap4n0gmY",[_])},null,3,null)],3,null),s("div",null,{class:"flex items-center"},[s("input",null,{type:"checkbox",id:"published",class:"mr-2",checked:u(l=>l.value.published,[_]),onChange$:n(()=>a(()=>Promise.resolve().then(()=>v),void 0),"s_q00lGzU6qCM",[_])},null,3,null),s("label",null,{for:"published",class:"text-sm font-medium text-gray-700"},"Publish immediately",3,null)],3,null),s("div",null,{class:"flex space-x-3"},[s("button",null,{class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",onClick$:g},"Create Post",3,null),s("button",null,{class:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400",onClick$:n(()=>a(()=>Promise.resolve().then(()=>T),void 0),"s_bIZQZkM05f0",[i])},"Cancel",3,null)],3,null)],3,null)],3,"J4_0"),s("div",null,{class:"bg-white rounded-lg shadow-sm border"},[s("div",null,{class:"px-6 py-4 border-b"},s("h2",null,{class:"text-lg font-semibold"},"Your Posts",3,null),3,null),s("div",null,{class:"divide-y"},r.value?s("div",null,{class:"px-6 py-8 text-center text-gray-500"},"Loading posts...",3,"J4_1"):0===l.value.length?s("div",null,{class:"px-6 py-8 text-center text-gray-500"},[s("p",null,null,"No posts found.",3,null),s("p",null,{class:"text-sm mt-2"},"Create your first blog post above.",3,null)],3,"J4_2"):l.value.map(l=>s("div",null,{class:"px-6 py-4 hover:bg-gray-50"},s("div",null,{class:"flex items-center justify-between"},[s("div",null,null,[s("h3",null,{class:"font-medium text-gray-900"},o(l,"title"),1,null),s("p",null,{class:"text-sm text-gray-500 mt-1"},[l.content?.substring(0,100),"..."],1,null),s("p",null,{class:"text-xs text-gray-400 mt-1"},["Created: ",new Date(l.created_at).toLocaleDateString()],1,null)],1,null),s("div",null,{class:"flex items-center space-x-3"},[s("span",{class:"px-2 py-1 text-xs rounded-full "+(l.published?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800")},null,l.published?"Published":"Draft",1,null),s("a",{href:`/posts/${l.slug}`},{class:"text-blue-600 hover:text-blue-800 text-sm"},"View â†’",3,null)],1,null)],1,null),1,l.id)),1,null)],1,null)],1,"J4_3")},j=Object.freeze(Object.defineProperty({__proto__:null,s_RWtIVOCEnf0:P},Symbol.toStringTag,{value:"Module"})),E=()=>{const[e]=l();return e.value=!1},T=Object.freeze(Object.defineProperty({__proto__:null,s_bIZQZkM05f0:E},Symbol.toStringTag,{value:"Module"}));export{r as _hW,j as i,h as s_1WTH03jRCsU,b as s_540yPc3E2RA,i as s_Et0psVOr3QA,_ as s_Oc2O0zQdsgE,y as s_RJ3Ap4n0gmY,P as s_RWtIVOCEnf0,f as s_V24BuGzIqHI,E as s_bIZQZkM05f0,g as s_q00lGzU6qCM};
