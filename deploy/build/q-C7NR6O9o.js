import{_ as l}from"./q-Ccds0Gka.js";import{f as e,i as t,q as n,b as a,d as u,o as r,_ as s,F as o,u as i,_hW as c}from"./q-rRPm90by.js";const d=()=>{const i=e([]),c=e(!0),d=e(!1),v=e(""),p=e(!1),m=e(""),x=e(""),f=e(""),w=n(()=>l(()=>Promise.resolve().then(()=>S),void 0),"s_RSy4z08mHuY",[v,c,i]),j=n(()=>l(()=>Promise.resolve().then(()=>g),void 0),"s_U0vSjZxjf0g",[d,v,w,f,x,m,p]),k=n(()=>l(()=>Promise.resolve().then(()=>b),void 0),"s_OHe4b3BmXIA",[x,m]);return t(n(()=>l(()=>Promise.resolve().then(()=>h),void 0),"s_q3arvP17QJ0",[w])),a("div",null,null,[a("div",null,{class:"flex justify-between items-center mb-8"},[a("div",null,null,[a("h1",null,{class:"text-3xl font-bold text-gray-900"},"Pages",3,null),a("p",null,{class:"text-gray-600 mt-2"},"Manage your visual pages and landing pages",3,null)],3,null),a("button",null,{class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",disabled:u(l=>l.value,[d]),onClick$:n(()=>l(()=>Promise.resolve().then(()=>_),void 0),"s_XklD0zp44XY",[v,p])},u(l=>l.value?"Cancel":"Create Page",[p]),3,null)],3,null),v.value&&a("div",null,{class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},a("div",null,{class:"flex"},[a("div",null,{class:"flex-shrink-0"},a("svg",null,{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},a("path",null,{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,3,null),3,null),3,null),a("div",null,{class:"ml-3"},a("p",null,{class:"text-sm text-red-800"},u(l=>l.value,[v]),3,null),3,null)],3,null),3,"h8_0"),p.value&&a("div",null,{class:"bg-white rounded-lg shadow-sm border p-6 mb-8"},[a("h2",null,{class:"text-xl font-semibold mb-4"},"Create New Page",3,null),a("div",null,{class:"space-y-4"},[a("div",null,null,[a("label",null,{class:"block text-sm font-medium text-gray-700 mb-2"},"Page Title *",3,null),a("input",null,{type:"text",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter page title",value:u(l=>l.value,[m]),disabled:u(l=>l.value,[d]),onInput$:n(()=>l(()=>Promise.resolve().then(()=>I),void 0),"s_iUIdYKxt004",[m,k])},null,3,null)],3,null),a("div",null,null,[a("label",null,{class:"block text-sm font-medium text-gray-700 mb-2"},["Page URL Slug",a("span",null,{class:"text-gray-500 text-xs"},"(auto-generated from title)",3,null)],3,null),a("div",null,{class:"flex"},[a("span",null,{class:"inline-flex items-center px-3 rounded-l-lg border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"},"/",3,null),a("input",null,{type:"text",class:"flex-1 border border-gray-300 rounded-r-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your-page-url",value:u(l=>l.value,[x]),disabled:u(l=>l.value,[d]),onInput$:n(()=>l(()=>Promise.resolve().then(()=>C),void 0),"s_P0uR1QIAYP0",[x])},null,3,null)],3,null)],3,null),a("div",null,null,[a("label",null,{class:"block text-sm font-medium text-gray-700 mb-2"},"Description (Optional)",3,null),a("textarea",null,{class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Brief description of the page",rows:3,value:u(l=>l.value,[f]),disabled:u(l=>l.value,[d]),onInput$:n(()=>l(()=>Promise.resolve().then(()=>y),void 0),"s_0CoyY4fcrIQ",[f])},null,3,null)],3,null),a("div",null,{class:"flex gap-2"},[a("button",null,{class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:u((l,e)=>l.value||!e.value.trim(),[d,m]),onClick$:j},[d.value&&a("svg",null,{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[a("circle",null,{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,3,null),a("path",null,{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,3,null)],3,"h8_1"),u(l=>l.value?"Creating...":"Create Page",[d])],1,null),a("button",null,{class:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 disabled:opacity-50",disabled:u(l=>l.value,[d]),onClick$:n(()=>l(()=>Promise.resolve().then(()=>P),void 0),"s_NId9t3ngBME",[v,f,x,m,p])},"Cancel",3,null)],1,null)],1,null)],1,"h8_2"),a("div",null,{class:"bg-white rounded-lg shadow-sm border"},[a("div",null,{class:"px-6 py-4 border-b flex items-center justify-between"},[a("h2",null,{class:"text-lg font-semibold"},"Your Pages",3,null),!c.value&&i.value.length>0&&a("span",null,{class:"text-sm text-gray-500"},[u(l=>l.value.length,[i])," page",u(l=>1===l.value.length?"":"s",[i])],3,"h8_3")],1,null),a("div",null,{class:"divide-y"},c.value?a("div",null,{class:"px-6 py-8 text-center text-gray-500"},a("div",null,{class:"flex items-center justify-center"},[a("svg",null,{class:"animate-spin -ml-1 mr-2 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24"},[a("circle",null,{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,3,null),a("path",null,{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,3,null)],3,null),"Loading pages..."],3,null),3,"h8_4"):0===i.value.length?a("div",null,{class:"px-6 py-12 text-center text-gray-500"},[a("svg",null,{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},a("path",null,{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,3,null),3,null),a("h3",null,{class:"mt-2 text-sm font-medium text-gray-900"},"No pages",3,null),a("p",null,{class:"mt-1 text-sm text-gray-500"},"Get started by creating your first page.",3,null),a("div",null,{class:"mt-6"},a("button",null,{class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",onClick$:n(()=>l(()=>Promise.resolve().then(()=>O),void 0),"s_7wN6ZaymF0U",[v,p])},[a("svg",null,{class:"-ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},a("path",null,{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"},null,3,null),3,null),"Create Page"],3,null),3,null)],3,"h8_5"):i.value.map(l=>a("div",null,{class:"px-6 py-4 hover:bg-gray-50 transition-colors"},a("div",null,{class:"flex items-center justify-between"},[a("div",null,{class:"min-w-0 flex-1"},[a("div",null,{class:"flex items-center"},[a("h3",null,{class:"font-medium text-gray-900 truncate"},r(l,"title"),1,null),a("span",{class:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(l.published?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800")},null,l.published?"Published":"Draft",1,null)],1,null),a("div",null,{class:"mt-1 flex items-center text-sm text-gray-500"},[a("span",null,null,["/",r(l,"slug")],1,null),l.description&&s(o,{children:[a("span",null,{class:"mx-2"},"•",3,null),a("span",null,{class:"truncate"},r(l,"description"),1,null)]},1,"h8_6")],1,null),a("div",null,{class:"mt-2 flex items-center text-xs text-gray-400"},[a("span",null,null,["Created ",new Date(l.created_at).toLocaleDateString()],1,null),a("span",null,{class:"mx-2"},"•",3,null),a("span",null,null,[r(l,"view_count")," view",1===l.view_count?"":"s"],1,null),a("span",null,{class:"mx-2"},"•",3,null),a("span",null,{class:"capitalize"},[r(l,"template")," template"],1,null)],1,null)],1,null),a("div",null,{class:"ml-4 flex items-center space-x-2"},[a("a",{href:`/${l.slug}`},{class:"text-blue-600 hover:text-blue-800 text-sm font-medium",target:"_blank",rel:"noopener noreferrer"},"View →",3,null),a("button",null,{class:"text-gray-400 hover:text-gray-600"},a("svg",null,{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},a("path",null,{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"},null,3,null),3,null),3,null)],1,null)],1,null),1,l.id)),1,null)],1,null)],1,"h8_7")},v=async()=>{const[l,e,t,n,a,u,r]=i();if(u.value.trim())try{l.value=!0,e.value="";const s={title:u.value.trim(),slug:a.value.trim()||void 0,description:n.value.trim()||void 0,template:"default",published:!1},o=await fetch("/api/content/pages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(o.ok)await o.json(),u.value="",a.value="",n.value="",r.value=!1,await t();else{const l=await o.json();e.value=l.error||"Failed to create page"}}catch(s){e.value="Network error creating page"}finally{l.value=!1}else e.value="Page title is required"},g=Object.freeze(Object.defineProperty({__proto__:null,_hW:c,s_U0vSjZxjf0g:v},Symbol.toStringTag,{value:"Module"})),p=()=>{const[l,e]=i();e.value=!e.value,e.value&&(l.value="")},_=Object.freeze(Object.defineProperty({__proto__:null,s_XklD0zp44XY:p},Symbol.toStringTag,{value:"Module"})),m=()=>{const[l,e]=i();!l.value&&e.value&&(l.value=e.value.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))},b=Object.freeze(Object.defineProperty({__proto__:null,_hW:c,s_OHe4b3BmXIA:m},Symbol.toStringTag,{value:"Module"})),x=l=>{const[e]=i();return e.value=l.target.value},y=Object.freeze(Object.defineProperty({__proto__:null,s_0CoyY4fcrIQ:x},Symbol.toStringTag,{value:"Module"})),f=async()=>{const[l]=i();await l()},h=Object.freeze(Object.defineProperty({__proto__:null,_hW:c,s_q3arvP17QJ0:f},Symbol.toStringTag,{value:"Module"})),w=()=>{const[l,e,t,n,a]=i();a.value=!1,l.value="",n.value="",t.value="",e.value=""},P=Object.freeze(Object.defineProperty({__proto__:null,s_NId9t3ngBME:w},Symbol.toStringTag,{value:"Module"})),j=()=>{const[l,e]=i();e.value=!0,l.value=""},O=Object.freeze(Object.defineProperty({__proto__:null,s_7wN6ZaymF0U:j},Symbol.toStringTag,{value:"Module"})),k=async()=>{const[l,e,t]=i();try{e.value=!0,l.value="";const n=await fetch("/api/content/pages");if(n.ok){const l=await n.json();t.value=l.pages||[]}else{const e=await n.json();l.value=e.error||"Failed to load pages"}}catch(n){l.value="Network error loading pages"}finally{e.value=!1}},S=Object.freeze(Object.defineProperty({__proto__:null,_hW:c,s_RSy4z08mHuY:k},Symbol.toStringTag,{value:"Module"})),z=l=>{const[e]=i();return e.value=l.target.value},C=Object.freeze(Object.defineProperty({__proto__:null,s_P0uR1QIAYP0:z},Symbol.toStringTag,{value:"Module"})),E=l=>{const[e,t]=i();e.value=l.target.value,t()},I=Object.freeze(Object.defineProperty({__proto__:null,s_iUIdYKxt004:E},Symbol.toStringTag,{value:"Module"}));export{c as _hW,x as s_0CoyY4fcrIQ,j as s_7wN6ZaymF0U,w as s_NId9t3ngBME,m as s_OHe4b3BmXIA,z as s_P0uR1QIAYP0,k as s_RSy4z08mHuY,v as s_U0vSjZxjf0g,p as s_XklD0zp44XY,d as s_Z1neaZRFYyU,E as s_iUIdYKxt004,f as s_q3arvP17QJ0};
