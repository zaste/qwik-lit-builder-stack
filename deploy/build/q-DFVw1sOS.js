var e,t,n,r=Object.defineProperty,s=(e,t,n)=>((e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);import{_ as i}from"./q-Ccds0Gka.js";const o=document,a="modulepreload",c={t:0,o:25,l:.65},l=o.createElement("link").relList.supports(a)?a:"preload",u=(Date.now(),/\.[mc]?js$/),d=new Map;let h,p=0;const f=[],m=()=>{if(f.length){for(h&&(f.sort((e,t)=>e.u-t.u),h=0);f.length;){const e=f[0],t=1-e.u,n=w?Math.max(1,c.o*t):2;if(!(t>=.99||p<n))break;f.shift(),g(e)}if(c.t&&!f.length){const e=[...d.values()].filter(e=>e.i>0);e.reduce((e,t)=>e+t.p,0),e.reduce((e,t)=>e+t.$,0);e.length,d.size}}},g=e=>{if(e.i>=2)return;p++;const t=Date.now();e.p=t-e.m,e.i=2,c.t&&(Math.round(100*(1-e.u)),e.p,e.B);const n=o.createElement("link");n.href=new URL(`${b}${e.B}`,o.baseURI).toString(),n.rel=l,n.as="script",n.onload=n.onerror=()=>{p--;const r=Date.now();e.$=r-t,e.i=4,c.t&&(e.$,e.B),n.remove(),m()},o.head.appendChild(n)},y=(e,t,n)=>{if(null==n?void 0:n.has(e))return;const r=e.u;if(e.u=t,!(r-e.u<.01)&&(null!=b&&e.i<2&&e.u<c.l&&(0===e.i&&(e.i=1,f.push(e),c.t&&(Math.round(100*(1-e.u)),e.B)),h=1),e.h)){n||(n=new Set),n.add(e);const t=1-e.u;for(const r of e.h){const e=k(r.B);if(0===e.u)continue;let s;if(r.S>.5&&(1===t||t>=.99&&v<100))v++,s=Math.min(.01,1-r.S);else{const n=(1-r.S*t)/r.q;s=Math.max(.02,e.u*n),r.q=n}y(e,s,n)}}},_=(e,t)=>{const n=k(e);n&&n.u>t&&y(n,t)};let v;const $=(e,t)=>{if(!(null==e?void 0:e.length))return;v=0;let n=t?1-t:.4;if(Array.isArray(e))for(let r=e.length-1;r>=0;r--){const t=e[r];"number"==typeof t?n=1-t/10:_(t,n)}else _(e,n);m()};let b,w;document.addEventListener("qsymbol",e=>{const{symbol:t,href:n}=e.detail;if(n){const e=t.slice(t.lastIndexOf("_")+1);$(e,1)}});const S=e=>{const t=new Map;let n=0;for(;n<e.length;){const r=e[n++],s=[];let i,o=1;for(;i=e[n],"number"==typeof i;)i<0?o=-i/10:s.push({B:e[i],S:o,q:1}),n++;t.set(r,s)}return t},k=e=>{let t=d.get(e);if(!t){let n;if(w){if(n=w.get(e),!n)return;n.length||(n=void 0)}t=((e,t)=>({B:e,i:u.test(e)?0:3,h:t,u:1,m:Date.now(),p:0,$:0}))(e,n),d.set(e,t)}return t},T=(e,t,n)=>{n&&("d"in n&&(c.t=!!n.d),"P"in n&&(c.o=n.P),"Q"in n&&(c.l=1-n.Q)),null!=e&&(b=e,t&&t.then(e=>e.text()).then(e=>{w=S(JSON.parse(e));const t=[];for(const[n,r]of w.entries()){const e=k(n);e.h=r,e.u<1&&(t.push([e,e.u]),e.u=1)}c.t&&(w.size,t.length);for(const[n,r]of t)y(n,r);m()}).catch(console.warn))},E=!1,x=!1!==globalThis.qDynamicPlatform,C=!0===globalThis.qRuntimeQrl,I=e=>e&&"number"==typeof e.nodeType,R=e=>1===e.nodeType,O=e=>{const t=e.nodeType;return 1===t||111===t},A=e=>{const t=e.nodeType;return 1===t||111===t||3===t},P=e=>111===e.nodeType,M=e=>3===e.nodeType,D=e=>8===e.nodeType,N=(e,...t)=>j(!1,e,...t),L=(e,...t)=>j(E,e,...t),j=(e,t,...n)=>t instanceof Error?t:new Error(t);function U(e,t,...n){}function q(e,t,n,...r){}function F(e,t,...n){}function z(e){}const B=(e,...t)=>`Code(${e}) https://github.com/QwikDev/qwik/blob/main/packages/qwik/src/core/error/error.ts#L${8+e}`,W=(e,...t)=>{const n=B(e,...t);return L(n,...t)},H=()=>({isServer:false,importSymbol(e,t,n){if(!t)throw W(31,n);if(!e)throw W(30,t,n);const r=V(e.ownerDocument,e,t).toString(),s=new URL(r);s.hash="";const i=s.href;return import(i).then(e=>e[n])},raf:e=>new Promise(t=>{requestAnimationFrame(()=>{t(e())})}),nextTick:e=>new Promise(t=>{setTimeout(()=>{t(e())})}),chunkForSymbol:(e,t)=>[e,t??"_"]}),V=(e,t,n)=>{const r=e.baseURI,s=new URL(t.getAttribute("q:base")??r,r);return new URL(n,s)};let G=H();const K=()=>G,J=()=>!!x&&G.isServer,Y=e=>{const t=Object.getPrototypeOf(e);return t===Object.prototype||null===t},X=e=>!!e&&"object"==typeof e,Q=e=>Array.isArray(e),Z=e=>"string"==typeof e,ee=e=>"function"==typeof e,te=e=>e&&"function"==typeof e.then,ne=(e,t,n)=>{try{const r=e();return te(r)?r.then(t,n):t(r)}catch(r){return n(r)}},re=(e,t)=>te(e)?e.then(t):t(e),se=e=>e.some(te)?Promise.all(e):e,ie=e=>e.length>0?Promise.all(e):e,oe=e=>null!=e,ae=e=>new Promise(t=>{setTimeout(t,e)}),ce=[],le={},ue=e=>{if(!x)return document;if("undefined"!=typeof document)return document;if(9===e.nodeType)return e;return e.ownerDocument},de="q:renderFn",he="q:slot",pe="q:sref",fe="q:s",me="q:style",ge="q:instance",ye=(e,t)=>e["qFuncs_"+t]||[],_e="q:container",ve="[q\\:container]",$e="qRender",be="qTask",we="q:id",Se=Symbol("proxy target"),ke=Symbol("proxy flags"),Te=Symbol("proxy manager"),Ee=Symbol("IMMUTABLE"),xe="$$",Ce="__virtual",Ie="_qc_",Re=(e,t,n)=>e.setAttribute(t,n),Oe=(e,t)=>e.getAttribute(t),Ae=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase(),Pe=(e,t,n=0)=>{const r=t.$proxyMap$.get(e);return r||(0!==n&&Ne(e,n),Me(e,t,void 0))},Me=(e,t,n)=>{Di(e),t.$proxyMap$.has(e);const r=t.$subsManager$.$createManager$(n),s=new Proxy(e,new Le(t,r));return t.$proxyMap$.set(e,s),s},De=()=>{const e={};return Ne(e,2),e},Ne=(e,t)=>{Object.defineProperty(e,ke,{value:t,enumerable:!1})};class Le{constructor(e,t){s(this,"$containerState$"),s(this,"$manager$"),this.$containerState$=e,this.$manager$=t}deleteProperty(e,t){if(2&e[ke])throw W(17);return"string"==typeof t&&delete e[t]&&(this.$manager$.$notifySubs$(Q(e)?void 0:t),!0)}get(e,t){if("symbol"==typeof t)return t===Se?e:t===Te?this.$manager$:e[t];const n=e[ke]??0,r=Dn(),s=!!(1&n),i=!!(2&n),o=e[xe+t];let a,c;if(r&&(a=r.$subscriber$),!i||t in e&&!je(e[Ee]?.[t])||(a=null),o?(c=o.value,a=null):c=e[t],a){const n=Q(e);this.$manager$.$addSub$(a,n?void 0:t)}return s?Ue(c,this.$containerState$):c}set(e,t,n){if("symbol"==typeof t)return e[t]=n,!0;const r=e[ke]??0;if(!!(2&r))throw W(17);const s=!!(1&r)?Di(n):n;if(Q(e))return e[t]=s,this.$manager$.$notifySubs$(),!0;const i=e[t];return e[t]=s,i!==s&&this.$manager$.$notifySubs$(t),!0}has(e,t){if(t===Se)return!0;const n=Dn();if("string"==typeof t&&n){const r=n.$subscriber$;if(r){const n=Q(e);this.$manager$.$addSub$(r,n?void 0:t)}}const r=Object.prototype.hasOwnProperty;return!!r.call(e,t)||!("string"!=typeof t||!r.call(e,xe+t))}ownKeys(e){if(!!!(2&(e[ke]??0))){let e=null;const t=Dn();t&&(e=t.$subscriber$),e&&this.$manager$.$addSub$(e)}return Q(e)?Reflect.ownKeys(e):Reflect.ownKeys(e).map(e=>"string"==typeof e&&e.startsWith(xe)?e.slice(2):e)}getOwnPropertyDescriptor(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return Q(e)||"symbol"==typeof t||n&&!n.configurable?n:{enumerable:!0,configurable:!0}}}const je=e=>e===Ee||sr(e),Ue=(e,t)=>{if(X(e)){if(Object.isFrozen(e))return e;const n=Di(e);if(n!==e)return e;if(Ai(n))return e;if(Y(n)||Q(n)){const e=t.$proxyMap$.get(n);return e||Pe(n,t,1)}}return e},qe=/^(on|window:|document:)/,Fe="preventdefault:",ze=e=>e.endsWith("$")&&qe.test(e),Be=(e,t,n,r)=>{if(t.endsWith("$"),t=Ve(t.slice(0,-1)),n)if(Q(n)){const s=n.flat(1/0).filter(e=>null!=e).map(e=>[t,Ge(e,r)]);e.push(...s)}else e.push([t,Ge(n,r)]);return t},We=["on","window:on","document:on"],He=["on","on-window","on-document"],Ve=e=>{let t="on";for(let n=0;n<We.length;n++){const r=We[n];if(e.startsWith(r)){t=He[n],e=e.slice(r.length);break}}return t+":"+(e=e.startsWith("-")?Ae(e.slice(1)):e.toLowerCase())},Ge=(e,t)=>{const n=Wi(e)?e:eo(e);return n.$setContainer$(t),n},Ke=(e,t)=>`${((e,t=0)=>{for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return Number(Math.abs(t)).toString(36)})(e.$hash$)}-${t}`,Je=()=>{const e=Ln(),t=e.$hostElement$,n=Cn(t,e.$renderCtx$.$static$.$containerState$),r=n.$seq$||(n.$seq$=[]),s=e.$i$++;return{val:r[s],set:e=>r[s]=e,i:s,iCtx:e,elCtx:n}},Ye=e=>(/^[\w/.-]+$/.test(e),Object.freeze({id:Ae(e)})),Xe=(e,t)=>{const{val:n,set:r,elCtx:s}=Je();if(void 0!==n)return;(s.$contexts$||(s.$contexts$=new Map)).set(e.id,t),r(!0)},Qe=(e,t)=>{const{val:n,set:r,iCtx:s,elCtx:i}=Je();if(void 0!==n)return n;const o=et(e,i,s.$renderCtx$.$static$.$containerState$);if("function"==typeof t)return r(qn(void 0,t,o));if(void 0!==o)return r(o);if(void 0!==t)return r(t);throw W(13,e.id)},Ze=(e,t)=>(void 0===e.$parentCtx$&&(e.$parentCtx$=((e,t)=>{let n=e,r=1;for(;n&&!n.hasAttribute?.("q:container");){for(;n=n.previousSibling;)if(D(n)){const e=n[Ce];if(e){const r=e[Ie];if(n===e.open)return r??Cn(e,t);if(r?.$parentCtx$)return r.$parentCtx$;n=e;continue}if("/qv"===n.data)r++;else if(n.data.startsWith("qv ")&&(r--,0===r))return Cn(Cs(n),t)}n=e.parentElement,e=n}return null})(e.$element$,t)),e.$parentCtx$),et=(e,t,n)=>{const r=e.id;if(!t)return;let s=t;for(;s;){const e=s.$contexts$?.get(r);if(e)return e;s=Ze(s,n)}},tt=Ye("qk-error"),nt=(e,t,n)=>{const r=xn(t);if(J())throw e;{const t=et(tt,r,n.$static$.$containerState$);if(void 0===t)throw e;t.error=e}},rt=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexShrink","gridArea","gridRow","gridRowEnd","gridRowStart","gridColumn","gridColumnEnd","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","MozAnimationIterationCount","MozBoxFlex","msFlex","msFlexPositive","WebkitAnimationIterationCount","WebkitBoxFlex","WebkitBoxOrdinalGroup","WebkitColumnCount","WebkitColumns","WebkitFlex","WebkitFlexGrow","WebkitFlexShrink","WebkitLineClamp"]),st=(e,t,n)=>{t.$flags$&=-2,t.$flags$|=En,t.$slots$=[],t.li.length=0;const r=t.$element$,s=t.$componentQrl$,i=t.$props$,o=Wn(e.$static$.$locale$,r,void 0,$e),a=o.$waitOn$=[],c=it(e);c.$cmpCtx$=t,c.$slotCtx$=void 0,o.$subscriber$=[0,r],o.$renderCtx$=e,s.$setContainer$(e.$static$.$containerState$.$containerEl$);const l=s.getFn(o);return ne(()=>l(i),r=>re(J()?re(ie(a),()=>re(en(e.$static$.$containerState$,e),()=>ie(a))):ie(a),()=>{if(t.$flags$&kn){if(!(n&&n>100))return st(e,t,n?n+1:1);t.$componentQrl$}return{node:r,rCtx:c}}),s=>{if(s===Zn){if(!(n&&n>100))return re(ie(a),()=>st(e,t,n?n+1:1));t.$componentQrl$}return nt(s,r,e),{node:St,rCtx:c}})},it=e=>({$static$:e.$static$,$cmpCtx$:e.$cmpCtx$,$slotCtx$:e.$slotCtx$}),ot=(e,t)=>t?.$scopeIds$?.length?t.$scopeIds$.join(" ")+" "+at(e):at(e),at=e=>{if(!e)return"";if(Z(e))return e.trim();const t=[];if(Q(e))for(const n of e){const e=at(n);e&&t.push(e)}else for(const[n,r]of Object.entries(e))r&&t.push(n.trim());return t.join(" ")},ct=e=>{if(null==e)return"";if("object"==typeof e){if(Q(e))throw W(0,e,"style");{const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];null!=r&&"function"!=typeof r&&(n.startsWith("--")?t.push(n+":"+r):t.push(Ae(n)+":"+lt(n,r)))}return t.join(";")}}return String(e)},lt=(e,t)=>{return"number"!=typeof t||0===t||(n=e,rt.has(n))?t:t+"px";var n},ut=(e,t)=>{const n=pr(e.$static$.$containerState$.$elementIndex$++);t.$id$=n},dt=e=>sr(e)?dt(e.value):null==e||"boolean"==typeof e?"":String(e);const ht="dangerouslySetInnerHTML",pt=(e,t,n)=>new nr(e,t,n),ft=(e,t,n,r,s,i,o)=>{const a=null==i?null:String(i);return new vt(e,t||le,n,r,s,a)},mt=(e,t,n,r,s,i)=>{let o=null;return t&&"children"in t&&(o=t.children,delete t.children),ft(e,t,n,o,r,s)},gt=(e,t,n,r,s)=>{const i=null==r?null:String(r),o=t??{};if("string"==typeof e&&Ee in o){const t=o[Ee];delete o[Ee];const s=o.children;delete o.children;for(const[e,n]of Object.entries(t))n!==Ee&&(delete o[e],o[e]=n);return ft(e,null,o,s,n,r)}const a=new vt(e,o,null,o.children,n,i);return"string"==typeof e&&t&&delete t.children,a},yt=(e,t,n)=>{const r=Vn(()=>{const n=t.children;return"string"==typeof e&&delete t.children,n});Z(e)&&"className"in t&&(t.class=t.className,delete t.className);return new vt(e,t,null,r,0,null)},_t=":skipRender";class vt{constructor(e,t,n,r,i,o=null){s(this,"type"),s(this,"props"),s(this,"immutableProps"),s(this,"children"),s(this,"flags"),s(this,"key"),s(this,"dev"),this.type=e,this.props=t,this.immutableProps=n,this.children=r,this.flags=i,this.key=o}}const $t=e=>e.children,bt=e=>e instanceof vt,wt=e=>e.children,St=Symbol("skip render"),kt=(e,t,n)=>{const r=!(t.$flags$&En),s=t.$element$,i=e.$static$.$containerState$;return i.$hostsStaging$.delete(t),i.$subsManager$.$clearSub$(s),re(st(e,t),i=>{const o=e.$static$,a=i.rCtx,c=Wn(e.$static$.$locale$,s);if(o.$hostElements$.add(s),c.$subscriber$=[0,s],c.$renderCtx$=a,r&&t.$appendStyles$)for(const e of t.$appendStyles$)us(o,e);const l=It(i.node,c);return re(l,e=>{const r=Ct(s,e),i=Tt(t);return re(vr(a,i,r,n),()=>{t.$vdom$=r})})})},Tt=e=>(e.$vdom$||(e.$vdom$=Tr(e.$element$)),e.$vdom$);class Et{constructor(e,t,n,r,i,o){s(this,"$type$"),s(this,"$props$"),s(this,"$immutableProps$"),s(this,"$children$"),s(this,"$flags$"),s(this,"$key$"),s(this,"$elm$",null),s(this,"$text$",""),s(this,"$signal$",null),s(this,"$id$"),s(this,"$dev$"),this.$type$=e,this.$props$=t,this.$immutableProps$=n,this.$children$=r,this.$flags$=i,this.$key$=o,this.$id$=e+(o?":"+o:"")}}const xt=(e,t)=>{const{key:n,type:r,props:s,children:i,flags:o,immutableProps:a}=e;let c="";if(Z(r))c=r;else{if(r!==$t){if(ee(r)){const i=qn(t,r,s,n,o,e.dev);return((e,t)=>!!t.key&&(!bt(e)||!ee(e.type)&&e.key!=t.key))(i,e)?xt(gt($t,{children:i},0,n),t):It(i,t)}throw W(25,r)}c=Ts}let l=ce;if(null!=i)return re(It(i,t),e=>{void 0!==e&&(l=Q(e)?e:[e]);return new Et(c,s,a,l,o,n)});return new Et(c,s,a,l,o,n)},Ct=(e,t)=>{const n=void 0===t?ce:Q(t)?t:[t],r=new Et(":virtual",{},null,n,0,null);return r.$elm$=e,r},It=(e,t)=>{if(null!=e&&"boolean"!=typeof e){if(Rt(e)){const t=new Et("#text",le,null,ce,0,null);return t.$text$=String(e),t}if(bt(e))return xt(e,t);if(sr(e)){const t=new Et("#signal",le,null,ce,0,null);return t.$signal$=e,t}if(Q(e)){const n=se(e.flatMap(e=>It(e,t)));return re(n,e=>e.flat(100).filter(oe))}return te(e)?e.then(e=>It(e,t)):e===St?new Et(_t,le,null,ce,0,null):void 0}},Rt=e=>Z(e)||"number"==typeof e,Ot=e=>{"paused"===Oe(e,_e)&&Pt(e)},At=(e,t)=>{const n=JSON.parse(e);if("object"!=typeof n)return null;const{_objs:r,_entry:s}=n;if(void 0===r||void 0===s)return null;let i={},o={};if(I(t)&&O(t)){const e=Hn(t);e&&(o=cr(e),i=e.ownerDocument)}const a=Ei(o,i);for(let l=0;l<r.length;l++){const e=r[l];Z(e)&&(r[l]=e===Qs?void 0:a.prepare(e))}const c=e=>r[fr(e)];for(const l of r)Dt(l,c,a);return c(s)},Pt=e=>{if(!hr(e))return;const t=e._qwikjson_??(e=>{const t=ue(e),n=e===t.documentElement?t.body:e,r=Lt(n,"type");if(r){const e=r.firstChild.data;return JSON.parse(Nt(e)||"{}")}})(e);if(e._qwikjson_=null,!t)return;const n=ue(e),r=e.getAttribute(ge);e===n.documentElement&&n.body;const s=ye(n,r),i=cr(e),o=new Map,a=new Map;let c=null,l=0;const u=n.createTreeWalker(e,dr);for(;c=u.nextNode();){const e=c.data;if(0===l)if(e.startsWith("qv ")){const t=Ut(e);t>=0&&o.set(t,c)}else if(e.startsWith("t=")){const t=e.slice(2),n=fr(t),r=jt(c);o.set(n,r),a.set(n,r.data)}"cq"===e?l++:"/cq"===e&&l--}const d=0!==e.getElementsByClassName("qc📦").length;e.querySelectorAll("[q\\:id]").forEach(t=>{if(d&&t.closest("[q\\:container]")!==e)return;const n=Oe(t,we),r=fr(n);o.set(r,t)});const h=Ei(i,n),p=new Map,f=new Set,m=e=>("string"==typeof e&&e.length,p.has(e)?p.get(e):g(e)),g=e=>{if(e.startsWith("#")){const t=e.slice(1),n=fr(t);o.has(n);const r=o.get(n);if(D(r)){if(!r.isConnected)return void p.set(e,void 0);const t=Cs(r);return p.set(e,t),Cn(t,i),t}return R(r)?(p.set(e,r),Cn(r,i),r):(p.set(e,r),r)}if(e.startsWith("@")){const t=e.slice(1),n=fr(t),r=s[n];return r}if(e.startsWith("*")){const t=e.slice(1),n=fr(t);o.has(n);const r=a.get(n);return p.set(e,r),r}const n=fr(e),r=t.objs;r.length;let c=r[n];Z(c)&&(c=c===Qs?void 0:h.prepare(c));let l=c;for(let t=e.length-1;t>=0;t--){const n=e[t],r=xi[n];if(!r)break;l=r(l,i)}return p.set(e,l),Rt(c)||f.has(n)||(f.add(n),Mt(c,n,t.subs,m,i,h),Dt(c,m,h)),l};var y,_,v,$;i.$elementIndex$=1e5,i.$pauseCtx$={getObject:m,meta:t.ctx,refs:t.refs},Re(e,_e,"resumed"),_="qresume",v=void 0,$=!0,(y=e)&&y.dispatchEvent(new CustomEvent(_,{detail:v,bubbles:$,composed:$}))},Mt=(e,t,n,r,s,i)=>{const o=n[t];if(o){const t=[];let n=0;for(const e of o)if(e.startsWith("_"))n=parseInt(e.slice(1),10);else{const n=Ui(e,r);n&&t.push(n)}if(n>0&&Ne(e,n),!i.subs(e,t)){const n=s.$proxyMap$.get(e);n?Li(n).$addSubs$(t):Me(e,s,t)}}},Dt=(e,t,n)=>{if(!n.fill(e,t)&&e&&"object"==typeof e)if(Q(e))for(let r=0;r<e.length;r++)e[r]=t(e[r]);else if(Y(e))for(const r in e)e[r]=t(e[r])},Nt=e=>e.replace(/\\x3C(\/?script)/gi,"<$1"),Lt=(e,t)=>{let n=e.lastElementChild;for(;n;){if("SCRIPT"===n.tagName&&"qwik/json"===Oe(n,t))return n;n=n.previousElementSibling}},jt=e=>{const t=e.nextSibling;if(M(t))return t;{const t=e.ownerDocument.createTextNode("");return e.parentElement.insertBefore(t,e),t}},Ut=e=>{const t=e.indexOf("q:id=");return t>0?fr(e.slice(t+5)):-1},qt=()=>{const e=Nn();let t=e.$qrl$;if(t)t.$captureRef$;else{const n=e.$element$,r=Hn(n);t=Hs(decodeURIComponent(String(e.$url$)),r),Ot(r);const s=Cn(n,cr(r));Gs(t,s)}return t.$captureRef$},Ft=(e,t)=>{try{const n=t[0],r=e.$static$;switch(n){case 1:case 2:{let e,s;1===n?(e=t[1],s=t[3]):(e=t[3],s=t[1]);const i=xn(e);if(null==i)return;const o=t[4],a=e.namespaceURI===mr;r.$containerState$.$subsManager$.$clearSignal$(t);let c=Kn(t[2],t.slice(0,-1));"class"===o?c=ot(c,xn(s)):"style"===o&&(c=ct(c));const l=Tt(i);if(o in l.$props$&&l.$props$[o]===c)return;return l.$props$[o]=c,Br(r,e,o,c,a)}case 3:case 4:{const n=t[3];if(!r.$visited$.includes(n)){r.$containerState$.$subsManager$.$clearSignal$(t);const s=void 0;let i=Kn(t[2],t.slice(0,-1));const o=Bi;Array.isArray(i)&&(i=new vt($t,{},null,i,0,null));let a=It(i,s);if(te(a))N("Rendering promises in JSX signals is not supported");else{void 0===a&&(a=It("",s));const i=kr(n),c=function(e){for(;e;){if(O(e))return e;e=e.parentElement}throw new Error("Not found")}(t[1]);if(e.$cmpCtx$=Cn(c,e.$static$.$containerState$),i.$type$==a.$type$&&i.$key$==a.$key$&&i.$id$==a.$id$)Rr(e,i,a,0);else{const t=[],s=i.$elm$,c=Nr(e,a,0,t);t.length&&N("Rendering promises in JSX signals is not supported"),o[3]=c,as(e.$static$,n.parentElement,c,s),s&&fs(r,s)}}}}}}catch(n){}};const zt=(e,t)=>{if(0===e[0]){const n=e[1];wn(n)?Ht(n,t):Bt(n,t)}else Wt(e,t)},Bt=(e,t)=>{const n=J();n||Ot(t.$containerEl$);const r=Cn(e,t);if(r.$componentQrl$,r.$flags$&kn)return;r.$flags$|=kn;if(void 0!==t.$hostsRendering$)t.$hostsStaging$.add(r);else{if(n)return;t.$hostsNext$.add(r),Vt(t)}},Wt=(e,t)=>{const n=void 0!==t.$hostsRendering$;t.$opsNext$.add(e),n||Vt(t)},Ht=(e,t)=>{if(e.$flags$&hn)return;e.$flags$|=hn;void 0!==t.$hostsRendering$?t.$taskStaging$.add(e):(t.$taskNext$.add(e),Vt(t))},Vt=e=>(void 0===e.$renderPromise$&&(e.$renderPromise$=K().nextTick(()=>Kt(e))),e.$renderPromise$),Gt=()=>{const[e]=qt();Ht(e,cr(Hn(e.$el$)))},Kt=async e=>{const t=e.$containerEl$,n=ue(t);try{const s=((e,t)=>{const n={$static$:{$doc$:e,$locale$:t.$serverData$.locale,$containerState$:t,$hostElements$:new Set,$operations$:[],$postOperations$:[],$roots$:[],$addSlots$:[],$rmSlots$:[],$visited$:[]},$cmpCtx$:null,$slotCtx$:void 0};return n})(n,e),i=s.$static$,o=e.$hostsRendering$=new Set(e.$hostsNext$);e.$hostsNext$.clear(),await Zt(e,s),e.$hostsStaging$.forEach(e=>{o.add(e)}),e.$hostsStaging$.clear();const a=Array.from(e.$opsNext$);e.$opsNext$.clear();const c=Array.from(o);if(nn(c),!e.$styleMoved$&&c.length>0){e.$styleMoved$=!0;(t===n.documentElement?n.body:t).querySelectorAll("style[q\\:style]").forEach(t=>{e.$styleIds$.add(Oe(t,me)),ls(i,n.head,t)})}for(const e of c){const t=e.$element$;if(!i.$hostElements$.has(t)&&e.$componentQrl$){F(t.isConnected),i.$roots$.push(e);try{await kt(s,e,Jt(t.parentElement))}catch(r){N(r)}}}return a.forEach(e=>{Ft(s,e)}),i.$operations$.push(...i.$postOperations$),0===i.$operations$.length?(bs(i),void(await Yt(e,s))):(await Kr(i),bs(i),Yt(e,s))}catch(r){N(r)}},Jt=e=>{let t=0;return e&&(e.namespaceURI===mr&&(t|=gr),"HEAD"===e.tagName&&(t|=yr)),t},Yt=async(e,t)=>{const n=t.$static$.$hostElements$;await tn(e,t,(e,t)=>0!==(e.$flags$&ln)&&(!t||n.has(e.$el$))),e.$hostsStaging$.forEach(t=>{e.$hostsNext$.add(t)}),e.$hostsStaging$.clear(),e.$hostsRendering$=void 0,e.$renderPromise$=void 0;e.$hostsNext$.size+e.$taskNext$.size+e.$opsNext$.size>0&&(e.$renderPromise$=Kt(e))},Xt=e=>0!==(e.$flags$&un),Qt=e=>0!==(e.$flags$&dn),Zt=async(e,t)=>{const n=e.$containerEl$,r=[],s=[];e.$taskNext$.forEach(t=>{Xt(t)&&(s.push(re(t.$qrl$.$resolveLazy$(n),()=>t)),e.$taskNext$.delete(t)),Qt(t)&&(r.push(re(t.$qrl$.$resolveLazy$(n),()=>t)),e.$taskNext$.delete(t))});do{if(e.$taskStaging$.forEach(t=>{Xt(t)?s.push(re(t.$qrl$.$resolveLazy$(n),()=>t)):Qt(t)?r.push(re(t.$qrl$.$resolveLazy$(n),()=>t)):e.$taskNext$.add(t)}),e.$taskStaging$.clear(),s.length>0){const n=await Promise.all(s);rn(n),await Promise.all(n.map(n=>mn(n,e,t))),s.length=0}}while(e.$taskStaging$.size>0);if(r.length>0){const n=await Promise.all(r);rn(n);for(const r of n)mn(r,e,t)}},en=(e,t)=>{const n=e.$containerEl$,r=e.$taskStaging$;if(!r.size)return;const s=[];let i=20;const o=()=>{if(r.forEach(e=>{Xt(e)&&s.push(re(e.$qrl$.$resolveLazy$(n),()=>e))}),r.clear(),s.length>0)return Promise.all(s).then(async n=>{if(rn(n),await Promise.all(n.map(n=>mn(n,e,t))),s.length=0,--i&&r.size>0)return o();i||Array.from(r).map(e=>`  ${e.$qrl$.$symbol$}`).join("\n")})};return o()},tn=async(e,t,n)=>{const r=[],s=e.$containerEl$;e.$taskNext$.forEach(t=>{n(t,!1)&&(t.$el$.isConnected&&r.push(re(t.$qrl$.$resolveLazy$(s),()=>t)),e.$taskNext$.delete(t))});do{if(e.$taskStaging$.forEach(t=>{t.$el$.isConnected&&(n(t,!0)?r.push(re(t.$qrl$.$resolveLazy$(s),()=>t)):e.$taskNext$.add(t))}),e.$taskStaging$.clear(),r.length>0){const n=await Promise.all(r);rn(n);for(const r of n)mn(r,e,t);r.length=0}}while(e.$taskStaging$.size>0)},nn=e=>{e.sort((e,t)=>2&e.$element$.compareDocumentPosition(Is(t.$element$))?1:-1)},rn=e=>{const t=J();e.sort((e,n)=>t||e.$el$===n.$el$?e.$index$<n.$index$?-1:1:2&e.$el$.compareDocumentPosition(Is(n.$el$))?1:-1)},sn=(e,t)=>{an(on(e,"document"),t)},on=(e,t)=>{const n=void 0!==t?t+":":"";return Array.isArray(e)?e.map(e=>`${n}on-${e}`):`${n}on-${e}`},an=(e,t)=>{if(t){const n=Ln(),r=Cn(n.$hostElement$,n.$renderCtx$.$static$.$containerState$);"string"==typeof e?r.li.push([Ve(e),t]):r.li.push(...e.map(e=>[Ve(e),t])),r.$flags$|=Tn}},cn=e=>(e=>{const{val:t,set:n}=Je();return null!=t?t:n(e=ee(e)&&!ro(e)?e():e)})(()=>(e=>{const t=jn(),n=ee(e)&&!ro(e)?qn(void 0,e):e;return Xn(n,t,0)})(e)),ln=1,un=2,dn=4,hn=16,pn=(e,t)=>{const{val:n,set:r,iCtx:s,i:i,elCtx:o}=Je();if(n)return;const a=s.$renderCtx$.$static$.$containerState$,c=new Sn(hn|un,i,o.$element$,e,void 0);r(!0),e.$resolveLazy$(a.$containerEl$),o.$tasks$||(o.$tasks$=[]),o.$tasks$.push(c),zn(s,()=>yn(c,a,s.$renderCtx$)),J()&&$n(c,t?.eagerness)},fn=(e,t)=>{const{val:n,set:r,i:s,iCtx:i,elCtx:o}=Je(),a=t?.strategy??"intersection-observer";if(n)return void(J()&&$n(n,a));const c=new Sn(ln,s,o.$element$,e,void 0),l=i.$renderCtx$.$static$.$containerState$;o.$tasks$||(o.$tasks$=[]),o.$tasks$.push(c),r(c),$n(c,a),J()||(e.$resolveLazy$(l.$containerEl$),Ht(c,l))},mn=async(e,t,n)=>(e.$flags$,(e=>0!==(e.$flags$&dn))(e)?gn(e,t,n):(e=>!!(8&e.$flags$))(e)?_n(e,t,n):yn(e,t,n)),gn=(e,t,n,r)=>{e.$flags$&=-17,vn(e);const s=e.$el$,i=Wn(n.$static$.$locale$,s,void 0,be),{$subsManager$:o}=t;i.$renderCtx$=n;const a=e.$qrl$.getFn(i,()=>{o.$clearSub$(e)}),c=[],l=e.$state$,u=Di(l),d={track:(t,r)=>{if(ee(t)){const r=Wn();return r.$renderCtx$=n,r.$subscriber$=[0,e],qn(r,t)}const s=Li(t);return s?s.$addSub$([0,e],r):L(B(26),t),r?t[r]:sr(t)?t.value:t},cleanup(e){c.push(e)},cache(e){let t=0;t="immutable"===e?1/0:e,l._cache=t},previous:u._resolved};let h,p,f=!1;const m=(e,t)=>!f&&(f=!0,e?(f=!0,l.loading=!1,l._state="resolved",l._resolved=t,l._error=void 0,h(t)):(f=!0,l.loading=!1,l._state="rejected",l._error=t,p(t)),!0);qn(i,()=>{l._state="pending",l.loading=!J(),l.value=new Promise((e,t)=>{h=e,p=t})}),e.$destroy$=Mi(()=>{f=!0,c.forEach(e=>e())});const g=ne(()=>re(r,()=>a(d)),e=>{m(!0,e)},e=>{m(!1,e)}),y=u._timeout;return y>0?Promise.race([g,ae(y).then(()=>{m(!1,new Error("timeout"))&&vn(e)})]):g},yn=(e,t,n)=>{e.$flags$&=-17,vn(e);const r=e.$el$,s=Wn(n.$static$.$locale$,r,void 0,be);s.$renderCtx$=n;const{$subsManager$:i}=t,o=e.$qrl$.getFn(s,()=>{i.$clearSub$(e)}),a=[];e.$destroy$=Mi(()=>{a.forEach(e=>e())});const c={track:(t,n)=>{if(ee(t)){const n=Wn();return n.$subscriber$=[0,e],qn(n,t)}const r=Li(t);return r?r.$addSub$([0,e],n):L(B(26),t),n?t[n]:sr(t)?t.value:t},cleanup(e){a.push(e)}};return ne(()=>o(c),e=>{ee(e)&&a.push(e)},e=>{nt(e,r,n)})},_n=(e,t,n)=>{e.$state$,e.$flags$&=-17,vn(e);const r=e.$el$,s=Wn(n.$static$.$locale$,r,void 0,"qComputed");s.$subscriber$=[0,e],s.$renderCtx$=n;const{$subsManager$:i}=t,o=e.$qrl$.getFn(s,()=>{i.$clearSub$(e)}),a=t=>{Vn(()=>{const n=e.$state$;n[Qn]&=-3,n.untrackedValue=t,n[Te].$notifySubs$()})},c=e=>{nt(e,r,n)};try{return re(e.$qrl$.$resolveLazy$(t.$containerEl$),()=>{const e=o();if(te(e)){const t="useComputed$: Async functions in computed tasks are deprecated and will stop working in v2. Use useTask$ or useResource$ instead.",n=new Error(t).stack;if(n){n.replace(/^Error:\s*/,"")}else;return e.then(a,c)}a(e)})}catch(l){c(l)}},vn=e=>{const t=e.$destroy$;if(t){e.$destroy$=void 0;try{t()}catch(n){N(n)}}},$n=(e,t)=>{var n,r;"visible"===t||"intersection-observer"===t?(n="qvisible",r=bn(e),an(on(n,void 0),r)):"load"===t||"document-ready"===t?sn("qinit",bn(e)):"idle"!==t&&"document-idle"!==t||sn("qidle",bn(e))},bn=e=>{const t=e.$qrl$,n=Gi(t.$chunk$,"_hW",Gt,null,null,[e],t.$symbol$);return t.dev&&(n.dev=t.dev),n},wn=e=>X(e)&&e instanceof Sn;let Sn=class{constructor(e,t,n,r,i){s(this,"$flags$"),s(this,"$index$"),s(this,"$el$"),s(this,"$qrl$"),s(this,"$state$"),this.$flags$=e,this.$index$=t,this.$el$=n,this.$qrl$=r,this.$state$=i}};const kn=1,Tn=2,En=4,xn=e=>e[Ie],Cn=(e,t)=>{const n=xn(e);if(n)return n;const r=Rn(e),s=Oe(e,"q:id");if(s){const n=t.$pauseCtx$;if(r.$id$=s,n){const{getObject:o,meta:a,refs:c}=n;if(function(e){return e&&"number"==typeof e.nodeType}(i=e)&&1===i.nodeType){const e=c[s];e&&(r.$refMap$=e.split(" ").map(o),r.li=((e,t)=>{const n=e.$element$.attributes,r=[];for(let s=0;s<n.length;s++){const{name:i,value:o}=n.item(s);if(i.startsWith("on:")||i.startsWith("on-window:")||i.startsWith("on-document:")){const n=o.split("\n");for(const s of n){const n=Hs(s,t);n.$capture$&&Gs(n,e),r.push([i,n])}}}return r})(r,t.$containerEl$))}else{const n=e.getAttribute("q:sstyle");r.$scopeIds$=n?n.split("|"):null;const i=a[s];if(i){const e=i.s,n=i.h,s=i.c,a=i.w;if(e&&(r.$seq$=e.split(" ").map(o)),a&&(r.$tasks$=a.split(" ").map(o)),s){r.$contexts$=new Map;for(const e of s.split(" ")){const[t,n]=e.split("=");r.$contexts$.set(t,o(n))}}if(n){const[e,s]=n.split(" ");if(r.$flags$=En,e&&(r.$componentQrl$=o(e)),s){const e=o(s);r.$props$=e,Ne(e,2),e[Ee]=In(e)}else r.$props$=Me(De(),t)}}}}}var i;return r},In=e=>{const t={},n=Ni(e);for(const r in n)r.startsWith(xe)&&(t[r.slice(2)]=n[r]);return t},Rn=e=>{const t={$flags$:0,$id$:"",$element$:e,$refMap$:[],li:[],$tasks$:null,$seq$:null,$slots$:null,$scopeIds$:null,$appendStyles$:null,$props$:null,$vdom$:null,$componentQrl$:null,$contexts$:null,$dynamicSlots$:null,$parentCtx$:void 0,$realParentCtx$:void 0};return e[Ie]=t,t},On=(e,t)=>{e.$tasks$?.forEach(e=>{t.$clearSub$(e),(e=>{32&e.$flags$?(e.$flags$&=-33,(0,e.$qrl$)()):vn(e)})(e)}),e.$componentQrl$=null,e.$seq$=null,e.$tasks$=null};let An,Pn;function Mn(e,t){const n=An;try{return An=e,t()}finally{An=n}}const Dn=()=>{if(!Pn){const e="undefined"!=typeof document&&document&&document.__q_context__;if(!e)return;return Q(e)?document.__q_context__=Bn(e):e}return Pn},Nn=()=>{const e=Dn();if(!e)throw W(14);return e},Ln=()=>{const e=Dn();if(!e||e.$event$!==$e)throw W(20);return e.$hostElement$,e.$waitOn$,e.$renderCtx$,e.$subscriber$,e},jn=()=>Ln().$renderCtx$.$static$.$containerState$;function Un(e){if(null==e)return e;const t=Nn();return function(...n){return Fn.call(this,t,e,n)}}function qn(e,t,...n){return Fn.call(this,e,t,n)}function Fn(e,t,n){const r=Pn;let s;try{Pn=e,s=t.apply(this,n)}finally{Pn=r}return s}const zn=(e,t)=>{const n=e.$waitOn$;if(0===n.length){const e=t();te(e)&&n.push(e)}else n.push(Promise.all(n).then(t))},Bn=([e,t,n])=>{const r=e.closest(ve),s=r?.getAttribute("q:locale")||void 0;return s&&function(e){An=e}(s),Wn(s,void 0,e,t,n)},Wn=(e,t,n,r,s)=>({$url$:s,$i$:0,$hostElement$:t,$element$:n,$event$:r,$qrl$:void 0,$waitOn$:void 0,$subscriber$:void 0,$renderCtx$:void 0,$locale$:e||("object"==typeof r&&r&&"locale"in r?r.locale:void 0)}),Hn=e=>e.closest(ve),Vn=e=>qn(void 0,e),Gn=Wn(void 0,void 0,void 0,$e),Kn=(e,t)=>(Gn.$subscriber$=t,qn(Gn,()=>e.value)),Jn=()=>{const e=Dn();if(e)return e.$element$??e.$hostElement$??e.$qrl$?.$setContainer$(void 0)},Yn=e=>{const t=Dn();if(t&&t.$hostElement$&&t.$renderCtx$){const e=t.$hostElement$;Cn(e,t.$renderCtx$.$static$.$containerState$).$flags$|=8}return e},Xn=(e,t,n,r)=>{const s=t.$subsManager$.$createManager$(r);return new tr(e,s,n)},Qn=Symbol("proxy manager"),Zn=Symbol("unassigned signal");class er{}class tr extends(n=er,t=Te,e=Qn,n){constructor(n,r,i){super(),s(this,"untrackedValue"),s(this,t),s(this,e,0),this.untrackedValue=n,this[Te]=r,this[Qn]=i}valueOf(){}toString(){return`[Signal ${String(this.value)}]`}toJSON(){return{value:this.value}}get value(){if(2&this[Qn])throw Zn;const e=Dn()?.$subscriber$;return e&&this[Te].$addSub$(e),this.untrackedValue}set value(e){const t=this[Te],n=this.untrackedValue;t&&n!==e&&(this.untrackedValue=e,t.$notifySubs$())}}class nr extends er{constructor(e,t,n){super(),s(this,"$func$"),s(this,"$args$"),s(this,"$funcStr$"),this.$func$=e,this.$args$=t,this.$funcStr$=n}get value(){return this.$func$.apply(void 0,this.$args$)}}class rr extends er{constructor(e,t){super(),s(this,"ref"),s(this,"prop"),this.ref=e,this.prop=t}get[Te](){return Li(this.ref)}get value(){return this.ref[this.prop]}set value(e){this.ref[this.prop]=e}}const sr=e=>e instanceof er,ir=(e,t)=>{if(!X(e))return e[t];if(e instanceof er)return e;const n=Ni(e);if(n){const r=n[xe+t];if(r)return r;if(!0!==n[Ee]?.[t])return new rr(e,t)}const r=e[Ee]?.[t];return sr(r)?r:Ee},or=(e,t)=>{const n=ir(e,t);return n===Ee?e[t]:n},ar=Symbol("ContainerState"),cr=e=>{let t=e[ar];return t||(e[ar]=t=lr(e,Oe(e,"q:base")??"/")),t},lr=(e,t)=>{const n={};if(e){const t=e.attributes;if(t)for(let e=0;e<t.length;e++){const r=t[e];n[r.name]=r.value}}const r={$containerEl$:e,$elementIndex$:0,$styleMoved$:!1,$proxyMap$:new WeakMap,$opsNext$:new Set,$taskNext$:new Set,$taskStaging$:new Set,$hostsNext$:new Set,$hostsStaging$:new Set,$styleIds$:new Set,$events$:new Set,$serverData$:{containerAttributes:n},$base$:t,$renderPromise$:void 0,$hostsRendering$:void 0,$pauseCtx$:void 0,$subsManager$:null,$inlineFns$:new Map};return r.$subsManager$=Fi(r),r},ur=(e,t)=>{if(ee(e))return e(t);if(sr(e))return J()?e.untrackedValue=t:e.value=t;throw W(32,e)},dr=128,hr=e=>R(e)&&e.hasAttribute(_e),pr=e=>e.toString(36),fr=e=>parseInt(e,36),mr="http://www.w3.org/2000/svg",gr=1,yr=2,_r=[],vr=(e,t,n,r)=>{t.$elm$;const s=n.$children$;if(1===s.length&&s[0].$type$===_t)return void(n.$children$=t.$children$);const i=t.$elm$,o=t.$children$===_r;let a=Cr;if(o){"HEAD"===i.nodeName&&(a=Er,r|=yr)}const c=$r(t,a);return c.length>0&&s.length>0?br(e,i,c,s,r):c.length>0&&0===s.length?Pr(e.$static$,c,0,c.length-1):s.length>0?Ar(e,i,null,s,0,s.length-1,r):void 0},$r=(e,t)=>{const n=e.$children$,r=e.$elm$;return n===_r?e.$children$=Sr(r,t):n},br=(e,t,n,r,s)=>{let i,o,a,c=0,l=0,u=n.length-1,d=n[0],h=n[u],p=r.length-1,f=r[0],m=r[p];const g=[],y=e.$static$;for(;c<=u&&l<=p;)if(null==d)d=n[++c];else if(null==h)h=n[--u];else if(null==f)f=r[++l];else if(null==m)m=r[--p];else if(d.$id$===f.$id$)g.push(Rr(e,d,f,s)),d=n[++c],f=r[++l];else if(h.$id$===m.$id$)g.push(Rr(e,h,m,s)),h=n[--u],m=r[--p];else if(d.$key$&&d.$id$===m.$id$)U(d.$elm$),U(h.$elm$),g.push(Rr(e,d,m,s)),cs(y,t,d.$elm$,h.$elm$),d=n[++c],m=r[--p];else if(h.$key$&&h.$id$===f.$id$)U(d.$elm$),U(h.$elm$),g.push(Rr(e,h,f,s)),as(y,t,h.$elm$,d.$elm$),h=n[--u],f=r[++l];else{if(void 0===i&&(i=Qr(n,c,u)),o=i[f.$key$],void 0===o){const n=Nr(e,f,s,g);as(y,t,n,d?.$elm$)}else if(a=n[o],a.$type$!==f.$type$){const n=Nr(e,f,s,g);re(n,e=>{as(y,t,e,d?.$elm$)})}else g.push(Rr(e,a,f,s)),n[o]=void 0,U(a.$elm$),as(y,t,a.$elm$,d.$elm$);f=r[++l]}if(l<=p){const n=null==r[p+1]?null:r[p+1].$elm$;g.push(Ar(e,t,n,r,l,p,s))}let _=se(g);return c<=u&&(_=re(_,()=>{Pr(y,n,c,u)})),_},wr=(e,t)=>{const n=P(e)?e.close:null,r=[];let s=e.firstChild;for(;(s=xs(s))&&(t(s)&&r.push(s),s=s.nextSibling,s!==n););return r},Sr=(e,t)=>wr(e,t).map(kr),kr=e=>R(e)?xn(e)?.$vdom$??Tr(e):Tr(e),Tr=e=>{if(O(e)){const t=new Et(e.localName,{},null,_r,0,_s(e));return t.$elm$=e,t}if(M(e)){const t=new Et(e.nodeName,le,null,_r,0,null);return t.$text$=e.data,t.$elm$=e,t}},Er=e=>{const t=e.nodeType;return 1===t?e.hasAttribute("q:head"):111===t},xr=e=>"Q:TEMPLATE"===e.nodeName,Cr=e=>{const t=e.nodeType;if(3===t||111===t)return!0;if(1!==t)return!1;const n=e.nodeName;return"Q:TEMPLATE"!==n&&("HEAD"===n?e.hasAttribute("q:head"):"STYLE"!==n||!e.hasAttribute(me))},Ir=e=>{const t={};for(const n of e){const e=Dr(n);(t[e]??(t[e]=new Et(Ts,{[fe]:""},null,[],0,e))).$children$.push(n)}return t},Rr=(e,t,n,r)=>{t.$type$,n.$type$,t.$key$,n.$key$,t.$id$,n.$id$;const s=t.$elm$,i=n.$type$,o=e.$static$,a=o.$containerState$,c=e.$cmpCtx$;if(n.$elm$=s,"#text"===i){o.$visited$.push(s);const e=n.$signal$;return e&&(n.$text$=dt(Kn(e,[4,c.$element$,e,s]))),void rs(o,s,"data",n.$text$)}if("#signal"===i)return;const l=n.$props$,u=n.$flags$,d=Cn(s,a);if(i!==Ts){let h=0!==(r&gr);if(h||"svg"!==i||(r|=gr,h=!0),l!==le){1&u||(d.li.length=0);const e=t.$props$;n.$props$=e;for(const t in l){let n=l[t];if("ref"!==t){if(ze(t)){const e=Be(d.li,t,n,a.$containerEl$);Zr(o,s,e);continue}sr(n)&&(n=Kn(n,[1,c.$element$,n,s,t])),"class"===t?n=ot(n,c):"style"===t&&(n=ct(n)),e[t]!==n&&(e[t]=n,Br(o,s,t,n,h))}else void 0!==n&&ur(n,s)}}if(2&u)return;h&&"foreignObject"===i&&(r&=-2);if(void 0!==l[ht])return;if("textarea"===i)return;return vr(e,t,n,r)}if(de in l){const t=l.props;Hr(a,d,t);let s=!!(d.$flags$&kn);return s||d.$componentQrl$||d.$element$.hasAttribute(we)||(ut(e,d),d.$componentQrl$=t[de],d.$componentQrl$,s=!0),s?re(kt(e,d,r),()=>Or(e,d,n,r)):Or(e,d,n,r)}if(fe in l)return c.$slots$,void c.$slots$.push(n);if(ht in l)rs(o,s,"innerHTML",l[ht]);else if(!(2&u))return vr(e,t,n,r)},Or=(e,t,n,r)=>{if(2&n.$flags$)return;const s=n.$children$,i=e.$static$,o=Ir(s),a=Lr(t);for(const c in a.slots)if(!o[c]){const e=a.slots[c],t=Sr(e,Cr);if(t.length>0){const n=xn(e);n&&n.$vdom$&&(n.$vdom$.$children$=[]),Pr(i,t,0,t.length-1)}}for(const c in a.templates){const e=a.templates[c];e&&!o[c]&&(a.templates[c]=void 0,fs(i,e))}return se(Object.keys(o).map(n=>{const s=o[n],c=Mr(i,a,t,n,e.$static$.$containerState$),l=Tt(c),u=it(e),d=c.$element$;u.$slotCtx$=c,c.$vdom$=s,s.$elm$=d;let h=-2&r;d.isSvg&&(h|=gr);const p=i.$addSlots$.findIndex(e=>e[0]===d);return p>=0&&i.$addSlots$.splice(p,1),vr(u,l,s,h)}))},Ar=(e,t,n,r,s,i,o)=>{const a=[];for(;s<=i;++s){const i=r[s];U(0,0);const c=Nr(e,i,o,a);as(e.$static$,t,c,n)}return ie(a)},Pr=(e,t,n,r)=>{for(;n<=r;++n){const r=t[n];r&&(U(r.$elm$),fs(e,r.$elm$))}},Mr=(e,t,n,r,s)=>{const i=t.slots[r];if(i)return Cn(i,s);const o=t.templates[r];if(o)return Cn(o,s);const a=gs(e.$doc$,r),c=Rn(a);return c.$parentCtx$=n,hs(e,n.$element$,a),t.templates[r]=a,c},Dr=e=>e.$props$[he]??"",Nr=(e,t,n,r)=>{const s=t.$type$,i=e.$static$.$doc$,o=e.$cmpCtx$;if("#text"===s)return t.$elm$=i.createTextNode(t.$text$);if("#signal"===s){const s=t.$signal$,a=s.value;if(bt(a)){const i=It(a);if(sr(i))throw new Error("NOT IMPLEMENTED: Promise");if(Array.isArray(i))throw new Error("NOT IMPLEMENTED: Array");{const a=Nr(e,i,n,r);return Kn(s,4&n?[3,a,s,a]:[4,o.$element$,s,a]),t.$elm$=a}}{const e=i.createTextNode(t.$text$);return e.data=t.$text$=dt(a),Kn(s,4&n?[3,e,s,e]:[4,o.$element$,s,e]),t.$elm$=e}}let a,c=!!(n&gr);c||"svg"!==s||(n|=gr,c=!0);const l=s===Ts,u=t.$props$,d=e.$static$,h=d.$containerState$;l?a=ws(i,c):"head"===s?(a=i.head,n|=yr):(a=os(i,s,c),n&=-3),2&t.$flags$&&(n|=4),t.$elm$=a;const p=Rn(a);if(e.$slotCtx$?(p.$parentCtx$=e.$slotCtx$,p.$realParentCtx$=e.$cmpCtx$):p.$parentCtx$=e.$cmpCtx$,l){if(de in u){const s=u[de],i=De(),o=h.$subsManager$.$createManager$(),c=new Proxy(i,new Le(h,o)),l=u.props;if(h.$proxyMap$.set(i,c),p.$props$=c,l!==le){const e=i[Ee]=l[Ee]??le;for(const t in l)if("children"!==t&&t!==he){const n=e[t];sr(n)?i[xe+t]=n:i[t]=l[t]}}ut(e,p),p.$componentQrl$=s;const f=re(kt(e,p,n),()=>{let r=t.$children$;if(0===r.length)return;1===r.length&&r[0].$type$===_t&&(r=r[0].$children$);const s=Lr(p),i=[],o=Ir(r);for(const t in o){const r=o[t],a=Mr(d,s,p,t,d.$containerState$),c=it(e),l=a.$element$;c.$slotCtx$=a,a.$vdom$=r,r.$elm$=l;let u=-2&n;l.isSvg&&(u|=gr);for(const e of r.$children$){const t=Nr(c,e,u,i);U(e.$elm$),q(0,e.$elm$),ls(d,l,t)}}return ie(i)});return te(f)&&r.push(f),a}if(fe in u)o.$slots$,vs(a,t.$key$),Re(a,pe,o.$id$),Re(a,fe,""),o.$slots$.push(t),d.$addSlots$.push([a,o.$element$]);else if(ht in u)return rs(d,a,"innerHTML",u[ht]),a}else{if(t.$immutableProps$){const e=u!==le?Object.fromEntries(Object.entries(t.$immutableProps$).map(([e,t])=>[e,t===Ee?u[e]:t])):t.$immutableProps$;Wr(d,p,o,e,c,!0)}if(u!==le){p.$vdom$=t;const e=t.$immutableProps$?Object.fromEntries(Object.entries(u).filter(([e])=>!(e in t.$immutableProps$))):u;t.$props$=Wr(d,p,o,e,c,!1)}if(c&&"foreignObject"===s&&(c=!1,n&=-2),o){const e=o.$scopeIds$;e&&e.forEach(e=>{a.classList.add(e)}),o.$flags$&Tn&&(p.li.push(...o.li),o.$flags$&=-3)}for(const e of p.li)Zr(d,a,e[0]);if(void 0!==u[ht])return a;c&&"foreignObject"===s&&(c=!1,n&=-2)}let f=t.$children$;if(0===f.length)return a;1===f.length&&f[0].$type$===_t&&(f=f[0].$children$);const m=f.map(t=>Nr(e,t,n,r));for(const g of m)Jr(a,g);return a},Lr=e=>{const t=(e=>{const t=e.$slots$;return t||(e.$element$.parentElement,e.$slots$=jr(e))})(e),n={},r={},s=Array.from(e.$element$.childNodes).filter(xr);for(const i of t)z(i.$elm$),n[i.$key$??""]=i.$elm$;for(const i of s)r[Oe(i,he)??""]=i;return{slots:n,templates:r}},jr=e=>{const t=e.$element$.parentElement;return Ss(t,pe,e.$id$).map(Tr)},Ur=(e,t,n)=>(t.namespaceURI===mr?ts(e,t,"class",n):rs(e,t,"className",n),!0),qr=(e,t,n,r)=>r in t&&((t[r]!==n||"value"===r&&!t.hasAttribute(r))&&("value"===r&&"OPTION"!==t.tagName?ss(e,t,r,n):rs(e,t,r,n)),!0),Fr=(e,t,n,r)=>(ts(e,t,r.toLowerCase(),n),!0),zr={style:(e,t,n)=>(rs(e,t.style,"cssText",n),!0),class:Ur,className:Ur,value:qr,checked:qr,href:Fr,list:Fr,form:Fr,tabIndex:Fr,download:Fr,innerHTML:()=>!0,[ht]:(e,t,n)=>(rs(e,t,"innerHTML",n),!0)},Br=(e,t,n,r,s)=>{if(function(e){return e.startsWith("aria-")}(n))return void ts(e,t,n,null!=r?String(r):r);const i=zr[n];i&&i(e,t,r,n)||(s||!(n in t)?(n.startsWith(Fe)&&es(n.slice(15)),ts(e,t,n,r)):rs(e,t,n,r))},Wr=(e,t,n,r,s,i)=>{const o={},a=t.$element$;for(const c in r){let l=r[c];if("ref"!==c)if(ze(c))Be(t.li,c,l,e.$containerState$.$containerEl$);else{if(sr(l)&&(U(),l=Kn(l,i?[1,a,l,n.$element$,c]:[2,n.$element$,l,a,c])),"class"===c){if(l=ot(l,n),!l)continue}else"style"===c&&(l=ct(l));o[c]=l,Br(e,a,c,l,s)}else void 0!==l&&ur(l,a)}return o},Hr=(e,t,n)=>{let r=t.$props$;if(r||(t.$props$=r=Me(De(),e)),n===le)return;const s=Li(r),i=Ni(r),o=i[Ee]=n[Ee]??le;for(const a in n)if("children"!==a&&a!==he&&!o[a]){const e=n[a];i[a]!==e&&(i[a]=e,s.$notifySubs$(a))}},Vr=(e,t,n,r)=>{if(n.$clearSub$(e),O(e)){if(r&&e.hasAttribute(fe))return void t.$rmSlots$.push(e);const s=xn(e);s&&On(s,n);const i=P(e)?e.close:null;let o=e.firstChild;for(;(o=xs(o))&&(Vr(o,t,n,!0),o=o.nextSibling,o!==i););}},Gr=()=>{document.__q_scroll_restore__&&(document.__q_scroll_restore__(),document.__q_scroll_restore__=void 0)},Kr=async e=>{if(document.__q_view_transition__&&(document.__q_view_transition__=void 0,document.startViewTransition)){const t=document.startViewTransition(()=>{ys(e),Gr()}),n=new CustomEvent("qviewTransition",{detail:t});return document.dispatchEvent(n),void(await t.finished)}ys(e),Gr()},Jr=(e,t)=>{P(t)?t.appendTo(e):e.appendChild(t)},Yr=(e,t,n)=>{P(t)?t.insertBeforeTo(e,n?.nextSibling??null):e.insertBefore(t,n?.nextSibling??null)},Xr=(e,t,n)=>{P(t)?t.insertBeforeTo(e,Is(n)):e.insertBefore(t,Is(n))},Qr=(e,t,n)=>{const r={};for(let s=t;s<=n;++s){const t=e[s].$key$;null!=t&&(r[t]=s)}return r},Zr=(e,t,n)=>{n.startsWith("on:")||ts(e,t,n,""),es(n)},es=e=>{{const n=(e=>{const t=e.indexOf(":");return e?e.slice(t+1).replace(/-./g,e=>e[1].toUpperCase()):e})(e);try{(globalThis.qwikevents||(globalThis.qwikevents=[])).push(n)}catch(t){}}},ts=(e,t,n,r)=>{e.$operations$.push({$operation$:ns,$args$:[t,n,r]})},ns=(e,t,n)=>{if(null==n||!1===n)e.removeAttribute(t);else{const r=!0===n?"":String(n);Re(e,t,r)}},rs=(e,t,n,r)=>{e.$operations$.push({$operation$:is,$args$:[t,n,r]})},ss=(e,t,n,r)=>{e.$postOperations$.push({$operation$:is,$args$:[t,n,r]})},is=(e,t,n)=>{try{e[t]=null==n?"":n,null==n&&I(e)&&R(e)&&e.removeAttribute(t)}catch(r){N(B(6),t,{node:e,value:n},r)}},os=(e,t,n)=>n?e.createElementNS(mr,t):e.createElement(t),as=(e,t,n,r)=>(e.$operations$.push({$operation$:Xr,$args$:[t,n,r||null]}),n),cs=(e,t,n,r)=>(e.$operations$.push({$operation$:Yr,$args$:[t,n,r||null]}),n),ls=(e,t,n)=>(e.$operations$.push({$operation$:Jr,$args$:[t,n]}),n),us=(e,t)=>{e.$containerState$.$styleIds$.add(t.styleId),e.$postOperations$.push({$operation$:ds,$args$:[e.$containerState$,t]})},ds=(e,t)=>{const n=e.$containerEl$,r=ue(n),s=r.documentElement===n,i=r.head,o=r.createElement("style");Re(o,me,t.styleId),Re(o,"hidden",""),o.textContent=t.content,s&&i?Jr(i,o):Xr(n,o,n.firstChild)},hs=(e,t,n)=>{e.$operations$.push({$operation$:ps,$args$:[t,n]})},ps=(e,t)=>{Xr(e,t,e.firstChild)},fs=(e,t)=>{if(O(t)){const n=e.$containerState$.$subsManager$;Vr(t,e,n,!0)}e.$operations$.push({$operation$:ms,$args$:[t,e]})},ms=(e,t)=>{const n=e.parentElement;n&&((e,t)=>{P(t)?t.remove():e.removeChild(t)})(n,e)},gs=(e,t)=>{const n=os(e,"q:template",!1);return Re(n,he,t),Re(n,"hidden",""),Re(n,"aria-hidden","true"),n},ys=e=>{for(const t of e.$operations$)t.$operation$.apply(void 0,t.$args$);$s(e)},_s=e=>Oe(e,"q:key"),vs=(e,t)=>{null!==t&&Re(e,"q:key",t)},$s=e=>{const t=e.$containerState$.$subsManager$;for(const n of e.$rmSlots$){const r=_s(n);U();const s=wr(n,Cr);if(s.length>0){const i=n.getAttribute(pe),o=e.$roots$.find(e=>e.$id$===i);if(o){const i=o.$element$;if(i.isConnected){if(wr(i,xr).some(e=>Oe(e,he)===r))Vr(n,e,t,!1);else{const t=gs(e.$doc$,r);for(const e of s)Jr(t,e);Xr(i,t,i.firstChild)}}else Vr(n,e,t,!1)}else Vr(n,e,t,!1)}}for(const[n,r]of e.$addSlots$){const e=_s(n);U();const t=wr(r,xr).find(t=>t.getAttribute(he)===e);t&&(wr(t,Cr).forEach(e=>{Jr(n,e)}),t.remove())}},bs=e=>{},ws=(e,t)=>{const n=e.createComment("qv "),r=e.createComment("/qv");return new Es(n,r,t)},Ss=(e,t,n)=>{const r=((e,t,n)=>e.ownerDocument.createTreeWalker(e,128,{acceptNode(e){const r=Cs(e);return r&&Oe(r,t)===n?1:2}}))(e,t,n),s=[];let i=null;for(;i=r.nextNode();)s.push(Cs(i));return s},ks=e=>e.replace(/\+/g," "),Ts=":virtual";class Es{constructor(e,t,n){s(this,"open"),s(this,"close"),s(this,"isSvg"),s(this,"ownerDocument"),s(this,"_qc_",null),s(this,"nodeType",111),s(this,"localName",Ts),s(this,"nodeName",Ts),s(this,"$attributes$"),s(this,"$template$"),this.open=e,this.close=t,this.isSvg=n;const r=this.ownerDocument=e.ownerDocument;this.$template$=os(r,"template",!1),this.$attributes$=(e=>{if(!e)return{};const t=e.split(" ");return Object.fromEntries(t.map(e=>{const t=e.indexOf("=");return t>=0?[e.slice(0,t),ks(e.slice(t+1))]:[e,""]}))})(e.data.slice(3)),e.data.startsWith("qv "),e[Ce]=this,t[Ce]=this}insertBefore(e,t){const n=this.parentElement;if(n){const r=t||this.close;n.insertBefore(e,r)}else this.$template$.insertBefore(e,t);return e}remove(){const e=this.parentElement;if(e){const t=this.childNodes;this.$template$.childElementCount,e.removeChild(this.open);for(let e=0;e<t.length;e++)this.$template$.appendChild(t[e]);e.removeChild(this.close)}}appendChild(e){return this.insertBefore(e,null)}insertBeforeTo(e,t){const n=this.childNodes;e.insertBefore(this.open,t);for(const r of n)e.insertBefore(r,t);e.insertBefore(this.close,t),this.$template$.childElementCount}appendTo(e){this.insertBeforeTo(e,null)}get namespaceURI(){return this.parentElement?.namespaceURI??""}removeChild(e){this.parentElement?this.parentElement.removeChild(e):this.$template$.removeChild(e)}getAttribute(e){return this.$attributes$[e]??null}hasAttribute(e){return e in this.$attributes$}setAttribute(e,t){this.$attributes$[e]=t}removeAttribute(e){delete this.$attributes$[e]}matches(e){return!1}compareDocumentPosition(e){return this.open.compareDocumentPosition(e)}closest(e){const t=this.parentElement;return t?t.closest(e):null}querySelectorAll(e){const t=[];return wr(this,A).forEach(n=>{O(n)&&(n.matches(e)&&t.push(n),t.concat(Array.from(n.querySelectorAll(e))))}),t}querySelector(e){for(const t of this.childNodes)if(R(t)){if(t.matches(e))return t;const n=t.querySelector(e);if(null!==n)return n}return null}get innerHTML(){return""}set innerHTML(e){const t=this.parentElement;t?(this.childNodes.forEach(e=>this.removeChild(e)),this.$template$.innerHTML=e,t.insertBefore(this.$template$.content,this.close)):this.$template$.innerHTML=e}get firstChild(){if(this.parentElement){const e=this.open.nextSibling;return e===this.close?null:e}return this.$template$.firstChild}get nextSibling(){return this.close.nextSibling}get previousSibling(){return this.open.previousSibling}get childNodes(){if(!this.parentElement)return Array.from(this.$template$.childNodes);const e=[];let t=this.open;for(;(t=t.nextSibling)&&t!==this.close;)e.push(t);return e}get isConnected(){return this.open.isConnected}get parentElement(){return this.open.parentElement}}const xs=e=>{if(null==e)return null;if(D(e)){const t=Cs(e);if(t)return t}return e},Cs=e=>{const t=e[Ce];if(t)return t;if(e.data.startsWith("qv ")){const t=(e=>{let t=e,n=1;for(;t=t.nextSibling;)if(D(t)){const e=t[Ce];if(e)t=e;else if(t.data.startsWith("qv "))n++;else if("/qv"===t.data&&(n--,0===n))return t}})(e);return new Es(e,t,e.parentElement?.namespaceURI===mr)}return null},Is=e=>null==e?null:P(e)?e.open:e,Rs=async(e,t)=>{const n=lr(null,null),r=As(n);let s;for(Us(e,r,!1);(s=r.$promises$).length>0;){r.$promises$=[];const e=await Promise.allSettled(s);for(const t of e)t.status}const i=Array.from(r.$objSet$.keys());let o=0;const a=new Map;for(const u of i)a.set(u,pr(o)),o++;if(r.$noSerialize$.length>0){const e=a.get(void 0);for(const t of r.$noSerialize$)a.set(t,e)}const c=e=>{let t="";if(te(e)){const n=js(e);if(!n)throw W(27,e);e=n.value,n.resolved?t+="~":t+="_"}if(X(e)){const n=Ni(e);n&&(t+="!",e=n)}const n=a.get(e);if(void 0===n)throw W(27,e);return n+t},l=function(e,t,n,r,s){return e.map(e=>{if(null===e)return null;const n=typeof e;switch(n){case"undefined":return Qs;case"number":if(!Number.isFinite(e))break;return e;case"string":if(e.charCodeAt(0)<32)break;return e;case"boolean":return e}const i=Ti(e,t,r,s);if(void 0!==i)return i;if("object"===n){if(Q(e))return e.map(t);if(Y(e)){const n={};for(const r in e)n[r]=t(e[r]);return n}}throw W(3,e)})}(i,c,0,r,n);return JSON.stringify({_entry:c(e),_objs:l})},Os=(e,t,n)=>{let r="";for(const s of e){const e=t(s);null!==e&&(""!==r&&(r+=n),r+=e)}return r},As=e=>{const t=[];return e.$inlineFns$.forEach((e,n)=>{for(;t.length<=e;)t.push("");t[e]=n}),{$containerState$:e,$seen$:new Set,$objSet$:new Set,$prefetch$:0,$noSerialize$:[],$inlinedFunctions$:t,$resources$:[],$elements$:[],$qrls$:[],$deferElements$:[],$promises$:[]}},Ps=(e,t)=>{const n=xn(e);t.$elements$.includes(n)||(t.$elements$.push(n),8&n.$flags$?(t.$prefetch$++,Ms(n,t,!0),t.$prefetch$--):t.$deferElements$.push(n))},Ms=(e,t,n)=>{if(e.$props$&&!qs(e.$props$)&&(Us(e.$props$,t,n),Ns(Li(e.$props$),t,n)),e.$componentQrl$&&Us(e.$componentQrl$,t,n),e.$seq$)for(const r of e.$seq$)Us(r,t,n);if(e.$tasks$){const r=t.$containerState$.$subsManager$.$groupToManagers$;for(const s of e.$tasks$)r.has(s)&&Us(s,t,n)}if(Ds(e,t),e.$dynamicSlots$)for(const r of e.$dynamicSlots$)Ds(r,t)},Ds=(e,t)=>{for(;e;){if(e.$contexts$)for(const n of e.$contexts$.values())Us(n,t,!0);e=e.$parentCtx$}},Ns=(e,t,n)=>{if(t.$seen$.has(e))return;t.$seen$.add(e);const r=e.$subs$;for(const s of r){if(s[0]>0&&Us(s[2],t,n),!0===n){const e=s[1];I(e)&&P(e)?0===s[0]&&Ps(e,t):Us(e,t,!0)}}},Ls=Symbol(),js=e=>e[Ls],Us=(e,t,n)=>{if(null!=e){const s=typeof e;switch(s){case"function":case"object":{if(t.$seen$.has(e))return;if(t.$seen$.add(e),Ai(e))return t.$objSet$.add(void 0),void t.$noSerialize$.push(e);const i=e,o=Ni(e);if(o){const r=!(2&ji(e=o));if(n&&r&&Ns(Li(i),t,n),Pi(i))return void t.$objSet$.add(e)}if(ki(e,t,n))return void t.$objSet$.add(e);if(te(e))return void t.$promises$.push((r=e,r.then(e=>{const t={resolved:!0,value:e};return r[Ls]=t,e},e=>{const t={resolved:!1,value:e};return r[Ls]=t,e})).then(e=>{Us(e,t,n)}));if("object"===s){if(I(e))return;if(Q(e))for(let r=0;r<e.length;r++)Us(i[r],t,n);else if(Y(e))for(const r in e)Us(i[r],t,n)}break}}}var r;t.$objSet$.add(e)},qs=e=>0===Object.keys(e).length;const Fs=new Set,zs=(e,t,n=ce,r=0)=>{let s=null,i=null;if(ee(e))i=e;else{if(!Z(e))throw W(12,e);s=e}return Fs.has(t)||Fs.add(t),Gi(s,t,null,i,null,n,null)},Bs=(e,t=ce)=>Gi(null,e,null,null,null,t,null),Ws=(e,t={})=>{let n=e.$symbol$,r=e.$chunk$;const s=e.$refSymbol$??n,i=K();if(i){const t=i.chunkForSymbol(s,r,e.dev?.file);t&&(r=t[1],e.$refSymbol$||(n=t[0]))}if(C&&null==r&&(r="/runtimeQRL",n="_"),null==r)throw W(31,e.$symbol$);if(r.startsWith("./")&&(r=r.slice(2)),Vi(e))if(t.$containerState$){const r=e.resolved,s=t.$containerState$,i=r.serialized||r.toString();let o=s.$inlineFns$.get(i);void 0===o&&(o=s.$inlineFns$.size,s.$inlineFns$.set(i,o)),n=String(o)}else((e,...t)=>{throw j(!1,e,...t)})("Sync QRL without containerState");let o=`${r}#${n}`;const a=e.$capture$,c=e.$captureRef$;return c&&c.length?t.$getObjId$?o+=`[${Os(c,t.$getObjId$," ")}]`:t.$addRefMap$&&(o+=`[${Os(c,t.$addRefMap$," ")}]`):a&&a.length>0&&(o+=`[${a.join(" ")}]`),o},Hs=(e,t)=>{const n=e.length,r=Vs(e,0,"#"),s=Vs(e,r,"["),i=Math.min(r,s),o=e.substring(0,i),a=r==n?r:r+1,c=s,l=a==c?"default":e.substring(a,c),u=s,d=n,h=u===d?ce:e.substring(u+1,d-1).split(" "),p=Gi(o,l,null,null,h,null,null);return t&&p.$setContainer$(t),p},Vs=(e,t,n)=>{const r=e.length,s=e.indexOf(n,t==r?0:t);return-1==s?r:s},Gs=(e,t)=>(e.$capture$,e.$captureRef$=e.$capture$.map(e=>{const n=parseInt(e,10),r=t.$refMap$[n];return t.$refMap$.length,r})),Ks=e=>{const t=!J(),n=e.value;let r;if(Js(n)){if(t){if(e.onRejected&&(n.value.catch(()=>{}),"rejected"===n._state))return e.onRejected(n._error);if(e.onPending){const t=n._state;if("resolved"===t)return e.onResolved(n._resolved);if("pending"===t)return e.onPending();if("rejected"===t)throw n._error}if(void 0!==Vn(()=>n._resolved))return e.onResolved(n._resolved)}r=n.value}else if(te(n))r=n;else{if(!sr(n))return e.onResolved(n);r=Promise.resolve(n.value)}return yt(wt,{children:r.then(Un(e.onResolved),Un(e.onRejected))})},Js=e=>X(e)&&"resource"===e.__brand,Ys=e=>{const[t,n]=e.split(" "),r=(s=void 0,{__brand:"resource",value:void 0,loading:!J(),_resolved:void 0,_error:void 0,_state:"pending",_timeout:s?.timeout??-1,_cache:0});var s;return r.value=Promise.resolve(),"0"===t?(r._state="resolved",r._resolved=n,r.loading=!1):"1"===t?(r._state="pending",r.value=new Promise(()=>{}),r.loading=!0):"2"===t&&(r._state="rejected",r._error=n,r.loading=!1),r},Xs=e=>gt($t,{[fe]:""},0,e.name??""),Qs="";function Zs(e){return{$prefixCode$:e.$prefix$.charCodeAt(0),$prefixChar$:e.$prefix$,$test$:e.$test$,$serialize$:e.$serialize$,$prepare$:e.$prepare$,$fill$:e.$fill$,$collect$:e.$collect$,$subs$:e.$subs$}}const ei=Zs({$prefix$:"",$test$:e=>Wi(e),$collect$:(e,t,n)=>{if(e.$captureRef$)for(const r of e.$captureRef$)Us(r,t,n);0===t.$prefetch$&&t.$qrls$.push(e)},$serialize$:(e,t)=>Ws(e,{$getObjId$:t}),$prepare$:(e,t)=>Hs(e,t.$containerEl$),$fill$:(e,t)=>{e.$capture$&&e.$capture$.length>0&&(e.$captureRef$=e.$capture$.map(t),e.$capture$=null)}}),ti=Zs({$prefix$:"",$test$:e=>wn(e),$collect$:(e,t,n)=>{Us(e.$qrl$,t,n),e.$state$&&(Us(e.$state$,t,n),!0===n&&e.$state$ instanceof tr&&Ns(e.$state$[Te],t,!0))},$serialize$:(e,t)=>((e,t)=>{let n=`${pr(e.$flags$)} ${pr(e.$index$)} ${t(e.$qrl$)} ${t(e.$el$)}`;return e.$state$&&(n+=` ${t(e.$state$)}`),n})(e,t),$prepare$:e=>(e=>{const[t,n,r,s,i]=e.split(" ");return new Sn(fr(t),fr(n),s,r,i)})(e),$fill$:(e,t)=>{e.$el$=t(e.$el$),e.$qrl$=t(e.$qrl$),e.$state$&&(e.$state$=t(e.$state$))}}),ni=Zs({$prefix$:"",$test$:e=>Js(e),$collect$:(e,t,n)=>{Us(e.value,t,n),Us(e._resolved,t,n)},$serialize$:(e,t)=>((e,t)=>{const n=e._state;return"resolved"===n?`0 ${t(e._resolved)}`:"pending"===n?"1":`2 ${t(e._error)}`})(e,t),$prepare$:e=>Ys(e),$fill$:(e,t)=>{if("resolved"===e._state)e._resolved=t(e._resolved),e.value=Promise.resolve(e._resolved);else if("rejected"===e._state){const n=Promise.reject(e._error);n.catch(()=>null),e._error=t(e._error),e.value=n}}}),ri=Zs({$prefix$:"",$test$:e=>e instanceof URL,$serialize$:e=>e.href,$prepare$:e=>new URL(e)}),si=Zs({$prefix$:"",$test$:e=>e instanceof Date,$serialize$:e=>e.toISOString(),$prepare$:e=>new Date(e)}),ii=Zs({$prefix$:"",$test$:e=>e instanceof RegExp,$serialize$:e=>`${e.flags} ${e.source}`,$prepare$:e=>{const t=e.indexOf(" "),n=e.slice(t+1),r=e.slice(0,t);return new RegExp(n,r)}}),oi=Zs({$prefix$:"",$test$:e=>e instanceof Error,$serialize$:e=>e.message,$prepare$:e=>{const t=new Error(e);return t.stack=void 0,t}}),ai=Zs({$prefix$:"",$test$:e=>!!e&&"object"==typeof e&&9===e.nodeType,$prepare$:(e,t,n)=>n}),ci=Symbol("serializable-data"),li=Zs({$prefix$:"",$test$:e=>ro(e),$serialize$:(e,t)=>{const[n]=e[ci];return Ws(n,{$getObjId$:t})},$prepare$:(e,t)=>{const n=Hs(e,t.$containerEl$);return no(n)},$fill$:(e,t)=>{const[n]=e[ci];n.$capture$?.length&&(n.$captureRef$=n.$capture$.map(t),n.$capture$=null)}}),ui=Zs({$prefix$:"",$test$:e=>e instanceof nr,$collect$:(e,t,n)=>{if(e.$args$)for(const r of e.$args$)Us(r,t,n)},$serialize$:(e,t,n)=>{const r=(e=>{let t="";for(let n=0;n<e.$args$.length;n++)t+=`p${n},`;return`(${t})=>(null)`})(e);let s=n.$inlinedFunctions$.indexOf(r);return s<0&&(s=n.$inlinedFunctions$.length,n.$inlinedFunctions$.push(r)),Os(e.$args$,t," ")+" @"+pr(s)},$prepare$:e=>{const t=e.split(" "),n=t.slice(0,-1),r=t[t.length-1];return new nr(r,n,r)},$fill$:(e,t)=>{e.$func$,e.$func$=t(e.$func$),e.$args$=e.$args$.map(t)}}),di=Zs({$prefix$:"",$test$:e=>e instanceof tr,$collect$:(e,t,n)=>{Us(e.untrackedValue,t,n);const r=!(1&e[Qn]);return!0===n&&r&&Ns(e[Te],t,!0),e},$serialize$:(e,t)=>t(e.untrackedValue),$prepare$:(e,t)=>new tr(e,t?.$subsManager$?.$createManager$(),0),$subs$:(e,t)=>{e[Te].$addSubs$(t)},$fill$:(e,t)=>{e.untrackedValue=t(e.untrackedValue)}}),hi=Zs({$prefix$:"",$test$:e=>e instanceof rr,$collect$(e,t,n){if(Us(e.ref,t,n),Pi(e.ref)){const r=Li(e.ref);Ci(t.$containerState$.$subsManager$,r,n)&&Us(e.ref[e.prop],t,n)}return e},$serialize$:(e,t)=>`${t(e.ref)} ${e.prop}`,$prepare$:e=>{const[t,n]=e.split(" ");return new rr(t,n)},$fill$:(e,t)=>{e.ref=t(e.ref)}}),pi=Zs({$prefix$:"",$test$:e=>"number"==typeof e,$serialize$:e=>String(e),$prepare$:e=>Number(e)}),fi=Zs({$prefix$:"",$test$:e=>e instanceof URLSearchParams,$serialize$:e=>e.toString(),$prepare$:e=>new URLSearchParams(e)}),mi=Zs({$prefix$:"",$test$:e=>"undefined"!=typeof FormData&&e instanceof globalThis.FormData,$serialize$:e=>{const t=[];return e.forEach((e,n)=>{"string"==typeof e?t.push([n,e]):t.push([n,e.name])}),JSON.stringify(t)},$prepare$:e=>{const t=JSON.parse(e),n=new FormData;for(const[r,s]of t)n.append(r,s);return n}}),gi=Zs({$prefix$:"",$test$:e=>bt(e),$collect$:(e,t,n)=>{Us(e.children,t,n),Us(e.props,t,n),Us(e.immutableProps,t,n),Us(e.key,t,n);let r=e.type;r===Xs?r=":slot":r===wt&&(r=":fragment"),Us(r,t,n)},$serialize$:(e,t)=>{let n=e.type;return n===Xs?n=":slot":n===wt&&(n=":fragment"),`${t(n)} ${t(e.props)} ${t(e.immutableProps)} ${t(e.key)} ${t(e.children)} ${e.flags}`},$prepare$:e=>{const[t,n,r,s,i,o]=e.split(" ");return new vt(t,n,r,i,parseInt(o,10),s)},$fill$:(e,t)=>{e.type=Ii(t(e.type)),e.props=t(e.props),e.immutableProps=t(e.immutableProps),e.key=t(e.key),e.children=t(e.children)}}),yi=Zs({$prefix$:"",$test$:e=>"bigint"==typeof e,$serialize$:e=>e.toString(),$prepare$:e=>BigInt(e)}),_i=Zs({$prefix$:"",$test$:e=>e instanceof Uint8Array,$serialize$:e=>{let t="";for(const n of e)t+=String.fromCharCode(n);return btoa(t).replace(/=+$/,"")},$prepare$:e=>{const t=atob(e),n=new Uint8Array(t.length);let r=0;for(const s of t)n[r++]=s.charCodeAt(0);return n},$fill$:void 0}),vi=Symbol(),$i=[ei,ti,ni,ri,si,ii,oi,ai,li,ui,di,hi,pi,fi,mi,gi,yi,Zs({$prefix$:"",$test$:e=>e instanceof Set,$collect$:(e,t,n)=>{e.forEach(e=>Us(e,t,n))},$serialize$:(e,t)=>Array.from(e).map(t).join(" "),$prepare$:e=>{const t=new Set;return t[vi]=e,t},$fill$:(e,t)=>{const n=e[vi];e[vi]=void 0;const r=0===n.length?[]:n.split(" ");for(const s of r)e.add(t(s))}}),Zs({$prefix$:"",$test$:e=>e instanceof Map,$collect$:(e,t,n)=>{e.forEach((e,r)=>{Us(e,t,n),Us(r,t,n)})},$serialize$:(e,t)=>{const n=[];return e.forEach((e,r)=>{n.push(t(r)+" "+t(e))}),n.join(" ")},$prepare$:e=>{const t=new Map;return t[vi]=e,t},$fill$:(e,t)=>{const n=e[vi];e[vi]=void 0;const r=0===n.length?[]:n.split(" ");r.length;for(let s=0;s<r.length;s+=2)e.set(t(r[s]),t(r[s+1]))}}),Zs({$prefix$:"",$test$:e=>!!wi(e)||e===Qs,$serialize$:e=>e,$prepare$:e=>e}),_i],bi=(()=>{const e=[];return $i.forEach(t=>{const n=t.$prefixCode$;for(;e.length<n;)e.push(void 0);e.push(t)}),e})();function wi(e){if("string"==typeof e){const t=e.charCodeAt(0);if(t<bi.length)return bi[t]}}const Si=$i.filter(e=>e.$collect$),ki=(e,t,n)=>{for(const r of Si)if(r.$test$(e))return r.$collect$(e,t,n),!0;return!1},Ti=(e,t,n,r)=>{for(const s of $i)if(s.$test$(e)){let i=s.$prefixChar$;return s.$serialize$&&(i+=s.$serialize$(e,t,n,r)),i}if("string"==typeof e)return e},Ei=(e,t)=>{const n=new Map,r=new Map;return{prepare(s){const i=wi(s);if(i){const o=i.$prepare$(s.slice(1),e,t);return i.$fill$&&n.set(o,i),i.$subs$&&r.set(o,i),o}return s},subs(t,n){const s=r.get(t);return!!s&&(s.$subs$(t,n,e),!0)},fill(t,r){const s=n.get(t);return!!s&&(s.$fill$(t,r,e),!0)}}},xi={"!":(e,t)=>t.$proxyMap$.get(e)??Pe(e,t),"~":e=>Promise.resolve(e),_:e=>Promise.reject(e)},Ci=(e,t,n)=>{if("boolean"==typeof n)return n;const r=e.$groupToManagers$.get(n);return!!(r&&r.length>0)&&(1!==r.length||r[0]!==t)},Ii=e=>":slot"===e?Xs:":fragment"===e?wt:e,Ri=new WeakSet,Oi=new WeakSet,Ai=e=>Ri.has(e),Pi=e=>Oi.has(e),Mi=e=>(null!=e&&Ri.add(e),e),Di=e=>X(e)?Ni(e)??e:e,Ni=e=>e[Se],Li=e=>e[Te],ji=e=>e[ke],Ui=(e,t)=>{const n=e.split(" "),r=parseInt(n[0],10);n.length;const s=t(n[1]);if(!s)return;if(wn(s)&&!s.$el$)return;const i=[r,s];return 0===r?(n.length,i.push(qi(n[2]))):r<=2?(5===n.length||n.length,i.push(t(n[2]),t(n[3]),n[4],qi(n[5]))):r<=4&&(4===n.length||n.length,i.push(t(n[2]),t(n[3]),qi(n[4]))),i},qi=e=>{if(void 0!==e)return decodeURI(e)},Fi=e=>{const t=new Map;return{$groupToManagers$:t,$createManager$:n=>new zi(t,e,n),$clearSub$:e=>{const n=t.get(e);if(n){for(const t of n)t.$unsubGroup$(e);t.delete(e),n.length=0}},$clearSignal$:e=>{const n=t.get(e[1]);if(n)for(const t of n)t.$unsubEntry$(e)}}};class zi{constructor(e,t,n){s(this,"$groupToManagers$"),s(this,"$containerState$"),s(this,"$subs$"),this.$groupToManagers$=e,this.$containerState$=t,this.$subs$=[],n&&this.$addSubs$(n)}$addSubs$(e){this.$subs$.push(...e);for(const t of this.$subs$)this.$addToGroup$(t[1],this)}$addToGroup$(e,t){let n=this.$groupToManagers$.get(e);n||this.$groupToManagers$.set(e,n=[]),n.includes(t)||n.push(t)}$unsubGroup$(e){const t=this.$subs$;for(let n=0;n<t.length;n++){t[n][1]===e&&(t.splice(n,1),n--)}}$unsubEntry$(e){const[t,n,r,s]=e,i=this.$subs$;if(1===t||2===t){const o=e[4];for(let e=0;e<i.length;e++){const a=i[e];a[0]===t&&a[1]===n&&a[2]===r&&a[3]===s&&a[4]===o&&(i.splice(e,1),e--)}}else if(3===t||4===t)for(let o=0;o<i.length;o++){const e=i[o];e[0]===t&&e[1]===n&&e[2]===r&&e[3]===s&&(i.splice(o,1),o--)}}$addSub$(e,t){const n=this.$subs$,r=e[1];0===e[0]&&n.some(([e,n,s])=>0===e&&n===r&&s===t)||(n.push(Bi=[...e,t]),this.$addToGroup$(r,this))}$notifySubs$(e){const t=this.$subs$;for(const n of t){const t=n[n.length-1];e&&t&&t!==e||zt(n,this.$containerState$)}}}let Bi;const Wi=e=>"function"==typeof e&&"function"==typeof e.getSymbol,Hi="<sync>",Vi=e=>Wi(e)&&e.$symbol$==Hi,Gi=(e,t,n,r,s,i,o)=>{let a;const c=async function(...e){const t=p.call(this,Dn());return await t(...e)},l=e=>(a||(a=e),a),u=e=>"function"!=typeof e||!s?.length&&!i?.length?e:function(...t){let n=Dn();if(n){const r=n.$qrl$;n.$qrl$=c;const s=n.$event$;void 0===n.$event$&&(n.$event$=this);try{return e.apply(this,t)}finally{n.$qrl$=r,n.$event$=s}}return n=Wn(),n.$qrl$=c,n.$event$=this,qn.call(this,n,e,...t)},d=async s=>{if(null!==n)return n;if(s&&l(s),""===e){const e=a.getAttribute(ge),r=a.ownerDocument,s=ye(r,e);return c.resolved=n=s[Number(t)]}e&&$(e,1);const i=Qi(),o=Dn();if(null!==r)n=r().then(e=>c.resolved=n=u(e[t]));else{const r=K().importSymbol(a,e,t);n=re(r,e=>c.resolved=n=u(e))}return"object"==typeof n&&te(n)&&n.then(()=>Yi(t,o?.$element$,i),e=>{n=null}),n},h=e=>null!==n?n:d(e);function p(e,t){return(...n)=>re(h(),r=>{if(!ee(r))throw W(10);if(t&&!1===t())return;const s=f(e);return qn.call(this,s,r,...n)})}const f=e=>null==e?Wn():Q(e)?Bn(e):e,m=o??t,g=Ki(m);return Object.assign(c,{getSymbol:()=>m,getHash:()=>g,getCaptured:()=>i,resolve:d,$resolveLazy$:h,$setContainer$:l,$chunk$:e,$symbol$:t,$refSymbol$:o,$hash$:g,getFn:p,$capture$:s,$captureRef$:i,dev:null,resolved:void 0}),n&&(n=re(n,e=>c.resolved=n=u(e))),m&&$(m,.8),c},Ki=e=>{const t=e.lastIndexOf("_");return t>-1?e.slice(t+1):e};const Ji=new Set,Yi=(e,t,n)=>{Ji.has(e)||(Ji.add(e),Xi("qsymbol",{symbol:e,element:t,reqTime:n}))},Xi=(e,t)=>{J()||"object"!=typeof document||document.dispatchEvent(new CustomEvent(e,{bubbles:!1,detail:t}))},Qi=()=>J()?0:"object"==typeof performance?performance.now():0;let Zi=0;const eo=e=>Gi(null,"s"+Zi++,e,null,null,null,null),to=function(e,t){return void 0===t&&(t=e.toString()),e.serialized=t,Gi("",Hi,e,null,null,null,null)},no=e=>{function t(t,n,r){const s=e.$hash$.slice(0,4)+":"+(n||"");return gt($t,{[de]:e,[he]:t[he],[Ee]:t[Ee],children:t.children,props:t},r,s)}return t[ci]=[e],t},ro=e=>"function"==typeof e&&void 0!==e[ci],so=(e,t)=>{const{val:n,set:r,iCtx:s}=Je();if(null!=n)return n;const i=ee(e)?qn(void 0,e):e;if(!1===t?.reactive)return r(i),i;{const e=s.$renderCtx$.$static$.$containerState$,n=Pe(i,e,t?.deep??!0?1:0);return r(n),n}};function io(e,t){const n=Dn();return n?.$renderCtx$?.$static$.$containerState$.$serverData$[e]??t}const oo=(e,t,n)=>{const{val:r,set:s,iCtx:i,i:o,elCtx:a}=Je();if(r)return r;const c=Ke(e,o),l=i.$renderCtx$.$static$.$containerState$;if(s(c),a.$appendStyles$||(a.$appendStyles$=[]),a.$scopeIds$||(a.$scopeIds$=[]),l.$styleIds$.has(c))return c;l.$styleIds$.add(c);const u=e.$resolveLazy$(l.$containerEl$),d=e=>{a.$appendStyles$,a.$appendStyles$.push({styleId:c,content:t(e,c)})};return te(u)?i.$waitOn$.push(u.then(d)):d(u),c},ao=Ye("qc-s"),co=Ye("qc-c"),lo=Ye("qc-ic"),uo=Ye("qc-h"),ho=Ye("qc-l"),po=Ye("qc-n"),fo=Ye("qc-a"),mo=Ye("qc-ir"),go=Ye("qc-p"),yo=zs(()=>i(()=>Promise.resolve().then(()=>wa),[]),"s_G5JRozgukmA"),_o=no(zs(()=>i(()=>Promise.resolve().then(()=>Pa),void 0),"s_IW497M0sx4Q")),vo=new WeakMap,$o=new Map,bo=e=>e.pathname+e.search+e.hash,wo=(e,t)=>new URL(e,t.href),So=(e,t)=>e.origin===t.origin,ko=e=>e.endsWith("/")?e:e+"/",To=({pathname:e},{pathname:t})=>{const n=Math.abs(e.length-t.length);return 0===n?e===t:1===n&&ko(e)===ko(t)},Eo=(e,t)=>((e,t)=>e.search===t.search)(e,t)&&To(e,t),xo=(e,t)=>{"string"==typeof t.title&&(e.title=t.title),Co(e.meta,t.meta),Co(e.links,t.links),Co(e.styles,t.styles),Co(e.scripts,t.scripts),Object.assign(e.frontmatter,t.frontmatter)},Co=(e,t)=>{if(Array.isArray(t))for(const n of t){if("string"==typeof n.key){const t=e.findIndex(e=>e.key===n.key);if(t>-1){e[t]=n;continue}}e.push(n)}},Io=()=>({title:"",meta:[],links:[],styles:[],scripts:[],frontmatter:{}});function Ro(e,t){return Oo(e,Do(e),Po(e),t,Do(t),Po(t))}function Oo(e,t,n,r,s,i){let o=null;for(;t<n;){const a=e.charCodeAt(t++),c=r.charCodeAt(s++);if(91===a){const a=No(e,t),c=t+(a?3:0),l=Lo(e,c,n,93),u=e.substring(c,l),d=Lo(e,l+1,n,47),h=e.substring(l+1,d);t=l+1;const p=s-1;if(a){const s=jo(u,h,r,p,i,e,t+h.length+1,n);if(s)return Object.assign(o||(o={}),s)}const f=Lo(r,p,i,47,h);if(-1==f)return null;const m=r.substring(p,f);if(!a&&!h&&!m)return null;s=f,(o||(o={}))[u]=decodeURIComponent(m)}else if(!(a===c||isNaN(c)&&Ao(e,t)))return null}return Mo(e,t)&&Mo(r,s)?o||{}:null}function Ao(e,t){return 91===e.charCodeAt(t)&&No(e,t+1)}function Po(e){const t=e.length;return t>1&&47===e.charCodeAt(t-1)?t-1:t}function Mo(e,t){const n=e.length;return t>=n||t==n-1&&47===e.charCodeAt(t)}function Do(e){return 47===e.charCodeAt(0)?1:0}function No(e,t){return 46===e.charCodeAt(t)&&46===e.charCodeAt(t+1)&&46===e.charCodeAt(t+2)}function Lo(e,t,n,r,s=""){for(;t<n&&e.charCodeAt(t)!==r;)t++;const i=s.length;for(let o=0;o<i;o++)if(e.charCodeAt(t-i+o)!==s.charCodeAt(o))return-1;return t-i}function jo(e,t,n,r,s,i,o,a){47===n.charCodeAt(r)&&r++;let c=s;const l=t+"/";for(;c>=r;){const t=Oo(i,o,a,n,c,s);if(t){let i=n.substring(r,Math.min(c,s));return i.endsWith(l)&&(i=i.substring(0,i.length-l.length)),t[e]=decodeURIComponent(i),t}const u=Uo(n,r,l,c,r-1)+l.length;if(c===u)break;c=u}return null}function Uo(e,t,n,r,s){let i=e.lastIndexOf(n,r);return i==r-n.length&&(i=e.lastIndexOf(n,r-n.length-1)),i>t?i:s}const qo=async(e,t,n,r)=>{if(!Array.isArray(e))return null;for(const s of e){const e=s[0],n=Ro(e,r);if(!n)continue;const i=s[1],o=s[3],a=new Array(i.length),c=[];i.forEach((e,t)=>{Fo(e,c,e=>a[t]=e)});const l=zo(t,r);let u;return Fo(l,c,e=>u=e?.default),c.length>0&&await Promise.all(c),[e,n,a,u,o]}return null},Fo=(e,t,n,r)=>{if("function"==typeof e){const r=vo.get(e);if(r)n(r);else{const r=e();"function"==typeof r.then?t.push(r.then(t=>{vo.set(e,t),n(t)})):r&&n(r)}}},zo=(e,t)=>{if(e){t=t.endsWith("/")?t:t+"/";const n=e.find(e=>e[0]===t||t.startsWith(e[0]+(t.endsWith("/")?"":"/")));if(n)return n[1]}},Bo=()=>({x:0,y:0,w:0,h:0}),Wo=e=>{e=(e=e.endsWith("/")?e:e+"/").length>1&&e.startsWith("/")?e.slice(1):e,$(e,.8)},Ho=async(e,t,n)=>{const r=e.pathname,s=((e,t,n)=>{let r=t??"";return n&&(r+=(r?"&":"?")+"qaction="+encodeURIComponent(n.id)),e+(e.endsWith("/")?"":"/")+"q-data.json"+r})(r,e.search,n?.action);let i,o;if(n?.action||(i=$o.get(s)),!1!==n?.prefetchSymbols&&Wo(r),!i){const r=Vo(n?.action,n?.clearCache);n?.action&&(n.action.data=void 0),i=fetch(s,r).then(r=>{if(r.redirected){const e=new URL(r.url);if(!e.pathname.endsWith("/q-data.json")||e.origin!==location.origin)return void(location.href=e.href)}return(r.headers.get("content-type")||"").includes("json")?r.text().then(i=>{const a=At(i,t);if(a){if(n?.clearCache&&$o.delete(s),a.redirect)location.href=a.redirect;else if(n?.action){const{action:e}=n,t=a.loaders[e.id];o=()=>{e.resolve({status:r.status,result:t})}}return a}location.href=e.href}):void(!0!==n?.isPrefetch&&(location.href=e.href))}),n?.action||$o.set(s,i)}return i.then(e=>(e||$o.delete(s),o&&o(),e))},Vo=(e,t)=>{const n=e?.data;return n?n instanceof FormData?{method:"POST",body:n}:{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json, charset=UTF-8"}}:t?{cache:"no-cache",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}:void 0},Go=()=>Qe(uo),Ko=()=>Qe(ho),Jo=()=>Qe(po),Yo=(e,t,n,r,s)=>{"popstate"===e&&s?r.scrollTo(s.x,s.y):"link"!==e&&"form"!==e||Xo(t,n)||r.scrollTo(0,0)},Xo=(e,t)=>{const n=e.hash.slice(1),r=n&&document.getElementById(n);return r?(r.scrollIntoView(),!0):!(r||!e.hash||!Eo(e,t))},Qo=e=>({x:e.scrollLeft,y:e.scrollTop,w:Math.max(e.scrollWidth,e.clientWidth),h:Math.max(e.scrollHeight,e.clientHeight)}),Zo=()=>{const e=history.state;return e?._qCityScroll},ea=e=>{const t=history.state||{};t._qCityScroll=e,history.replaceState(t,"")},ta="_qCityScroller",na={},ra={navCount:0},sa=no(zs(()=>i(()=>Promise.resolve().then(()=>ua),void 0),"s_SqKRCSVAvgI"));const ia=no(zs(()=>i(()=>Promise.resolve().then(()=>Ha),void 0),"s_FX0CToya0Mw")),oa=e=>ft("script",{nonce:or(e,"nonce")},{type:"module",dangerouslySetInnerHTML:'"serviceWorker"in navigator?navigator.serviceWorker.register("/service-worker.js").catch(r=>console.error(r)):console.log("Service worker not supported in this browser.")'},null,3,"ar_7"),aa=(e,...t)=>{const{id:n,validators:r}=ca(t,e);function s(){return Qe(ao,t=>{if(!(n in t))throw new Error(`routeLoader$ "${e.getSymbol()}" was invoked in a route where it was not declared.\n    This is because the routeLoader$ was not exported in a 'layout.tsx' or 'index.tsx' file of the existing route.\n    For more information check: https://qwik.dev/qwikcity/route-loader/\n\n    If your are managing reusable logic or a library it is essential that this function is re-exported from within 'layout.tsx' or 'index.tsx file of the existing route otherwise it will not run or throw exception.\n    For more information check: https://qwik.dev/docs/re-exporting-loaders/`);return ir(t,n)})}return s.__brand="server_loader",s.__qrl=e,s.__validators=r,s.__id=n,Object.freeze(s),s},ca=(e,t)=>{let n;const r=[];if(1===e.length){const t=e[0];t&&"object"==typeof t&&("validate"in t?r.push(t):(n=t.id,t.validation&&r.push(...t.validation)))}else e.length>1&&r.push(...e.filter(e=>!!e));return n="string"==typeof n?`id_${n}`:t.getHash(),{validators:r.reverse(),id:n}},la=e=>{oo(zs(()=>i(()=>Promise.resolve().then(()=>_a),void 0),"s_lnepK54CC0s"),e=>e);const t=Mi(io("qwikcity"));if(!t?.params)throw new Error("Missing Qwik City Env Data for help visit https://github.com/QwikDev/qwik/issues/6237");const n=io("url");if(!n)throw new Error("Missing Qwik URL Env Data");const r=new URL(n),s=so({url:r,params:t.params,isNavigating:!1,prevUrl:void 0},{deep:!1}),o={},a=(c=so(t.response.loaders,{deep:!1}),Oi.add(c),c);var c;const l=cn({type:"initial",dest:r,forceReload:!1,replaceState:!1,scroll:!0}),u=so(Io),d=so({headings:void 0,menu:void 0}),h=cn(),p=t.response.action,f=p?t.response.loaders[p]:void 0,m=cn(f?{id:p,data:t.response.formData,output:{result:f,status:t.response.status}}:void 0),g=zs(()=>i(()=>Promise.resolve().then(()=>qa),void 0),"s_od2obl07f54"),y=zs(()=>i(()=>Promise.resolve().then(()=>Oa),void 0),"s_TAuHDP8cAnk",[m,o,l,s]);return Xe(co,d),Xe(lo,h),Xe(uo,u),Xe(ho,s),Xe(po,y),Xe(ao,a),Xe(fo,m),Xe(mo,l),Xe(go,g),pn(zs(()=>i(()=>Promise.resolve().then(()=>Ia),void 0),"s_tCo8NSe3Gng",[m,d,h,u,t,y,a,o,e,l,s])),gt(Xs,null,3,"ar_3")},ua=Object.freeze(Object.defineProperty({__proto__:null,s_SqKRCSVAvgI:la},Symbol.toStringTag,{value:"Module"})),da=e=>{const[t]=qt();if(!t.submitted)return t.submit(e)},ha=async(e,t)=>{const[n,r,s,i]=qt();e.defaultPrevented&&(t.hasAttribute("q:nbs")?await n(location.href,{type:"popstate"}):t.href&&(t.setAttribute("aria-pressed","true"),await n(t.href,{forceReload:r,replaceState:s,scroll:i}),t.removeAttribute("aria-pressed")))},pa=Object.freeze(Object.defineProperty({__proto__:null,_hW:Gt,s_qucHDhplgik:ha},Symbol.toStringTag,{value:"Module"})),fa=(e,t)=>{if(!navigator.connection?.saveData&&t&&t.href){const e=new URL(t.href);Wo(e.pathname),t.hasAttribute("data-prefetch")&&Ho(e,t,{prefetchSymbols:!1,isPrefetch:!0})}},ma=Object.freeze(Object.defineProperty({__proto__:null,_hW:Gt,s_pOY4MX0HEyo:fa},Symbol.toStringTag,{value:"Module"})),ga=e=>{const t=e.url??"http://localhost/",n=new URL(t),r=so({url:n,params:e.params??{},isNavigating:!1,prevUrl:void 0},{deep:!1}),s=cn({}),o=cn({type:"initial",dest:n}),a=e.goto??zs(()=>i(()=>Promise.resolve().then(()=>Ba),void 0),"s_GjYBd0GVpcg"),c=so(Io,{deep:!1}),l=so({headings:void 0,menu:void 0},{deep:!1}),u=cn(),d=cn();return Xe(co,l),Xe(lo,u),Xe(uo,c),Xe(ho,r),Xe(po,a),Xe(ao,s),Xe(fo,d),Xe(mo,o),gt(Xs,null,3,"ar_4")},ya=":root{view-transition-name:none}",_a=Object.freeze(Object.defineProperty({__proto__:null,s_lnepK54CC0s:ya},Symbol.toStringTag,{value:"Module"})),va=({track:e})=>{const[t,n,r,s]=qt();e(()=>s.url.pathname);const i=r.onQVisible$;if(i){const e=new CustomEvent("qvisible");Array.isArray(i)?i.flat(10).forEach(n=>n?.(e,t.value)):i?.(e,t.value)}t.value&&n?.(void 0,t.value)},$a=Object.freeze(Object.defineProperty({__proto__:null,_hW:Gt,s_71lGmHBg3VI:va},Symbol.toStringTag,{value:"Module"})),ba=(e,t)=>{const n=window,r="_qCitySPA",s="_qCityInitPopstate",i="_qCityInitAnchors",o="_qCityInitVisibility",a="_qCityInitScroll";if(!(n[r]||n[s]||n[i]||n[o]||n[a])){const e=location.pathname+location.search,c="_qCityHistoryPatch",l="_qCityBootstrap",u="_qCityScrollEnabled",d="_qCityScrollDebounce",h="_qCityScroll",p=e=>{e&&n.scrollTo(e.x,e.y)},f=()=>{const e=document.documentElement;return{x:e.scrollLeft,y:e.scrollTop,w:Math.max(e.scrollWidth,e.clientWidth),h:Math.max(e.scrollHeight,e.clientHeight)}},m=e=>{const t=history.state||{};t[h]=e||f(),history.replaceState(t,"")};if(m(),n[s]=()=>{if(!n[r])if(n[u]=!1,clearTimeout(n[d]),e!==location.pathname+location.search){const e=e=>e.closest("[q\\:container]"),r=e(t)?.querySelector("a[q\\:link]");if(r){const t=e(r),s=r.cloneNode();s.setAttribute("q:nbs",""),s.style.display="none",t.appendChild(s),n[l]=s,s.click()}else location.reload()}else if("manual"===history.scrollRestoration){const e=history.state?.[h];p(e),n[u]=!0}},!n[c]){n[c]=!0;const e=history.pushState,t=history.replaceState,r=e=>(null==e?e={}:e?.constructor!==Object&&(e={_data:e}),e._qCityScroll=e._qCityScroll||f(),e);history.pushState=(t,n,s)=>(t=r(t),e.call(history,t,n,s)),history.replaceState=(e,n,s)=>(e=r(e),t.call(history,e,n,s))}n[i]=e=>{if(n[r]||e.defaultPrevented)return;const t=e.target.closest("a[href]");if(t&&!t.hasAttribute("preventdefault:click")){const r=t.getAttribute("href"),s=new URL(location.href),i=new URL(r,s),o=i.origin===s.origin,a=i.pathname+i.search===s.pathname+s.search;if(o&&a)if(e.preventDefault(),i.href!==s.href&&history.pushState(null,"",i),i.hash){const e=i.hash.slice(1),t=document.getElementById(e);t&&t.scrollIntoView()}else i.href.endsWith("#")?window.scrollTo(0,0):(n[u]=!1,clearTimeout(n[d]),m({...f(),x:0,y:0}),location.reload())}},n[o]=()=>{!n[r]&&n[u]&&"hidden"===document.visibilityState&&m()},n[a]=()=>{!n[r]&&n[u]&&(clearTimeout(n[d]),n[d]=setTimeout(()=>{m(),n[d]=void 0},200))},n[u]=!0,setTimeout(()=>{addEventListener("popstate",n[s]),addEventListener("scroll",n[a],{passive:!0}),document.body.addEventListener("click",n[i]),n.navigation||document.addEventListener("visibilitychange",n[o],{passive:!0})},0)}},wa=Object.freeze(Object.defineProperty({__proto__:null,s_G5JRozgukmA:ba},Symbol.toStringTag,{value:"Module"})),Sa=()=>i(()=>import("./q-CihQVREz.js"),[]),ka=()=>i(()=>import("./q-Xy1PofCr.js"),[]),Ta=()=>i(()=>import("./q-BM7C_UDP.js"),[]),Ea=[["/",[Ta,()=>i(()=>import("./q-D0YHQ4UN.js"),[])]],["api/docs/",[Ta,()=>i(()=>import("./q-dJrNT4a9.js").then(e=>e.i),[])]],["auth/callback/",[Ta,()=>i(()=>import("./q-Bw0Nh8OY.js"),[])]],["dashboard/analytics/",[Ta,ka,Sa,()=>i(()=>import("./q-B8twWM4u.js"),[])]],["dashboard/components/",[Ta,ka,Sa,()=>i(()=>import("./q-VHghVM1a.js"),[])]],["dashboard/media/",[Ta,ka,Sa,()=>i(()=>import("./q-3cjEDl2P.js").then(e=>e.i),[])]],["dashboard/pages/",[Ta,ka,Sa,()=>i(()=>import("./q-Cbw_MhfE.js"),[])]],["dashboard/posts/",[Ta,ka,Sa,()=>i(()=>import("./q-DglP-iIl.js"),[])]],["dashboard/",[Ta,ka,Sa,()=>i(()=>import("./q-BS_V3Yul.js").then(e=>e.i),[])]],["login/",[Ta,()=>i(()=>import("./q-DhpERLpC.js"),[])]],["api/[.404]",[Ta,()=>i(()=>import("./q-DRbnYsbH.js"),[])]],["[.catchall]",[Ta,()=>i(()=>import("./q-BdOQCAoa.js"),[])]],["[...slug]",[Ta,()=>i(()=>import("./q-BYy-4fjg.js").then(e=>e.i),[])]]],xa=[],Ca=({track:e})=>{const[t,n,r,s,i,o,a,c,l,u,d]=qt();!async function(){const[i,h]=e(()=>[u.value,t.value]),p=function(e){if(void 0===An){const t=Dn();return t&&t.$locale$?t.$locale$:e}return An}(""),f=d.url,m=h?"form":i.type,g=i.replaceState;let y,_,v,$=null;{y=new URL(i.dest,location),y.pathname.endsWith("/")||(y.pathname+="/");let e=qo(Ea,xa,0,y.pathname);v=Jn();const t=_=await Ho(y,v,{action:h,clearCache:!0});if(!t)return void(u.untrackedValue={type:m,dest:y});const n=t.href,r=new URL(n,y);Eo(r,y)||(y=r,e=qo(Ea,xa,0,y.pathname));try{$=await e}catch(b){return void(window.location.href=n)}}if($){const[e,t,h,b]=$,w=h,S=w[w.length-1],k="form"===m&&!Eo(y,f);i.dest.search&&!k&&(y.search=i.dest.search),Eo(y,f)||(d.prevUrl=f),d.url=y,d.params={...t},u.untrackedValue={type:m,dest:y};const T=((e,t,n,r)=>{const s=Io(),i={head:s,withLocale:e=>Mn(r,e),resolveValue:t=>{const n=t.__id;if("server_loader"===t.__brand&&!(n in e.loaders))throw new Error("You can not get the returned data of a loader that has not been executed for this request.");const r=e.loaders[n];if((s=r)&&"function"==typeof s.then)throw new Error("Loaders returning a promise can not be resolved for the head function.");var s;return r},...t};for(let o=n.length-1;o>=0;o--){const e=n[o]&&n[o].head;e&&("function"==typeof e?xo(s,Mn(r,()=>e(i))):"object"==typeof e&&xo(s,e))}return i.head})(_,d,w,p);n.headings=S.headings,n.menu=b,r.value=Mi(w),s.links=T.links,s.meta=T.meta,s.styles=T.styles,s.scripts=T.scripts,s.title=T.title,s.frontmatter=T.frontmatter;{let t;!1!==l.viewTransition&&(document.__q_view_transition__=!0),"popstate"===m&&(t=Zo());const n=document.getElementById(ta)??document.documentElement;(!i.scroll||i.forceReload&&Eo(y,f)||"link"!==m&&"popstate"!==m)&&!k||(document.__q_scroll_restore__=()=>Yo(m,y,f,n,t));const r=_?.loaders,s=window;if(r&&Object.assign(a,r),$o.clear(),!s._qCitySPA){if(s._qCitySPA=!0,history.scrollRestoration="manual",s.addEventListener("popstate",()=>{s._qCityScrollEnabled=!1,clearTimeout(s._qCityScrollDebounce),o(location.href,{type:"popstate"})}),s.removeEventListener("popstate",s._qCityInitPopstate),s._qCityInitPopstate=void 0,!s._qCityHistoryPatch){s._qCityHistoryPatch=!0;const e=history.pushState,t=history.replaceState,r=e=>(null==e?e={}:e?.constructor!==Object&&(e={_data:e}),e._qCityScroll=e._qCityScroll||Qo(n),e);history.pushState=(t,n,s)=>(t=r(t),e.call(history,t,n,s)),history.replaceState=(e,n,s)=>(e=r(e),t.call(history,e,n,s))}document.body.addEventListener("click",e=>{if(e.defaultPrevented)return;const t=e.target.closest("a[href]");if(t&&!t.hasAttribute("preventdefault:click")){const r=t.getAttribute("href"),i=new URL(location.href),a=new URL(r,i);if(So(a,i)&&Eo(a,i)){if(e.preventDefault(),!a.hash&&!a.href.endsWith("#"))return a.href!==i.href&&history.pushState(null,"",a),s._qCityScrollEnabled=!1,clearTimeout(s._qCityScrollDebounce),ea({...Qo(n),x:0,y:0}),void location.reload();o(t.getAttribute("href"))}}}),document.body.removeEventListener("click",s._qCityInitAnchors),s._qCityInitAnchors=void 0,window.navigation||(document.addEventListener("visibilitychange",()=>{if(s._qCityScrollEnabled&&"hidden"===document.visibilityState){const e=Qo(n);ea(e)}},{passive:!0}),document.removeEventListener("visibilitychange",s._qCityInitVisibility),s._qCityInitVisibility=void 0),s.addEventListener("scroll",()=>{s._qCityScrollEnabled&&(clearTimeout(s._qCityScrollDebounce),s._qCityScrollDebounce=setTimeout(()=>{const e=Qo(n);ea(e),s._qCityScrollDebounce=void 0},200))},{passive:!0}),removeEventListener("scroll",s._qCityInitScroll),s._qCityInitScroll=void 0,s._qCityBootstrap?.remove(),s._qCityBootstrap=void 0,yo.resolve()}if("popstate"!==m){s._qCityScrollEnabled=!1,clearTimeout(s._qCityScrollDebounce);const e=Qo(n);ea(e)}((e,t,n,r,s=!1)=>{if("popstate"!==t){const t=Eo(n,r),i=n.hash===r.hash;if(!t||!i){const t={_qCityScroll:Bo()};s?e.history.replaceState(t,"",bo(r)):e.history.pushState(t,"",bo(r))}}})(window,m,f,y,g),(e=>{const t=Hn(e);return t?cr(t).$renderPromise$??Promise.resolve():Promise.resolve()})(v).then(()=>{const t=function(e){for(;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.parentElement;return e.closest("[q\\:container]")}(v);t.setAttribute("q:route",e);const r=Qo(n);ea(r),s._qCityScrollEnabled=!0,d.isNavigating=!1,c.r?.()})}}}()},Ia=Object.freeze(Object.defineProperty({__proto__:null,_hW:Gt,s_tCo8NSe3Gng:Ca},Symbol.toStringTag,{value:"Module"})),Ra=async(e,t)=>{const[n,r,s,i]=qt(),{type:o="link",forceReload:a=void 0===e,replaceState:c=!1,scroll:l=!0}="object"==typeof t?t:{forceReload:t};ra.navCount++;const u=s.value.dest,d=void 0===e?u:"number"==typeof e?e:wo(e,i.url);if(na.$cbs$&&(a||"number"==typeof d||!Eo(d,u)||!So(d,u))){const e=ra.navCount,t=await Promise.all([...na.$cbs$.values()].map(e=>e(d)));if(e!==ra.navCount||t.some(Boolean))return void(e===ra.navCount&&"popstate"===o&&history.pushState(null,"",u))}if("number"!=typeof d)if(So(d,u)){if(a||!Eo(d,u))return s.value={type:o,dest:d,forceReload:a,replaceState:c,scroll:l},Ho(d,Jn()),qo(Ea,xa,0,d.pathname),n.value=void 0,i.isNavigating=!0,new Promise(e=>{r.r=e});{"link"===o&&d.href!==location.href&&history.pushState(null,"",d);const e=document.getElementById(ta)??document.documentElement;Yo(o,d,new URL(location.href),e,Zo()),"popstate"===o&&(window._qCityScrollEnabled=!0)}}else location.href=d.href;else history.go(d)},Oa=Object.freeze(Object.defineProperty({__proto__:null,_hW:Gt,s_TAuHDP8cAnk:Ra},Symbol.toStringTag,{value:"Module"})),Aa=()=>{if(!io("containerAttributes"))throw new Error("PrefetchServiceWorker component must be rendered on the server.");Yn();const e=Qe(lo);if(e.value&&e.value.length>0){let t=null;for(let n=e.value.length-1;n>=0;n--)e.value[n].default&&(t=gt(e.value[n].default,{children:t},1,"ar_0"));return gt(wt,{children:[t,ft("script",{"document:onQCInit$":yo,"document:onQInit$":to(()=>{((e,t)=>{if(!e._qcs&&"manual"===t.scrollRestoration){e._qcs=!0;const n=t.state?._qCityScroll;n&&e.scrollTo(n.x,n.y),document.dispatchEvent(new Event("qcinit"))}})(window,history)},'()=>{((w,h)=>{if(!w._qcs&&h.scrollRestoration==="manual"){w._qcs=true;const s=h.state?._qCityScroll;if(s){w.scrollTo(s.x,s.y);}document.dispatchEvent(new Event("qcinit"));}})(window,history);}')},null,null,2,"ar_1")]},1,"ar_2")}return St},Pa=Object.freeze(Object.defineProperty({__proto__:null,s_IW497M0sx4Q:Aa},Symbol.toStringTag,{value:"Module"})),Ma=async(e,t)=>{const[n]=qt(),r=new FormData(t),s=new URLSearchParams;r.forEach((e,t)=>{"string"==typeof e&&s.append(t,e)}),await n("?"+s.toString(),{type:"form",forceReload:!0})},Da=Object.freeze(Object.defineProperty({__proto__:null,_hW:Gt,s_3A9q00AdLIk:Ma},Symbol.toStringTag,{value:"Module"})),Na=async function(...e){const[t,n,r,s,i]=qt(),o=e.length>0&&e[0]instanceof AbortSignal?e.shift():void 0;{const a=Jn(),c=e.map(e=>e instanceof SubmitEvent&&e.target instanceof HTMLFormElement?new FormData(e.target):e instanceof Event||e instanceof Node?null:e),l=i.getHash();let u="";const d={...t,method:r,headers:{...n,"Content-Type":"application/qwik-json",Accept:"application/json, application/qwik-json, text/qwik-json-stream, text/plain","X-QRL":l},signal:o},h=await Rs([i,...c]);"GET"===r?u+=`&qdata=${encodeURIComponent(h)}`:d.body=h;const p=await fetch(`${s}?qfunc=${l}${u}`,d),f=p.headers.get("Content-Type");if(p.ok&&"text/qwik-json-stream"===f&&p.body)return async function*(){try{for await(const e of async function*(e,t,n){const r=e.getReader();try{let e="";const s=new TextDecoder;for(;!n?.aborted;){const n=await r.read();if(n.done)break;e+=s.decode(n.value,{stream:!0});const i=e.split(/\n/);e=i.pop();for(const e of i)yield await At(e,t)}}finally{r.releaseLock()}}(p.body,a??document.documentElement,o))yield e}finally{o?.aborted||await p.body.cancel()}}();if("application/qwik-json"===f){const e=await p.text(),t=await At(e,a??document.documentElement);if(p.status>=400)throw t;return t}if("application/json"===f){const e=await p.json();if(p.status>=400)throw e;return e}if("text/plain"===f||"text/html"===f){const e=await p.text();if(p.status>=400)throw e;return e}}},La=e=>{const[t]=qt();t.error=e.detail.error},ja=Object.freeze(Object.defineProperty({__proto__:null,_hW:Gt,s_b3REbKXlmZQ:La},Symbol.toStringTag,{value:"Module"})),Ua=e=>(na.$handler$||(na.$handler$=e=>{if(ra.navCount++,!na.$cbs$)return;[...na.$cbs$.values()].map(e=>e.resolved?e.resolved():e()).some(Boolean)&&(e.preventDefault(),e.returnValue=!0)}),(na.$cbs$||(na.$cbs$=new Set)).add(e),e.resolve(),window.addEventListener("beforeunload",na.$handler$),()=>{na.$cbs$&&(na.$cbs$.delete(e),na.$cbs$.size||(na.$cbs$=void 0,window.removeEventListener("beforeunload",na.$handler$)))}),qa=Object.freeze(Object.defineProperty({__proto__:null,_hW:Gt,s_od2obl07f54:Ua},Symbol.toStringTag,{value:"Module"})),Fa=(e={})=>{const[t,n,r,s]=qt();let i,o;return e instanceof SubmitEvent?(o=e.target,i=new FormData(o),(e.submitter instanceof HTMLInputElement||e.submitter instanceof HTMLButtonElement)&&e.submitter.name&&e.submitter.name&&i.append(e.submitter.name,e.submitter.value)):i=e,new Promise(e=>{i instanceof FormData&&(s.formData=i),s.submitted=!0,s.isRunning=!0,r.isNavigating=!0,t.value={data:i,id:n,resolve:Mi(e)}}).then(({result:e,status:t})=>{if(s.isRunning=!1,s.status=t,s.value=e,o){"true"===o.getAttribute("data-spa-reset")&&o.reset();const n={status:t,value:e};o.dispatchEvent(new CustomEvent("submitcompleted",{bubbles:!1,cancelable:!1,composed:!1,detail:n}))}return{status:t,value:e}})},za=async()=>{},Ba=Object.freeze(Object.defineProperty({__proto__:null,_hW:Gt,s_GjYBd0GVpcg:za},Symbol.toStringTag,{value:"Module"})),Wa=e=>{const t=Jo(),n=Ko(),r=cn(),{onClick$:s,prefetch:o,reload:a,replaceState:c,scroll:l,...u}=(()=>e)(),d=Vn(()=>((e,t)=>{const n=e.href;if("string"!=typeof n||"string"==typeof e.target||e.reload){if(e.reload)return bo(wo("",t.url))}else try{const e=wo(n.trim(),t.url),r=wo("",t.url);if(So(e,r))return bo(e)}catch(r){}return null})({...u,reload:a},n));u.href=d||e.href;const h=Vn(()=>!!d&&!1!==o&&"js"!==o||void 0),p=Vn(()=>h||!!d&&!1!==o&&((e,t)=>{if(e){const n=wo(e,t.url),r=wo("",t.url);return!To(n,r)}return!1})(d,n)),f=p?zs(()=>i(()=>Promise.resolve().then(()=>ma),void 0),"s_pOY4MX0HEyo"):void 0,m=d?to((e,t)=>{e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.preventDefault()},"(event,target)=>{if(!(event.metaKey||event.ctrlKey||event.shiftKey||event.altKey)){event.preventDefault();}}"):void 0,g=d?zs(()=>i(()=>Promise.resolve().then(()=>pa),void 0),"s_qucHDhplgik",[t,a,c,l]):void 0;return fn(zs(()=>i(()=>Promise.resolve().then(()=>$a),void 0),"s_71lGmHBg3VI",[r,f,u,n])),mt("a",{ref:r,"q:link":!!d,...u,"data-prefetch":h,children:gt(Xs,null,3,"ar_5"),onClick$:[m,s,g],onMouseOver$:[u.onMouseOver$,f],onFocus$:[u.onFocus$,f],onQVisible$:[]},null,0,"ar_6")},Ha=Object.freeze(Object.defineProperty({__proto__:null,s_FX0CToya0Mw:Wa},Symbol.toStringTag,{value:"Module"})),Va=(e,t)=>{"true"===t.getAttribute("data-spa-reset")&&t.reset(),t.dispatchEvent(new CustomEvent("submitcompleted",{bubbles:!1,cancelable:!1,composed:!1,detail:{status:200}}))},Ga=Object.freeze(Object.defineProperty({__proto__:null,_hW:Gt,s_tFSUa4iZX9M:Va},Symbol.toStringTag,{value:"Module"})),Ka=e=>{Yn();const t=(()=>{const e=so({error:void 0});return Xe(tt,e),e})();var n,r;return n="qerror",r=zs(()=>i(()=>Promise.resolve().then(()=>ja),void 0),"s_b3REbKXlmZQ",[t]),an(on(n,"window"),r),t.error&&e.fallback$?gt(wt,{children:e.fallback$(t.error)},1,"ar_8"):gt(Xs,null,3,"ar_9")},Ja=()=>{const[e,t]=qt();return t(e)},Ya=e=>{const t=((e,t)=>{const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n})(e,["action","spaReset","reloadDocument","onSubmit$"]),n=Jo();return mt("form",{action:"get",get"preventdefault:submit"(){return!e.reloadDocument},get"data-spa-reset"(){return e.spaReset?"true":void 0},...t,children:gt(Xs,null,3,"ar_10"),onSubmit$:[...Array.isArray(e.onSubmit$)?e.onSubmit$:[e.onSubmit$],zs(()=>i(()=>Promise.resolve().then(()=>Da),void 0),"s_3A9q00AdLIk",[n]),zs(()=>i(()=>Promise.resolve().then(()=>Ga),void 0),"s_tFSUa4iZX9M")]},{action:Ee,"preventdefault:submit":pt(e=>!e.reloadDocument,[e]),"data-spa-reset":pt(e=>e.spaReset?"true":void 0,[e])},0,"ar_11")};class Xa extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class Qa extends Xa{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Za extends Xa{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ec extends Xa{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var tc,nc;(nc=tc||(tc={})).Any="any",nc.ApNortheast1="ap-northeast-1",nc.ApNortheast2="ap-northeast-2",nc.ApSouth1="ap-south-1",nc.ApSoutheast1="ap-southeast-1",nc.ApSoutheast2="ap-southeast-2",nc.CaCentral1="ca-central-1",nc.EuCentral1="eu-central-1",nc.EuWest1="eu-west-1",nc.EuWest2="eu-west-2",nc.EuWest3="eu-west-3",nc.SaEast1="sa-east-1",nc.UsEast1="us-east-1",nc.UsWest1="us-west-1",nc.UsWest2="us-west-2";var rc=function(e,t,n,r){return new(n||(n=Promise))(function(s,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})};class sc{constructor(e,{headers:t={},customFetch:n,region:r=tc.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>i(async()=>{const{default:e}=await Promise.resolve().then(()=>vc);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)})(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return rc(this,void 0,void 0,function*(){try{const{headers:r,method:s,body:i}=t;let o,a={},{region:c}=t;c||(c=this.region),c&&"any"!==c&&(a["x-region"]=c),i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!=typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",o=i):"string"==typeof i?(a["Content-Type"]="text/plain",o=i):"undefined"!=typeof FormData&&i instanceof FormData?o=i:(a["Content-Type"]="application/json",o=JSON.stringify(i)));const l=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:o}).catch(e=>{throw new Qa(e)}),u=l.headers.get("x-relay-error");if(u&&"true"===u)throw new Za(l);if(!l.ok)throw new ec(l);let d,h=(null!==(n=l.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return d="application/json"===h?yield l.json():"application/octet-stream"===h?yield l.blob():"text/event-stream"===h?l:"multipart/form-data"===h?yield l.formData():yield l.text(),{data:d,error:null}}catch(r){return{data:null,error:r}}})}}var ic="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function oc(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var ac={},cc={},lc={},uc={},dc={},hc={},pc=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const fc=pc.fetch,mc=pc.fetch.bind(pc),gc=pc.Headers,yc=pc.Request,_c=pc.Response,vc=Object.freeze(Object.defineProperty({__proto__:null,Headers:gc,Request:yc,Response:_c,default:mc,fetch:fc},Symbol.toStringTag,{value:"Module"})),$c=oc(vc);var bc={};Object.defineProperty(bc,"__esModule",{value:!0});let wc=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};bc.default=wc;var Sc=ic&&ic.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hc,"__esModule",{value:!0});const kc=Sc($c),Tc=Sc(bc);hc.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=kc.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r;let s=null,i=null,o=null,a=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),l=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&l&&l.length>1&&(o=parseInt(l[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(s={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,o=null,a=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(i=[],s=null,a=200,c="OK")}catch(l){404===e.status&&""===t?(a=204,c="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(r=null==s?void 0:s.details)||void 0===r?void 0:r.includes("0 rows"))&&(s=null,a=200,c="OK"),s&&this.shouldThrowOnError)throw new Tc.default(s)}return{error:s,data:i,count:o,status:a,statusText:c}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(n=null==e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}};var Ec=ic&&ic.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dc,"__esModule",{value:!0});const xc=Ec(hc);let Cc=class extends xc.default{select(e){let t=!1;const n=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=void 0===r?"offset":`${r}.offset`,i=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${c}"; options=${a};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};dc.default=Cc;var Ic=ic&&ic.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uc,"__esModule",{value:!0});const Rc=Ic(dc);let Oc=class extends Rc.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");const i=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};uc.default=Oc;var Ac=ic&&ic.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lc,"__esModule",{value:!0});const Pc=Ac(uc);lc.default=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=t,this.schema=n,this.fetch=r}select(e,{head:t=!1,count:n}={}){const r=t?"HEAD":"GET";let s=!1;const i=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Pc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new Pc.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){const i=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new Pc.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new Pc.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new Pc.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var Mc={},Dc={};Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.version=void 0,Dc.version="0.0.0-automated",Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.DEFAULT_HEADERS=void 0;const Nc=Dc;Mc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Nc.version}`};var Lc=ic&&ic.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cc,"__esModule",{value:!0});const jc=Lc(lc),Uc=Lc(uc),qc=Mc;cc.default=class e{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},qc.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new jc.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:r=!1,count:s}={}){let i;const o=new URL(`${this.url}/rpc/${e}`);let a;n||r?(i=n?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{o.searchParams.append(e,t)})):(i="POST",a=t);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new Uc.default({method:i,url:o,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};var Fc=ic&&ic.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ac,"__esModule",{value:!0}),ac.PostgrestError=ac.PostgrestBuilder=ac.PostgrestTransformBuilder=ac.PostgrestFilterBuilder=ac.PostgrestQueryBuilder=ac.PostgrestClient=void 0;const zc=Fc(cc);ac.PostgrestClient=zc.default;const Bc=Fc(lc);ac.PostgrestQueryBuilder=Bc.default;const Wc=Fc(uc);ac.PostgrestFilterBuilder=Wc.default;const Hc=Fc(dc);ac.PostgrestTransformBuilder=Hc.default;const Vc=Fc(hc);ac.PostgrestBuilder=Vc.default;const Gc=Fc(bc);ac.PostgrestError=Gc.default;var Kc=ac.default={PostgrestClient:zc.default,PostgrestQueryBuilder:Bc.default,PostgrestFilterBuilder:Wc.default,PostgrestTransformBuilder:Hc.default,PostgrestBuilder:Vc.default,PostgrestError:Gc.default};const{PostgrestClient:Jc,PostgrestQueryBuilder:Yc,PostgrestFilterBuilder:Xc,PostgrestTransformBuilder:Qc,PostgrestBuilder:Zc,PostgrestError:el}=Kc;const tl=function(){if("undefined"!=typeof WebSocket)return WebSocket;if(void 0!==global.WebSocket)return global.WebSocket;if(void 0!==window.WebSocket)return window.WebSocket;if(void 0!==self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}();var nl,rl,sl,il,ol,al,cl,ll,ul,dl,hl;(rl=nl||(nl={}))[rl.connecting=0]="connecting",rl[rl.open=1]="open",rl[rl.closing=2]="closing",rl[rl.closed=3]="closed",(il=sl||(sl={})).closed="closed",il.errored="errored",il.joined="joined",il.joining="joining",il.leaving="leaving",(al=ol||(ol={})).close="phx_close",al.error="phx_error",al.join="phx_join",al.reply="phx_reply",al.leave="phx_leave",al.access_token="access_token",(cl||(cl={})).websocket="websocket",(ul=ll||(ll={})).Connecting="connecting",ul.Open="open",ul.Closing="closing",ul.Closed="closed";class pl{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),s=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(e.slice(i,i+r));i+=r;const a=n.decode(e.slice(i,i+s));i+=s;return{ref:null,topic:o,event:a,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class fl{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(hl=dl||(dl={})).abstime="abstime",hl.bool="bool",hl.date="date",hl.daterange="daterange",hl.float4="float4",hl.float8="float8",hl.int2="int2",hl.int4="int4",hl.int4range="int4range",hl.int8="int8",hl.int8range="int8range",hl.json="json",hl.jsonb="jsonb",hl.money="money",hl.numeric="numeric",hl.oid="oid",hl.reltime="reltime",hl.text="text",hl.time="time",hl.timestamp="timestamp",hl.timestamptz="timestamptz",hl.timetz="timetz",hl.tsrange="tsrange",hl.tstzrange="tstzrange";const ml=(e,t,n={})=>{var r;const s=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((n,r)=>(n[r]=gl(r,e,t,s),n),{})},gl=(e,t,n,r)=>{const s=t.find(t=>t.name===e),i=null==s?void 0:s.type,o=n[e];return i&&!r.includes(i)?yl(i,o):_l(o)},yl=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return wl(t,n)}switch(e){case dl.bool:return vl(t);case dl.float4:case dl.float8:case dl.int2:case dl.int4:case dl.int8:case dl.numeric:case dl.oid:return $l(t);case dl.json:case dl.jsonb:return bl(t);case dl.timestamp:return Sl(t);case dl.abstime:case dl.date:case dl.daterange:case dl.int4range:case dl.int8range:case dl.money:case dl.reltime:case dl.text:case dl.time:case dl.timestamptz:case dl.timetz:case dl.tsrange:case dl.tstzrange:default:return _l(t)}},_l=e=>e,vl=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$l=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bl=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},wl=(e,t)=>{if("string"!=typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(s){r=i?i.split(","):[]}return r.map(e=>yl(t,e))}return e},Sl=e=>"string"==typeof e?e.replace(" ","T"):e,kl=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Tl{constructor(e,t,n={},r=1e4){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var El,xl,Cl,Il,Rl,Ol,Al,Pl;(xl=El||(El={})).SYNC="sync",xl.JOIN="join",xl.LEAVE="leave";class Ml{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ml.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=Ml.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Ml.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const s=this.cloneDeep(e),i=this.transformState(t),o={},a={};return this.map(s,(e,t)=>{i[e]||(a[e]=t)}),this.map(i,(e,t)=>{const n=s[e];if(n){const r=t.map(e=>e.presence_ref),s=n.map(e=>e.presence_ref),i=t.filter(e=>s.indexOf(e.presence_ref)<0),c=n.filter(e=>r.indexOf(e.presence_ref)<0);i.length>0&&(o[e]=i),c.length>0&&(a[e]=c)}else o[e]=t}),this.syncDiff(s,{joins:o,leaves:a},n,r)}static syncDiff(e,t,n,r){const{joins:s,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,(t,r)=>{var s;const i=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map(e=>e.presence_ref),r=i.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,i,r)}),this.map(i,(t,n)=>{let s=e[t];if(!s)return;const i=n.map(e=>e.presence_ref);s=s.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=s,r(t,s,n),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(Il=Cl||(Cl={})).ALL="*",Il.INSERT="INSERT",Il.UPDATE="UPDATE",Il.DELETE="DELETE",(Ol=Rl||(Rl={})).BROADCAST="broadcast",Ol.PRESENCE="presence",Ol.POSTGRES_CHANGES="postgres_changes",Ol.SYSTEM="system",(Pl=Al||(Al={})).SUBSCRIBED="SUBSCRIBED",Pl.TIMED_OUT="TIMED_OUT",Pl.CLOSED="CLOSED",Pl.CHANNEL_ERROR="CHANNEL_ERROR";class Dl{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=sl.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Tl(this,ol.join,this.params,this.timeout),this.rejoinTimer=new fl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sl.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sl.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=sl.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sl.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ol.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Ml(this),this.broadcastEndpointURL=kl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==sl.closed){const{config:{broadcast:s,presence:i,private:o}}=this.params;this._onError(t=>null==e?void 0:e(Al.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(Al.CLOSED));const a={},c={broadcast:s,presence:i,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],private:o};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var n;if(this.socket.setAuth(),void 0!==t){const r=this.bindings.postgres_changes,s=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,i=[];for(let n=0;n<s;n++){const s=r[n],{filter:{event:o,schema:a,table:c,filter:l}}=s,u=t&&t[n];if(!u||u.event!==o||u.schema!==a||u.table!==c||u.filter!==l)return this.unsubscribe(),this.state=sl.errored,void(null==e||e(Al.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},s),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e(Al.SUBSCRIBED))}null==e||e(Al.SUBSCRIBED)}).receive("error",t=>{this.state=sl.errored,null==e||e(Al.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(Al.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,s,i;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)||void 0===i?void 0:i.ack)||n("ok"),o.receive("ok",()=>n("ok")),o.receive("error",()=>n("error")),o.receive("timeout",()=>n("timed out"))});{const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(s){return"AbortError"===s.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=sl.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ol.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new Tl(this,ol.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null==n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const r=new AbortController,s=setTimeout(()=>r.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),i}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Tl(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,s;const i=e.toLocaleLowerCase(),{close:o,error:a,leave:c,join:l}=ol;if(n&&[o,a,c,l].indexOf(i)>=0&&n!==this._joinRef())return;let u=this._onMessage(i,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i}).map(e=>e.callback(u,n)):null===(s=this.bindings[i])||void 0===s||s.filter(e=>{var n,r,s,o,a,c;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,o=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const n=null===(a=null===(o=null==e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===n||n===(null===(c=null==t?void 0:t.event)||void 0===c?void 0:c.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"==typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:s,errors:i}=e,o={schema:t,table:n,commit_timestamp:r,eventType:s,new:{},old:{},errors:i};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===sl.closed}_isJoined(){return this.state===sl.joined}_isJoining(){return this.state===sl.joining}_isLeaving(){return this.state===sl.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&Dl.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ol.close,{},e)}_onError(e){this._on(ol.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sl.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=ml(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=ml(e.columns,e.old_record)),t}}const Nl=()=>{};class Ll{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nl,this.ref=0,this.logger=Nl,this.conn=null,this.sendBuffer=[],this.serializer=new pl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>i(async()=>{const{default:e}=await Promise.resolve().then(()=>vc);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${cl.websocket}`,this.httpEndpoint=kl(e),(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),((null==t?void 0:t.logLevel)||(null==t?void 0:t.log_level))&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const r=null===(n=null==t?void 0:t.params)||void 0===n?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch),null==t?void 0:t.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==t?void 0:t.worker)||!1,this.workerUrl=null==t?void 0:t.workerUrl}this.accessToken=(null==t?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=tl),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(e=>e.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case nl.connecting:return ll.Connecting;case nl.open:return ll.Open;case nl.closing:return ll.Closing;default:return ll.Closed}}isConnected(){return this.connectionState()===ll.Open}channel(e,t={config:{}}){const n=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new Dl(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:s}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${n} (${s})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const n={access_token:t,version:"realtime-js/2.11.15"};t&&e.updateJoinPayload(n),e.joinedOnce&&e._isJoined()&&e._push(ol.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:n,payload:r,ref:s}=e;"phoenix"===t&&"phx_reply"===n&&this.heartbeatCallback("ok"==e.payload.status?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${s&&"("+s+")"||""}`,r),Array.from(this.channels).filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,s)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ol.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class jl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ul(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class ql extends jl{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Fl extends jl{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var zl=function(e,t,n,r){return new(n||(n=Promise))(function(s,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})};const Bl=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>i(async()=>{const{default:e}=await Promise.resolve().then(()=>vc);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},Wl=e=>{if(Array.isArray(e))return e.map(e=>Wl(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,n])=>{const r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[r]=Wl(n)}),t};var Hl=function(e,t,n,r){return new(n||(n=Promise))(function(s,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})};const Vl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gl=(e,t,n)=>Hl(void 0,void 0,void 0,function*(){const r=yield zl(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield i(()=>Promise.resolve().then(()=>vc),void 0)).Response:Response});e instanceof r&&!(null==n?void 0:n.noResolveJson)?e.json().then(n=>{t(new ql(Vl(n),e.status||500))}).catch(e=>{t(new Fl(Vl(e),e))}):t(new Fl(Vl(e),e))});function Kl(e,t,n,r,s,i){return Hl(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,((e,t,n,r)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))})(t,r,s,i)).then(e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>Gl(e,a,r))})})}function Jl(e,t,n,r){return Hl(this,void 0,void 0,function*(){return Kl(e,"GET",t,n,r)})}function Yl(e,t,n,r,s){return Hl(this,void 0,void 0,function*(){return Kl(e,"POST",t,r,s,n)})}function Xl(e,t,n,r,s){return Hl(this,void 0,void 0,function*(){return Kl(e,"DELETE",t,r,s,n)})}var Ql=function(e,t,n,r){return new(n||(n=Promise))(function(s,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})};const Zl={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tu{constructor(e,t={},n,r){this.url=e,this.headers=t,this.bucketId=n,this.fetch=Bl(r)}uploadOrUpdate(e,t,n,r){return Ql(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},eu),r);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const a=i.metadata;"undefined"!=typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),a&&s.append("metadata",this.encodeMetadata(a)),s.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),a&&s.append("metadata",this.encodeMetadata(a))):(s=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,a&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null==r?void 0:r.headers)&&(o=Object.assign(Object.assign({},o),r.headers));const c=this._removeEmptyFolders(t),l=this._getFinalPath(c),u=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:s,headers:o},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:c,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(s){if(Ul(s))return{data:null,error:s};throw s}})}upload(e,t,n){return Ql(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return Ql(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),i=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:eu.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);const a=yield this.fetch(o.toString(),{method:"PUT",body:e,headers:i}),c=yield a.json();if(a.ok)return{data:{path:s,fullPath:c.Key},error:null};return{data:null,error:c}}catch(a){if(Ul(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,t){return Ql(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(r["x-upsert"]="true");const s=yield Yl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),i=new URL(this.url+s.url),o=i.searchParams.get("token");if(!o)throw new jl("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(Ul(n))return{data:null,error:n};throw n}})}update(e,t,n){return Ql(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Ql(this,void 0,void 0,function*(){try{return{data:yield Yl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Ul(r))return{data:null,error:r};throw r}})}copy(e,t,n){return Ql(this,void 0,void 0,function*(){try{return{data:{path:(yield Yl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Ul(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return Ql(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),s=yield Yl(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(r){if(Ul(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return Ql(this,void 0,void 0,function*(){try{const r=yield Yl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null})),error:null}}catch(r){if(Ul(r))return{data:null,error:r};throw r}})}download(e,t){return Ql(this,void 0,void 0,function*(){const n=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield Jl(this.fetch,`${this.url}/${n}/${t}${s}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(i){if(Ul(i))return{data:null,error:i};throw i}})}info(e){return Ql(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Jl(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Wl(e),error:null}}catch(n){if(Ul(n))return{data:null,error:n};throw n}})}exists(e){return Ql(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return Hl(this,void 0,void 0,function*(){return Kl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ul(n)&&n instanceof Fl){const e=n.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&r.push(s);const i=void 0!==(null==t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&r.push(o);let a=r.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}remove(e){return Ql(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Ul(t))return{data:null,error:t};throw t}})}list(e,t,n){return Ql(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Zl),t),{prefix:e||""});return{data:yield Yl(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Ul(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const nu={"X-Client-Info":"storage-js/2.7.1"};var ru=function(e,t,n,r){return new(n||(n=Promise))(function(s,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})};class su{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},nu),t),this.fetch=Bl(n)}listBuckets(){return ru(this,void 0,void 0,function*(){try{return{data:yield Jl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ul(e))return{data:null,error:e};throw e}})}getBucket(e){return ru(this,void 0,void 0,function*(){try{return{data:yield Jl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Ul(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return ru(this,void 0,void 0,function*(){try{return{data:yield Yl(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ul(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return ru(this,void 0,void 0,function*(){try{const n=yield function(e,t,n,r,s){return Hl(this,void 0,void 0,function*(){return Kl(e,"PUT",t,r,s,n)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(Ul(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ru(this,void 0,void 0,function*(){try{return{data:yield Yl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Ul(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ru(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Ul(t))return{data:null,error:t};throw t}})}}class iu extends su{constructor(e,t={},n){super(e,t,n)}from(e){return new tu(this.url,this.headers,e,this.fetch)}}let ou="";ou="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const au={headers:{"X-Client-Info":`supabase-js-${ou}/2.50.2`}},cu={schema:"public"},lu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uu={};var du=function(e,t,n,r){return new(n||(n=Promise))(function(s,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})};const hu=(e,t,n)=>{const r=(e=>{let t;return t=e||("undefined"==typeof fetch?mc:fetch),(...e)=>t(...e)})(n),s="undefined"==typeof Headers?gc:Headers;return(n,i)=>du(void 0,void 0,void 0,function*(){var o;const a=null!==(o=yield t())&&void 0!==o?o:e;let c=new s(null==i?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(n,Object.assign(Object.assign({},i),{headers:c}))})};var pu=function(e,t,n,r){return new(n||(n=Promise))(function(s,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})};const fu="2.70.0",mu=3e4,gu=9e4,yu={"X-Client-Info":`gotrue-js/${fu}`},_u="X-Supabase-Api-Version",vu={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},$u=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class bu extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function wu(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Su extends bu{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class ku extends bu{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Tu extends bu{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Eu extends Tu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class xu extends Tu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cu extends Tu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Iu extends Tu{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ru extends Tu{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ou extends Tu{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Au(e){return wu(e)&&"AuthRetryableFetchError"===e.name}class Pu extends Tu{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Mu extends Tu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Du="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nu=" \t\n\r=".split(""),Lu=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Nu.length;t+=1)e[Nu[t].charCodeAt(0)]=-2;for(let t=0;t<Du.length;t+=1)e[Du[t].charCodeAt(0)]=t;return e})();function ju(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Du[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Du[e]),t.queuedBits-=6}}function Uu(e,t,n){const r=Lu[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function qu(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let o=0;o<e.length;o+=1)Uu(e.charCodeAt(o),s,i);return t.join("")}function Fu(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function zu(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let s=0;s<e.length;s+=1)Uu(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Bu(e){const t=[];return function(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Fu(r,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function Wu(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>ju(e,n,r)),ju(null,n,r),t.join("")}const Hu=()=>"undefined"!=typeof window&&"undefined"!=typeof document,Vu={tested:!1,writable:!1},Gu=()=>{if(!Hu())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(Vu.tested)return Vu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vu.tested=!0,Vu.writable=!0}catch(t){Vu.tested=!0,Vu.writable=!1}return Vu.writable};const Ku=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>i(async()=>{const{default:e}=await Promise.resolve().then(()=>vc);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},Ju=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Yu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Xu=async(e,t)=>{await e.removeItem(t)};class Qu{constructor(){this.promise=new Qu.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Zu(e){const t=e.split(".");if(3!==t.length)throw new Mu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!$u.test(t[n]))throw new Mu("JWT not in base64url format");return{header:JSON.parse(qu(t[0])),payload:JSON.parse(qu(t[1])),signature:zu(t[2]),raw:{header:t[0],payload:t[1]}}}function ed(e){return("0"+e.toString(16)).substr(-2)}async function td(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nd(e,t,n=!1){const r=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,ed).join("")}();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ju(e,`${t}-code-verifier`,s);const i=await td(r);return[i,r===i?"plain":"s256"]}Qu.promiseConstructor=Promise;const rd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const sd=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function id(e){if(!sd.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}const od=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ad=[502,503,504];async function cd(e){var t,n;if(!("object"==typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"==typeof n.json))throw new Ou(od(e),0);if(ad.includes(e.status))throw new Ou(od(e),e.status);let r,s;try{r=await e.json()}catch(o){throw new ku(od(o),o)}const i=function(e){const t=e.headers.get(_u);if(!t)return null;if(!t.match(rd))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(o){return null}}(e);if(i&&i.getTime()>=vu.timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?s=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(s=r.error_code),s){if("weak_password"===s)throw new Pu(od(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new Eu}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new Pu(od(r),e.status,r.weak_password.reasons);throw new Su(od(r),e.status||500,s)}async function ld(e,t,n,r){var s;const i=Object.assign({},null==r?void 0:r.headers);i[_u]||(i[_u]=vu.name),(null==r?void 0:r.jwt)&&(i.Authorization=`Bearer ${r.jwt}`);const o=null!==(s=null==r?void 0:r.query)&&void 0!==s?s:{};(null==r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await async function(e,t,n,r,s,i){const o=((e,t,n,r)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))})(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(c){throw new Ou(od(c),0)}a.ok||await cd(a);if(null==r?void 0:r.noResolveJson)return a;try{return await a.json()}catch(c){await cd(c)}}(e,t,n+a,{headers:i,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(c):{data:Object.assign({},c),error:null}}function ud(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function dd(e){const t=ud(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function hd(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function pd(e){return{data:e,error:null}}function fd(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},user:Object.assign({},o)},error:null}}function md(e){return e}const gd=["global","local","others"];class yd{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Ku(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=gd[0]){if(gd.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gd.join(", ")}`);try{return await ld(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(wu(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await ld(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:hd})}catch(n){if(wu(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null==n?void 0:n.newEmail,delete r.newEmail),await ld(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:fd,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(wu(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ld(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:hd})}catch(t){if(wu(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,s,i,o,a;try{const c={nextPage:null,lastPage:0,total:0},l=await ld(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:md});if(l.error)throw l.error;const u=await l.json(),d=null!==(i=l.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(a=null===(o=l.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);c[`${n}Page`]=t}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},u),c),error:null}}catch(c){if(wu(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){id(e);try{return await ld(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:hd})}catch(t){if(wu(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){id(e);try{return await ld(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:hd})}catch(n){if(wu(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){id(e);try{return await ld(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:hd})}catch(n){if(wu(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){id(e.userId);try{const{data:t,error:n}=await ld(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(wu(t))return{data:null,error:t};throw t}}async _deleteFactor(e){id(e.userId),id(e.id);try{return{data:await ld(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(wu(t))return{data:null,error:t};throw t}}}const _d={getItem:e=>Gu()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Gu()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Gu()&&globalThis.localStorage.removeItem(e)}};function vd(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const $d=!!(globalThis&&Gu()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class bd extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wd extends bd{}async function Sd(e,t,n){const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort()},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw new wd(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($d)try{await globalThis.navigator.locks.query()}catch(s){}return await n()}try{return await n()}finally{}}))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const kd={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yu,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Td(e,t,n){return await n()}class Ed{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ed.nextInstanceID,Ed.nextInstanceID+=1,this.instanceID>0&&Hu();const r=Object.assign(Object.assign({},kd),e);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new yd({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Ku(r.fetch),this.lock=r.lock||Td,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Hu()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Sd:this.lock=Td,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Gu()?this.storage=_d:(this.memoryStorage={},this.storage=vd(this.memoryStorage)):(this.memoryStorage={},this.storage=vd(this.memoryStorage)),Hu()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fu}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(r){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Hu()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return wu(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return wu(t)?{error:t}:{error:new ku("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const s=await ld(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:ud}),{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const a=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(wu(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,r;try{let s;if("email"in e){const{email:n,password:r,options:i}=e;let o=null,a=null;"pkce"===this.flowType&&([o,a]=await nd(this.storage,this.storageKey)),s=await ld(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:a},xform:ud})}else{if(!("phone"in e))throw new Cu("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:o}=e;s=await ld(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null==o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null==o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:ud})}}const{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const a=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(wu(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:s}=e;t=await ld(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:dd})}else{if(!("phone"in e))throw new Cu("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:s}=e;t=await ld(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:dd})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new xu}}catch(t){if(wu(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,r,s,i,o,a,c,l,u,d,h;let p,f;if("message"in e)p=e.message,f=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let y;if(Hu())if("object"==typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!=typeof h||!(null==g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const _=new URL(null!==(t=null==g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==g?void 0:g.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),f=t.signature}else{if(!("signMessage"in y&&"function"==typeof y.signMessage&&"publicKey"in y&&"object"==typeof y&&y.publicKey&&"toBase58"in y.publicKey&&"function"==typeof y.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${null!==(r=null===(n=null==g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()}`,...(null===(s=null==g?void 0:g.signInWithSolana)||void 0===s?void 0:s.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(i=null==g?void 0:g.signInWithSolana)||void 0===i?void 0:i.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(o=null==g?void 0:g.signInWithSolana)||void 0===o?void 0:o.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(a=null==g?void 0:g.signInWithSolana)||void 0===a?void 0:a.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(c=null==g?void 0:g.signInWithSolana)||void 0===c?void 0:c.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(u=null===(l=null==g?void 0:g.signInWithSolana)||void 0===l?void 0:l.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(p),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=e}}try{const{data:t,error:n}=await ld(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Wu(f)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:ud});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new xu}}catch(m){if(wu(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await Yu(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!=t?t:"").split("/");try{const{data:t,error:s}=await ld(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ud});if(await Xu(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:s}):{data:{user:null,session:null,redirectType:null},error:new xu}}catch(s){if(wu(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:s,nonce:i}=e,o=await ld(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:ud}),{data:a,error:c}=o;return c?{data:{user:null,session:null},error:c}:a&&a.session&&a.user?(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c}):{data:{user:null,session:null},error:new xu}}catch(t){if(wu(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,s,i;try{if("email"in e){const{email:r,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await nd(this.storage,this.storageKey));const{error:a}=await ld(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null==s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:t,options:n}=e,{data:o,error:a}=await ld(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(s=null==n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},channel:null!==(i=null==n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a}}throw new Cu("You must provide either an email or phone number.")}catch(o){if(wu(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let r,s;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:o}=await ld(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:ud});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const a=i.session,c=i.user;return(null==a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(r){if(wu(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let s=null,i=null;return"pkce"===this.flowType&&([s,i]=await nd(this.storage,this.storageKey)),await ld(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:pd})}catch(s){if(wu(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Eu;const{error:r}=await ld(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(wu(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:s}=e,{error:i}=await ld(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:s}=e,{data:i,error:o}=await ld(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:o}}throw new Cu("You must provide either an email or phone number and a type")}catch(t){if(wu(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Yu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<gu;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await ld(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:hd}):await this._useSession(async e=>{var t,n,r;const{data:s,error:i}=e;if(i)throw i;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await ld(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:hd}):{data:{user:null},error:new Eu}})}catch(t){if(wu(t))return function(e){return wu(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Xu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new Eu;const i=r.session;let o=null,a=null;"pkce"===this.flowType&&null!=e.email&&([o,a]=await nd(this.storage,this.storageKey));const{data:c,error:l}=await ld(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:a}),jwt:i.access_token,xform:hd});if(l)throw l;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(wu(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Eu;const t=Date.now()/1e3;let n=t,r=!0,s=null;const{payload:i}=Zu(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(wu(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:s}=t;if(s)throw s;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null==e?void 0:e.refresh_token))throw new Eu;const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(wu(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Hu())throw new Iu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Iu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Ru("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Iu("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ru("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:i,expires_in:o,expires_at:a,token_type:c}=e;if(!(s&&o&&i&&c))throw new Iu("No session defined in URL");const l=Math.round(Date.now()/1e3),u=parseInt(o);let d=l+u;a&&(d=parseInt(a));const{data:h,error:p}=await this._getUser(s);if(p)throw p;const f={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:u,expires_at:d,refresh_token:i,token_type:c,user:h.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:f,redirectType:e.type},error:null}}catch(n){if(wu(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Yu(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return{error:s};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return wu(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Xu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:s}=t;if(s)throw s;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(s){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s)}})}async resetPasswordForEmail(e,t={}){let n=null,r=null;"pkce"===this.flowType&&([n,r]=await nd(this.storage,this.storageKey,!0));try{return await ld(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(wu(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(wu(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,s,i,o;const{data:a,error:c}=t;if(c)throw c;const l=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await ld(this.fetch,"GET",l,{headers:this.headers,jwt:null!==(o=null===(i=a.session)||void 0===i?void 0:i.access_token)&&void 0!==o?o:void 0})});if(r)throw r;return Hu()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==n?void 0:n.url),{data:{provider:e.provider,url:null==n?void 0:n.url},error:null}}catch(n){if(wu(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:s,error:i}=t;if(i)throw i;return await ld(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(wu(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await ld(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ud})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Au(t)&&Date.now()+n-s<mu},new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await n(i);if(!r(i,null,t))return void e(t)}catch(s){if(!r(i,s))return void t(s)}})()}))}catch(s){if(this._debug(t,"error",s),wu(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Hu()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await Yu(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(e=n.expires_at)&&void 0!==e?e:1/0)-Date.now()<gu;if(this._debug(t,`session has${r?"":" not"} expired with margin of 90000s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(Au(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return void this._debug(t,"error",n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Eu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Qu;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Eu;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(s){if(this._debug(r,"error",s),wu(s)){const e={session:null,error:s};return Au(s)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],s=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(s){r.push(s)}});if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ju(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Xu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Hu()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mu);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/mu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof bd))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Hu()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null==n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null==n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await nd(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null==n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null==n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await ld(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(wu(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:s,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await ld(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:null===(n=null==s?void 0:s.session)||void 0===n?void 0:n.access_token});return c?{data:null,error:c}:("totp"===e.factorType&&(null===(r=null==a?void 0:a.totp)||void 0===r?void 0:r.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(t){if(wu(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return{data:null,error:s};const{data:i,error:o}=await ld(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(t){if(wu(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await ld(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(wu(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null==e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),s=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Zu(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(a="aal2");return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:i.amr||[]},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(t=>t.kid===e);if(n)return n;if(n=this.jwks.keys.find(t=>t.kid===e),n&&this.jwks_cached_at+6e5>Date.now())return n;const{data:r,error:s}=await ld(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!r.keys||0===r.keys.length)throw new Mu("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),n=r.keys.find(t=>t.kid===e),!n)throw new Mu("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:s,signature:i,raw:{header:o,payload:a}}=Zu(n);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp),!r.kid||"HS256"===r.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:s,header:r,signature:i},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),l=await this.fetchJwk(r.kid,t),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(await crypto.subtle.verify(c,u,i,Bu(`${o}.${a}`))))throw new Mu("Invalid JWT signature");return{data:{claims:s,header:r,signature:i},error:null}}catch(n){if(wu(n))return{data:null,error:n};throw n}}}Ed.nextInstanceID=0;const xd=Ed;class Cd extends xd{constructor(e){super(e)}}var Id=function(e,t,n,r){return new(n||(n=Promise))(function(s,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})};class Rd{constructor(e,t,n){var r,s,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=(a=e).endsWith("/")?a:a+"/";var a;const c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,u=function(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:c,auth:l,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},null!==(n=null==d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null==a?void 0:a.headers)&&void 0!==r?r:{})}),accessToken:()=>pu(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!=n?n:{},{db:cu,realtime:uu,auth:Object.assign(Object.assign({},lu),{storageKey:l}),global:au});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(s=u.global.headers)&&void 0!==s?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=u.auth)&&void 0!==i?i:{},this.headers,u.global.fetch),this.fetch=hu(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Jc(new URL("rest/v1",c).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new sc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new iu(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Id(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,storageKey:s,flowType:i,lock:o,debug:a},c,l){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Cd({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),c),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,flowType:i,lock:o,debug:a,fetch:l,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Ll(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const Od=(e,t,n)=>new Rd(e,t,n),{entries:Ad,setPrototypeOf:Pd,isFrozen:Md,getPrototypeOf:Dd,getOwnPropertyDescriptor:Nd}=Object;
/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */let{freeze:Ld,seal:jd,create:Ud}=Object,{apply:qd,construct:Fd}="undefined"!=typeof Reflect&&Reflect;Ld||(Ld=function(e){return e}),jd||(jd=function(e){return e}),qd||(qd=function(e,t,n){return e.apply(t,n)}),Fd||(Fd=function(e,t){return new e(...t)});const zd=rh(Array.prototype.forEach),Bd=rh(Array.prototype.lastIndexOf),Wd=rh(Array.prototype.pop),Hd=rh(Array.prototype.push),Vd=rh(Array.prototype.splice),Gd=rh(String.prototype.toLowerCase),Kd=rh(String.prototype.toString),Jd=rh(String.prototype.match),Yd=rh(String.prototype.replace),Xd=rh(String.prototype.indexOf),Qd=rh(String.prototype.trim),Zd=rh(Object.prototype.hasOwnProperty),eh=rh(RegExp.prototype.test),th=(nh=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fd(nh,t)});var nh;function rh(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return qd(e,t,r)}}function sh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gd;Pd&&Pd(e,null);let r=t.length;for(;r--;){let s=t[r];if("string"==typeof s){const e=n(s);e!==s&&(Md(t)||(t[r]=e),s=e)}e[s]=!0}return e}function ih(e){for(let t=0;t<e.length;t++){Zd(e,t)||(e[t]=null)}return e}function oh(e){const t=Ud(null);for(const[n,r]of Ad(e)){Zd(e,n)&&(Array.isArray(r)?t[n]=ih(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=oh(r):t[n]=r)}return t}function ah(e,t){for(;null!==e;){const n=Nd(e,t);if(n){if(n.get)return rh(n.get);if("function"==typeof n.value)return rh(n.value)}e=Dd(e)}return function(){return null}}const ch=Ld(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),lh=Ld(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),uh=Ld(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dh=Ld(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),hh=Ld(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ph=Ld(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),fh=Ld(["#text"]),mh=Ld(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),gh=Ld(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),yh=Ld(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),_h=Ld(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vh=jd(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$h=jd(/<%[\w\W]*|[\w\W]*%>/gm),bh=jd(/\$\{[\w\W]*/gm),wh=jd(/^data-[\-\w.\u00B7-\uFFFF]+$/),Sh=jd(/^aria-[\-\w]+$/),kh=jd(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Th=jd(/^(?:\w+script|data):/i),Eh=jd(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),xh=jd(/^html$/i),Ch=jd(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ih=Object.freeze({__proto__:null,ARIA_ATTR:Sh,ATTR_WHITESPACE:Eh,CUSTOM_ELEMENT:Ch,DATA_ATTR:wh,DOCTYPE_NAME:xh,ERB_EXPR:$h,IS_ALLOWED_URI:kh,IS_SCRIPT_OR_DATA:Th,MUSTACHE_EXPR:vh,TMPLIT_EXPR:bh});const Rh=1,Oh=3,Ah=7,Ph=8,Mh=9;var Dh=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const n=t=>e(t);if(n.version="3.2.6",n.removed=[],!t||!t.document||t.document.nodeType!==Mh||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const s=r,i=s.currentScript,{DocumentFragment:o,HTMLTemplateElement:a,Node:c,Element:l,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:p,trustedTypes:f}=t,m=l.prototype,g=ah(m,"cloneNode"),y=ah(m,"remove"),_=ah(m,"nextSibling"),v=ah(m,"childNodes"),$=ah(m,"parentNode");if("function"==typeof a){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let b,w="";const{implementation:S,createNodeIterator:k,createDocumentFragment:T,getElementsByTagName:E}=r,{importNode:x}=s;let C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof Ad&&"function"==typeof $&&S&&void 0!==S.createHTMLDocument;const{MUSTACHE_EXPR:I,ERB_EXPR:R,TMPLIT_EXPR:O,DATA_ATTR:A,ARIA_ATTR:P,IS_SCRIPT_OR_DATA:M,ATTR_WHITESPACE:D,CUSTOM_ELEMENT:N}=Ih;let{IS_ALLOWED_URI:L}=Ih,j=null;const U=sh({},[...ch,...lh,...uh,...hh,...fh]);let q=null;const F=sh({},[...mh,...gh,...yh,..._h]);let z=Object.seal(Ud(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),B=null,W=null,H=!0,V=!0,G=!1,K=!0,J=!1,Y=!0,X=!1,Q=!1,Z=!1,ee=!1,te=!1,ne=!1,re=!0,se=!1,ie=!0,oe=!1,ae={},ce=null;const le=sh({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const de=sh({},["audio","video","img","source","image","track"]);let he=null;const pe=sh({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fe="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let ye=ge,_e=!1,ve=null;const $e=sh({},[fe,me,ge],Kd);let be=sh({},["mi","mo","mn","ms","mtext"]),we=sh({},["annotation-xml"]);const Se=sh({},["title","style","font","a","script"]);let ke=null;const Te=["application/xhtml+xml","text/html"];let Ee=null,xe=null;const Ce=r.createElement("form"),Ie=function(e){return e instanceof RegExp||e instanceof Function},Re=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!xe||xe!==e){if(e&&"object"==typeof e||(e={}),e=oh(e),ke=-1===Te.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ee="application/xhtml+xml"===ke?Kd:Gd,j=Zd(e,"ALLOWED_TAGS")?sh({},e.ALLOWED_TAGS,Ee):U,q=Zd(e,"ALLOWED_ATTR")?sh({},e.ALLOWED_ATTR,Ee):F,ve=Zd(e,"ALLOWED_NAMESPACES")?sh({},e.ALLOWED_NAMESPACES,Kd):$e,he=Zd(e,"ADD_URI_SAFE_ATTR")?sh(oh(pe),e.ADD_URI_SAFE_ATTR,Ee):pe,ue=Zd(e,"ADD_DATA_URI_TAGS")?sh(oh(de),e.ADD_DATA_URI_TAGS,Ee):de,ce=Zd(e,"FORBID_CONTENTS")?sh({},e.FORBID_CONTENTS,Ee):le,B=Zd(e,"FORBID_TAGS")?sh({},e.FORBID_TAGS,Ee):oh({}),W=Zd(e,"FORBID_ATTR")?sh({},e.FORBID_ATTR,Ee):oh({}),ae=!!Zd(e,"USE_PROFILES")&&e.USE_PROFILES,H=!1!==e.ALLOW_ARIA_ATTR,V=!1!==e.ALLOW_DATA_ATTR,G=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,J=e.SAFE_FOR_TEMPLATES||!1,Y=!1!==e.SAFE_FOR_XML,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Z=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,se=e.SANITIZE_NAMED_PROPS||!1,ie=!1!==e.KEEP_CONTENT,oe=e.IN_PLACE||!1,L=e.ALLOWED_URI_REGEXP||kh,ye=e.NAMESPACE||ge,be=e.MATHML_TEXT_INTEGRATION_POINTS||be,we=e.HTML_INTEGRATION_POINTS||we,z=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ie(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(z.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ie(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(z.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(z.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),J&&(V=!1),te&&(ee=!0),ae&&(j=sh({},fh),q=[],!0===ae.html&&(sh(j,ch),sh(q,mh)),!0===ae.svg&&(sh(j,lh),sh(q,gh),sh(q,_h)),!0===ae.svgFilters&&(sh(j,uh),sh(q,gh),sh(q,_h)),!0===ae.mathMl&&(sh(j,hh),sh(q,yh),sh(q,_h))),e.ADD_TAGS&&(j===U&&(j=oh(j)),sh(j,e.ADD_TAGS,Ee)),e.ADD_ATTR&&(q===F&&(q=oh(q)),sh(q,e.ADD_ATTR,Ee)),e.ADD_URI_SAFE_ATTR&&sh(he,e.ADD_URI_SAFE_ATTR,Ee),e.FORBID_CONTENTS&&(ce===le&&(ce=oh(ce)),sh(ce,e.FORBID_CONTENTS,Ee)),ie&&(j["#text"]=!0),X&&sh(j,["html","head","body"]),j.table&&(sh(j,["tbody"]),delete B.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw th('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw th('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=e.TRUSTED_TYPES_POLICY,w=b.createHTML("")}else void 0===b&&(b=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML:e=>e,createScriptURL:e=>e})}catch(i){return null}}(f,i)),null!==b&&"string"==typeof w&&(w=b.createHTML(""));Ld&&Ld(e),xe=e}},Oe=sh({},[...lh,...uh,...dh]),Ae=sh({},[...hh,...ph]),Pe=function(e){Hd(n.removed,{element:e});try{$(e).removeChild(e)}catch(t){y(e)}},Me=function(e,t){try{Hd(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){Hd(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{Pe(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},De=function(e){let t=null,n=null;if(Z)e="<remove></remove>"+e;else{const t=Jd(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ke&&ye===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const s=b?b.createHTML(e):e;if(ye===ge)try{t=(new p).parseFromString(s,ke)}catch(o){}if(!t||!t.documentElement){t=S.createDocument(ye,"template",null);try{t.documentElement.innerHTML=_e?w:s}catch(o){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),ye===ge?E.call(t,X?"html":"body")[0]:X?t.documentElement:i},Ne=function(e){return k.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Le=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},je=function(e){return"function"==typeof c&&e instanceof c};function Ue(e,t,r){zd(e,e=>{e.call(n,t,r,xe)})}const qe=function(e){let t=null;if(Ue(C.beforeSanitizeElements,e,null),Le(e))return Pe(e),!0;const r=Ee(e.nodeName);if(Ue(C.uponSanitizeElement,e,{tagName:r,allowedTags:j}),Y&&e.hasChildNodes()&&!je(e.firstElementChild)&&eh(/<[/\w!]/g,e.innerHTML)&&eh(/<[/\w!]/g,e.textContent))return Pe(e),!0;if(e.nodeType===Ah)return Pe(e),!0;if(Y&&e.nodeType===Ph&&eh(/<[/\w]/g,e.data))return Pe(e),!0;if(!j[r]||B[r]){if(!B[r]&&ze(r)){if(z.tagNameCheck instanceof RegExp&&eh(z.tagNameCheck,r))return!1;if(z.tagNameCheck instanceof Function&&z.tagNameCheck(r))return!1}if(ie&&!ce[r]){const t=$(e)||e.parentNode,n=v(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r){const s=g(n[r],!0);s.__removalCount=(e.__removalCount||0)+1,t.insertBefore(s,_(e))}}}return Pe(e),!0}return e instanceof l&&!function(e){let t=$(e);t&&t.tagName||(t={namespaceURI:ye,tagName:"template"});const n=Gd(e.tagName),r=Gd(t.tagName);return!!ve[e.namespaceURI]&&(e.namespaceURI===me?t.namespaceURI===ge?"svg"===n:t.namespaceURI===fe?"svg"===n&&("annotation-xml"===r||be[r]):Boolean(Oe[n]):e.namespaceURI===fe?t.namespaceURI===ge?"math"===n:t.namespaceURI===me?"math"===n&&we[r]:Boolean(Ae[n]):e.namespaceURI===ge?!(t.namespaceURI===me&&!we[r])&&!(t.namespaceURI===fe&&!be[r])&&!Ae[n]&&(Se[n]||!Oe[n]):!("application/xhtml+xml"!==ke||!ve[e.namespaceURI]))}(e)?(Pe(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!eh(/<\/no(script|embed|frames)/i,e.innerHTML)?(J&&e.nodeType===Oh&&(t=e.textContent,zd([I,R,O],e=>{t=Yd(t,e," ")}),e.textContent!==t&&(Hd(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ue(C.afterSanitizeElements,e,null),!1):(Pe(e),!0)},Fe=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in r||n in Ce))return!1;if(V&&!W[t]&&eh(A,t));else if(H&&eh(P,t));else if(!q[t]||W[t]){if(!(ze(e)&&(z.tagNameCheck instanceof RegExp&&eh(z.tagNameCheck,e)||z.tagNameCheck instanceof Function&&z.tagNameCheck(e))&&(z.attributeNameCheck instanceof RegExp&&eh(z.attributeNameCheck,t)||z.attributeNameCheck instanceof Function&&z.attributeNameCheck(t))||"is"===t&&z.allowCustomizedBuiltInElements&&(z.tagNameCheck instanceof RegExp&&eh(z.tagNameCheck,n)||z.tagNameCheck instanceof Function&&z.tagNameCheck(n))))return!1}else if(he[t]);else if(eh(L,Yd(n,D,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Xd(n,"data:")||!ue[e]){if(G&&!eh(M,Yd(n,D,"")));else if(n)return!1}else;return!0},ze=function(e){return"annotation-xml"!==e&&Jd(e,N)},Be=function(e){Ue(C.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Le(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q,forceKeepAttr:void 0};let s=t.length;for(;s--;){const o=t[s],{name:a,namespaceURI:c,value:l}=o,u=Ee(a),d=l;let h="value"===a?d:Qd(d);if(r.attrName=u,r.attrValue=h,r.keepAttr=!0,r.forceKeepAttr=void 0,Ue(C.uponSanitizeAttribute,e,r),h=r.attrValue,!se||"id"!==u&&"name"!==u||(Me(a,e),h="user-content-"+h),Y&&eh(/((--!?|])>)|<\/(style|title)/i,h)){Me(a,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){Me(a,e);continue}if(!K&&eh(/\/>/i,h)){Me(a,e);continue}J&&zd([I,R,O],e=>{h=Yd(h,e," ")});const p=Ee(e.nodeName);if(Fe(p,u,h)){if(b&&"object"==typeof f&&"function"==typeof f.getAttributeType)if(c);else switch(f.getAttributeType(p,u)){case"TrustedHTML":h=b.createHTML(h);break;case"TrustedScriptURL":h=b.createScriptURL(h)}if(h!==d)try{c?e.setAttributeNS(c,a,h):e.setAttribute(a,h),Le(e)?Pe(e):Wd(n.removed)}catch(i){Me(a,e)}}else Me(a,e)}Ue(C.afterSanitizeAttributes,e,null)},We=function e(t){let n=null;const r=Ne(t);for(Ue(C.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)Ue(C.uponSanitizeShadowNode,n,null),qe(n),Be(n),n.content instanceof o&&e(n.content);Ue(C.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,i=null,a=null,l=null;if(_e=!e,_e&&(e="\x3c!--\x3e"),"string"!=typeof e&&!je(e)){if("function"!=typeof e.toString)throw th("toString is not a function");if("string"!=typeof(e=e.toString()))throw th("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Q||Re(t),n.removed=[],"string"==typeof e&&(oe=!1),oe){if(e.nodeName){const t=Ee(e.nodeName);if(!j[t]||B[t])throw th("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)r=De("\x3c!----\x3e"),i=r.ownerDocument.importNode(e,!0),i.nodeType===Rh&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!ee&&!J&&!X&&-1===e.indexOf("<"))return b&&ne?b.createHTML(e):e;if(r=De(e),!r)return ee?null:ne?w:""}r&&Z&&Pe(r.firstChild);const u=Ne(oe?e:r);for(;a=u.nextNode();)qe(a),Be(a),a.content instanceof o&&We(a.content);if(oe)return e;if(ee){if(te)for(l=T.call(r.ownerDocument);r.firstChild;)l.appendChild(r.firstChild);else l=r;return(q.shadowroot||q.shadowrootmode)&&(l=x.call(s,l,!0)),l}let d=X?r.outerHTML:r.innerHTML;return X&&j["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&eh(xh,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),J&&zd([I,R,O],e=>{d=Yd(d,e," ")}),b&&ne?b.createHTML(d):d},n.setConfig=function(){Re(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},n.clearConfig=function(){xe=null,Q=!1},n.isValidAttribute=function(e,t,n){xe||Re({});const r=Ee(e),s=Ee(t);return Fe(r,s,n)},n.addHook=function(e,t){"function"==typeof t&&Hd(C[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=Bd(C[e],t);return-1===n?void 0:Vd(C[e],n,1)[0]}return Wd(C[e])},n.removeHooks=function(e){C[e]=[]},n.removeAllHooks=function(){C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const Nh=Object.prototype.toString;function Lh(e){switch(Nh.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Kh(e,Error)}}function jh(e,t){return Nh.call(e)===`[object ${t}]`}function Uh(e){return jh(e,"ErrorEvent")}function qh(e){return jh(e,"DOMError")}function Fh(e){return jh(e,"String")}function zh(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Bh(e){return null===e||zh(e)||"object"!=typeof e&&"function"!=typeof e}function Wh(e){return jh(e,"Object")}function Hh(e){return"undefined"!=typeof Event&&Kh(e,Event)}function Vh(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function Gh(e){return"number"==typeof e&&e!=e}function Kh(e,t){try{return e instanceof t}catch(n){return!1}}function Jh(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function Yh(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function Xh(e,t){if(!Array.isArray(e))return"";const n=[];for(let s=0;s<e.length;s++){const t=e[s];try{Jh(t)?n.push("[VueViewModel]"):n.push(String(t))}catch(r){n.push("[value cannot be serialized]")}}return n.join(t)}function Qh(e,t,n=!1){return!!Fh(e)&&(jh(t,"RegExp")?t.test(e):!!Fh(t)&&(n?e===t:e.includes(t)))}function Zh(e,t=[],n=!1){return t.some(t=>Qh(e,t,n))}function ep(e,t,n=250,r,s,i,o){if(!(i.exception&&i.exception.values&&o&&Kh(o.originalException,Error)))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,l;a&&(i.exception.values=(c=tp(e,t,s,o.originalException,r,i.exception.values,a,0),l=n,c.map(e=>(e.value&&(e.value=Yh(e.value,l)),e))))}function tp(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(Kh(r[s],Error)){np(o,a);const i=e(t,r[s]),l=c.length;rp(i,s,l,a),c=tp(e,t,n,r[s],s,[i,...c],i,l)}return Array.isArray(r.errors)&&r.errors.forEach((r,i)=>{if(Kh(r,Error)){np(o,a);const l=e(t,r),u=c.length;rp(l,`errors[${i}]`,u,a),c=tp(e,t,n,r,s,[l,...c],l,u)}}),c}function np(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function rp(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function sp(e){return e&&e.Math==Math?e:void 0}const ip="object"==typeof globalThis&&sp(globalThis)||"object"==typeof window&&sp(window)||"object"==typeof self&&sp(self)||"object"==typeof global&&sp(global)||function(){return this}()||{};function op(){return ip}function ap(e,t,n){const r=n||ip,s=r.__SENTRY__=r.__SENTRY__||{};return s[e]||(s[e]=t())}const cp=op();function lp(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let l;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(l=up(n,u),!("html"===l||i>1&&o+s.length*c+l.length>=d));)s.push(l),o+=l.length,n=n.parentNode;return s.reverse().join(a)}catch(n){return"<unknown>"}}function up(e,t){const n=e,r=[];let s,i,o,a,c;if(!n||!n.tagName)return"";if(cp.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const l=t&&t.length?t.filter(e=>n.getAttribute(e)).map(e=>[e,n.getAttribute(e)]):null;if(l&&l.length)l.forEach(e=>{r.push(`[${e[0]}="${e[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&Fh(s))for(i=s.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const u=["aria-label","type","name","title","alt"];for(c=0;c<u.length;c++)o=u[c],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function dp(e){if(!cp.HTMLElement)return null;let t=e;for(let n=0;n<5;n++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const hp="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,pp=["debug","info","warn","error","log","assert","trace"],fp={};function mp(e){if(!("console"in ip))return e();const t=ip.console,n={},r=Object.keys(fp);r.forEach(e=>{const r=fp[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(e=>{t[e]=n[e]})}}const gp=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return hp?pp.forEach(n=>{t[n]=(...t)=>{e&&mp(()=>{ip.console[n](`Sentry Logger [${n}]:`,...t)})}}):pp.forEach(e=>{t[e]=()=>{}}),t}(),yp=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function _p(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${o}`}function vp(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function $p(e){const t="string"==typeof e?function(e){const t=yp.exec(e);if(!t)return void mp(()=>{});const[n,r,s="",i,o="",a]=t.slice(1);let c="",l=a;const u=l.split("/");if(u.length>1&&(c=u.slice(0,-1).join("/"),l=u.pop()),l){const e=l.match(/^\d+/);e&&(l=e[0])}return vp({host:i,pass:s,path:c,projectId:l,port:o,protocol:n,publicKey:r})}(e):vp(e);if(t&&function(e){if(!hp)return!0;const{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(gp.error(`Invalid Sentry Dsn: ${t} missing`),!0))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(gp.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(gp.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(gp.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}class bp extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function wp(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);"function"==typeof s&&kp(s,r),e[t]=s}function Sp(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(r){hp&&gp.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function kp(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Sp(e,"__sentry_original__",t)}catch(n){}}function Tp(e){return e.__sentry_original__}function Ep(e){if(Lh(e))return{message:e.message,name:e.name,stack:e.stack,...Cp(e)};if(Hh(e)){const t={type:e.type,target:xp(e.target),currentTarget:xp(e.currentTarget),...Cp(e)};return"undefined"!=typeof CustomEvent&&Kh(e,CustomEvent)&&(t.detail=e.detail),t}return e}function xp(e){try{return t=e,"undefined"!=typeof Element&&Kh(t,Element)?lp(e):Object.prototype.toString.call(e)}catch(n){return"<unknown>"}var t}function Cp(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Ip(e){return Rp(e,new Map)}function Rp(e,t){if(function(e){if(!Wh(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(t){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const s of Object.keys(e))void 0!==e[s]&&(r[s]=Rp(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach(e=>{r.push(Rp(e,t))}),r}return e}const Op=/\(error: (.*)\)/,Ap=/captureMessage|captureException/;function Pp(...e){const t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,n=0)=>{const r=[],s=e.split("\n");for(let i=n;i<s.length;i++){const e=s[i];if(e.length>1024)continue;const n=Op.test(e)?e.replace(Op,"$1"):e;if(!n.match(/\S*Error: /)){for(const e of t){const t=e(n);if(t){r.push(t);break}}if(r.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),Ap.test(t[t.length-1].function||"")&&(t.pop(),Ap.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,50).map(e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"}))}(r)}}const Mp="<anonymous>";function Dp(e){try{return e&&"function"==typeof e&&e.name||Mp}catch(t){return Mp}}const Np={},Lp={};function jp(e,t){Np[e]=Np[e]||[],Np[e].push(t)}function Up(e,t){Lp[e]||(t(),Lp[e]=!0)}function qp(e,t){const n=e&&Np[e];if(n)for(const s of n)try{s(t)}catch(r){hp&&gp.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Dp(s)}\nError:`,r)}}function Fp(){"console"in ip&&pp.forEach(function(e){e in ip.console&&wp(ip.console,e,function(t){return fp[e]=t,function(...t){qp("console",{args:t,level:e});const n=fp[e];n&&n.apply(ip.console,t)}})})}function zp(){const e=ip,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(r){}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&n())>>e/4).toString(16))}function Bp(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Wp(e){const{message:t,event_id:n}=e;if(t)return t;const r=Bp(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Hp(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Vp(e,t){const n=Bp(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function Gp(e){if(e&&e.__sentry_captured__)return!0;try{Sp(e,"__sentry_captured__",!0)}catch(t){}return!1}function Kp(e){return Array.isArray(e)?e:[e]}const Jp=ip;let Yp,Xp,Qp;function Zp(e){jp("dom",e),Up("dom",ef)}function ef(){if(!Jp.document)return;const e=qp.bind(null,"dom"),t=tf(e,!0);Jp.document.addEventListener("click",t,!1),Jp.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{const n=Jp[t]&&Jp[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(wp(n,"addEventListener",function(t){return function(n,r,s){if("click"===n||"keypress"==n)try{const r=this,i=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},o=i[n]=i[n]||{refCount:0};if(!o.handler){const r=tf(e);o.handler=r,t.call(this,n,r,s)}o.refCount++}catch(i){}return t.call(this,n,r,s)}}),wp(n,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,s=n.__sentry_instrumentation_handlers__||{},i=s[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete s[t]),0===Object.keys(s).length&&delete n.__sentry_instrumentation_handlers__)}catch(s){}return e.call(this,t,n,r)}}))})}function tf(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(t){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;Sp(n,"_sentryCaptured",!0),r&&!r._sentryId&&Sp(r,"_sentryId",zp());const s="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==Xp)return!1;try{if(!e.target||e.target._sentryId!==Qp)return!1}catch(t){}return!0}(n)){e({event:n,name:s,global:t}),Xp=n.type,Qp=r?r._sentryId:void 0}clearTimeout(Yp),Yp=Jp.setTimeout(()=>{Qp=void 0,Xp=void 0},1e3)}}const nf=op();function rf(){if(!("fetch"in nf))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function sf(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function of(e){const t="fetch";jp(t,e),Up(t,af)}function af(){(function(){if("string"==typeof EdgeRuntime)return!0;if(!rf())return!1;if(sf(nf.fetch))return!0;let e=!1;const t=nf.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=sf(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){hp&&gp.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e})()&&wp(ip,"fetch",function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:lf(t),method:cf(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:lf(t),method:cf(t,"method")?String(t.method).toUpperCase():"GET"}}(t),s={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return qp("fetch",{...s}),e.apply(ip,t).then(e=>(qp("fetch",{...s,endTimestamp:Date.now(),response:e}),e),e=>{throw qp("fetch",{...s,endTimestamp:Date.now(),error:e}),e})}})}function cf(e,t){return!!e&&"object"==typeof e&&!!e[t]}function lf(e){return"string"==typeof e?e:e?cf(e,"url")?e.url:e.toString?e.toString():"":""}let uf=null;function df(e){const t="error";jp(t,e),Up(t,hf)}function hf(){uf=ip.onerror,ip.onerror=function(e,t,n,r,s){return qp("error",{column:r,error:s,line:n,msg:e,url:t}),!(!uf||uf.__SENTRY_LOADER__)&&uf.apply(this,arguments)},ip.onerror.__SENTRY_INSTRUMENTED__=!0}let pf=null;function ff(e){const t="unhandledrejection";jp(t,e),Up(t,mf)}function mf(){pf=ip.onunhandledrejection,ip.onunhandledrejection=function(e){return qp("unhandledrejection",e),!(pf&&!pf.__SENTRY_LOADER__)||pf.apply(this,arguments)},ip.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const gf=op();const yf=ip;let _f;function vf(e){const t="history";jp(t,e),Up(t,$f)}function $f(){if(!function(){const e=gf.chrome,t=e&&e.app&&e.app.runtime,n="history"in gf&&!!gf.history.pushState&&!!gf.history.replaceState;return!t&&n}())return;const e=yf.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=_f,t=String(n);_f=t;qp("history",{from:e,to:t})}return e.apply(this,t)}}yf.onpopstate=function(...t){const n=yf.location.href,r=_f;_f=n;if(qp("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(s){}},wp(yf.history,"pushState",t),wp(yf.history,"replaceState",t)}const bf=ip,wf="__sentry_xhr_v3__";function Sf(e){jp("xhr",e),Up("xhr",kf)}function kf(){if(!bf.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;wp(e,"open",function(e){return function(...t){const n=Date.now(),r=Fh(t[0])?t[0].toUpperCase():void 0,s=function(e){if(Fh(e))return e;try{return e.toString()}catch(t){}return}(t[1]);if(!r||!s)return e.apply(this,t);this[wf]={method:r,url:s,request_headers:{}},"POST"===r&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const i=()=>{const e=this[wf];if(e&&4===this.readyState){try{e.status_code=this.status}catch(t){}qp("xhr",{args:[r,s],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?wp(this,"onreadystatechange",function(e){return function(...t){return i(),e.apply(this,t)}}):this.addEventListener("readystatechange",i),wp(this,"setRequestHeader",function(e){return function(...t){const[n,r]=t,s=this[wf];return s&&Fh(n)&&Fh(r)&&(s.request_headers[n.toLowerCase()]=r),e.apply(this,t)}}),e.apply(this,t)}}),wp(e,"send",function(e){return function(...t){const n=this[wf];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);return qp("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}})}function Tf(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function Ef(){return"undefined"!=typeof window&&(!Tf()||void 0!==ip.process&&"renderer"===ip.process.type)}function xf(e,t=100,n=1/0){try{return If("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Cf(e,t=3,n=102400){const r=xf(e,t);return s=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(s))>n?Cf(e,t-1,n):r;var s}function If(e,t,n=1/0,r=1/0,s=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[i,o]=s;if(null==t||["number","boolean","string"].includes(typeof t)&&!Gh(t))return t;const a=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(Jh(t))return"[VueViewModel]";if(Wh(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${Dp(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}var n}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return a.replace("object ","");if(i(t))return"[Circular ~]";const l=t;if(l&&"function"==typeof l.toJSON)try{return If("",l.toJSON(),c-1,r,s)}catch(p){}const u=Array.isArray(t)?[]:{};let d=0;const h=Ep(t);for(const f in h){if(!Object.prototype.hasOwnProperty.call(h,f))continue;if(d>=r){u[f]="[MaxProperties ~]";break}const e=h[f];u[f]=If(f,e,c-1,r,s),d++}return o(t),u}var Rf;function Of(e){return new Pf(t=>{t(e)})}function Af(e){return new Pf((t,n)=>{n(e)})}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(Rf||(Rf={}));class Pf{constructor(e){Pf.prototype.__init.call(this),Pf.prototype.__init2.call(this),Pf.prototype.__init3.call(this),Pf.prototype.__init4.call(this),this._state=Rf.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(t){this._reject(t)}}then(e,t){return new Pf((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(s){r(s)}else n(t)},e=>{if(t)try{n(t(e))}catch(s){r(s)}else r(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new Pf((t,n)=>{let r,s;return this.then(t=>{s=!1,r=t,e&&e()},t=>{s=!0,r=t,e&&e()}).then(()=>{s?n(r):t(r)})})}__init(){this._resolve=e=>{this._setResult(Rf.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Rf.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===Rf.PENDING&&(Vh(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Rf.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(this._state===Rf.RESOLVED&&e[1](this._value),this._state===Rf.REJECTED&&e[2](this._value),e[0]=!0)})}}}function Mf(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return Af(new bp("Not adding Promise because buffer limit was reached."));const s=r();return-1===t.indexOf(s)&&t.push(s),s.then(()=>n(s)).then(null,()=>n(s).then(null,()=>{})),s},drain:function(e){return new Pf((n,r)=>{let s=t.length;if(!s)return n(!0);const i=setTimeout(()=>{e&&e>0&&n(!1)},e);t.forEach(e=>{Of(e).then(()=>{--s||(clearTimeout(i),n(!0))},r)})})}}}function Df(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const Nf=["fatal","error","warning","log","info","debug"];function Lf(e){return"warn"===e?"warning":Nf.includes(e)?e:"log"}function jf(){return Date.now()/1e3}const Uf=function(){const{performance:e}=ip;if(!e||!e.now)return jf;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}(),qf=(()=>{const{performance:e}=ip;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,a="number"==typeof o?Math.abs(o+n-r):t;return i||a<t?s<=a?e.timeOrigin:o:r})(),Ff="baggage",zf="sentry-",Bf=/^sentry-/;function Wf(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce((e,[t,n],r)=>{const s=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,i=0===r?s:`${e},${s}`;return i.length>8192?(hp&&gp.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):i},"")}(Object.entries(e).reduce((e,[t,n])=>(n&&(e[`${zf}${t}`]=n),e),{}))}function Hf(e){return e.split(",").map(e=>e.split("=").map(e=>decodeURIComponent(e.trim()))).reduce((e,[t,n])=>(e[t]=n,e),{})}const Vf=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Gf(e,t){const n=function(e){if(!e)return;const t=e.match(Vf);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}(e),r=function(e){if(!Fh(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((e,t)=>{const n=Hf(t);for(const r of Object.keys(n))e[r]=n[r];return e},{});else{if(!e)return;t=Hf(e)}const n=Object.entries(t).reduce((e,[t,n])=>(t.match(Bf)&&(e[t.slice(7)]=n),e),{});return Object.keys(n).length>0?n:void 0}(t),{traceId:s,parentSpanId:i,parentSampled:o}=n||{};return n?{traceId:s||zp(),parentSpanId:i||zp().substring(16),spanId:zp().substring(16),sampled:o,dsc:r||{}}:{traceId:s||zp(),spanId:zp().substring(16)}}function Kf(e=zp(),t=zp().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Jf(e,t=[]){return[e,t]}function Yf(e,t){const[n,r]=e;return[n,[...r,t]]}function Xf(e,t){const n=e[1];for(const r of n){if(t(r,r[0].type))return!0}return!1}function Qf(e,t){return(t||new TextEncoder).encode(e)}function Zf(e,t){const[n,r]=e;let s=JSON.stringify(n);function i(e){"string"==typeof s?s="string"==typeof e?s+e:[Qf(s,t),e]:s.push("string"==typeof e?Qf(e,t):e)}for(const a of r){const[e,t]=a;if(i(`\n${JSON.stringify(e)}\n`),"string"==typeof t||t instanceof Uint8Array)i(t);else{let e;try{e=JSON.stringify(t)}catch(o){e=JSON.stringify(xf(t))}i(e)}}return"string"==typeof s?s:function(e){const t=e.reduce((e,t)=>e+t.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}(s)}function em(e,t){const n="string"==typeof e.data?Qf(e.data,t):e.data;return[Ip({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const tm={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function nm(e){return tm[e]}function rm(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function sm(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:_p(r)},...s&&{trace:Ip({...s})}}}function im(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function om(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[e,t,,,n]=a.split(":",5),i=parseInt(e,10),o=1e3*(isNaN(i)?60:i);if(t)for(const a of t.split(";"))"metric_bucket"===a&&n&&!n.split(";").includes("custom")||(s[a]=r+o);else s.all=r+o}else o?s.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(o,r):429===t&&(s.all=r+6e4);return s}function am(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=i(n)):"call"!==s&&"optionalCall"!==s||(n=i((...e)=>n.call(t,...e)),t=void 0)}return n}const cm="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,lm="production";function um(){return ap("globalEventProcessors",()=>[])}function dm(e){um().push(e)}function hm(e,t,n,r=0){return new Pf((s,i)=>{const o=e[r];if(null===t||"function"!=typeof o)s(t);else{const a=o({...t},n);cm&&o.id&&null===a&&gp.log(`Event processor "${o.id}" dropped event`),Vh(a)?a.then(t=>hm(e,t,n,r+1).then(s)).then(null,i):hm(e,a,n,r+1).then(s).then(null,i)}})}function pm(e){const t=Uf(),n={sid:zp(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return Ip({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&fm(n,e),n}function fm(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Uf(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:zp()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function mm(e,t){let n={};"ok"===e.status&&(n={status:"exited"}),fm(e,n)}function gm(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,tags:a,origin:c}=$m(e);return Ip({data:r,op:s,parent_span_id:i,span_id:t,status:o,tags:a,trace_id:n,origin:c})}function ym(e){const{traceId:t,spanId:n}=e.spanContext();return Kf(t,n,bm(e))}function _m(e){return"number"==typeof e?vm(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?vm(e.getTime()):Uf()}function vm(e){return e>9999999999?e/1e3:e}function $m(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function bm(e){const{traceFlags:t}=e.spanContext();return Boolean(1&t)}function wm(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||zp(),timestamp:t.timestamp||jf()},l=n.integrations||e.integrations.map(e=>e.name);!function(e,t){const{environment:n,release:r,dist:s,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:lm);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==s&&(e.dist=s);e.message&&(e.message=Yh(e.message,i));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Yh(o.value,i));const a=e.request;a&&a.url&&(a.url=Yh(a.url,i))}(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(c,l),void 0===t.type&&function(e,t){const n=ip._sentryDebugIds;if(!n)return;let r;const s=Sm.get(t);s?r=s:(r=new Map,Sm.set(t,r));const i=Object.keys(n).reduce((e,s)=>{let i;const o=r.get(s);o?i=o:(i=t(s),r.set(s,i));for(let t=i.length-1;t>=0;t--){const r=i[t];if(r.filename){e[r.filename]=n[s];break}}return e},{});try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.filename&&(e.debug_id=i[e.filename])})})}catch(o){}}(c,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new Km;return n.update(t),n}(r,n.captureContext);n.mechanism&&Vp(c,n.mechanism);const d=s&&s.getEventProcessors?s.getEventProcessors():[],h=function(){Gm||(Gm=new Km);return Gm}().getScopeData();if(i){Hm(h,i.getScopeData())}if(u){Hm(h,u.getScopeData())}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),Wm(c,h);return hm([...d,...um(),...h.eventProcessors],c,n).then(e=>(e&&function(e){const t={};try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})})}catch(r){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})})}(e),"number"==typeof o&&o>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:xf(e.data,t,n)}}))},...e.user&&{user:xf(e.user,t,n)},...e.contexts&&{contexts:xf(e.contexts,t,n)},...e.extra&&{extra:xf(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=xf(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map(e=>{const r=$m(e).data;return r&&(e.data=xf(r,t,n)),e}));return r}(e,o,a):e))}const Sm=new WeakMap;function km(e){if(e)return function(e){return e instanceof Km||"function"==typeof e}(e)||function(e){return Object.keys(e).some(e=>Tm.includes(e))}(e)?{captureContext:e}:e}const Tm=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Em(e,t){return ng().captureException(e,km(t))}function xm(e,t){const n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return ng().captureMessage(e,n,r)}function Cm(e,t){return ng().captureEvent(e,t)}function Im(e,t){ng().addBreadcrumb(e,t)}function Rm(e,t){ng().setContext(e,t)}function Om(e,t){ng().setTag(e,t)}function Am(e){ng().setUser(e)}function Pm(e,t){return ng().startTransaction({...e},t)}function Mm(){return ng().lastEventId()}function Dm(){return ng().getClient()}function Nm(){return ng().getScope()}function Lm(e){const t=Dm(),n=rg(),r=Nm(),{release:s,environment:i=lm}=t&&t.getOptions()||{},{userAgent:o}=ip.navigator||{},a=pm({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession();return c&&"ok"===c.status&&fm(c,{status:"exited"}),jm(),n.setSession(a),r.setSession(a),a}function jm(){const e=rg(),t=Nm(),n=t.getSession()||e.getSession();n&&mm(n),Um(),e.setSession(),t.setSession()}function Um(){const e=rg(),t=Nm(),n=Dm(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function qm(e=!1){e?jm():Um()}function Fm(e){return e.transaction}function zm(e,t,n){const r=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=Ip({environment:r.environment||lm,release:r.release,user_segment:i,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",o),o}function Bm(e){const t=Dm();if(!t)return{};const n=zm($m(e).trace_id||"",t,Nm()),r=Fm(e);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:o}=r.metadata;null!=i&&(n.sample_rate=`${i}`);const a=$m(r);return o&&"url"!==o&&(n.transaction=a.description),n.sampled=String(bm(r)),t.emit&&t.emit("createDsc",n),n}function Wm(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;!function(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t,c=Ip(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const l=Ip(r);l&&Object.keys(l).length&&(e.tags={...l,...e.tags});const u=Ip(s);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=Ip(i);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts});o&&(e.level=o);a&&(e.transaction=a)}(e,t),r&&function(e,t){e.contexts={trace:gm(t),...e.contexts};const n=Fm(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Bm(t),...e.sdkProcessingMetadata};const r=$m(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,r),function(e,t){e.fingerprint=e.fingerprint?Kp(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,s),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,i)}function Hm(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:l,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:f}=t;Vm(e,"extra",n),Vm(e,"tags",r),Vm(e,"user",s),Vm(e,"contexts",i),Vm(e,"sdkProcessingMetadata",a),o&&(e.level=o),p&&(e.transactionName=p),f&&(e.span=f),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function Vm(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}let Gm;class Km{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Jm()}static clone(e){return e?e.clone():new Km}clone(){const e=new Km;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&fm(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e;if(t instanceof Km){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if(Wh(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Jm(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:jf(),...e},s=this._breadcrumbs;return s.push(r),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:s,_user:i,_level:o,_fingerprint:a,_eventProcessors:c,_propagationContext:l,_sdkProcessingMetadata:u,_transactionName:d,_span:h}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:s,user:i,level:o,fingerprint:a||[],eventProcessors:c,propagationContext:l,sdkProcessingMetadata:u,transactionName:d,span:h}}applyToEvent(e,t={},n=[]){Wm(e,this.getScopeData());return hm([...n,...um(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:zp();if(!this._client)return gp.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:zp();if(!this._client)return gp.warn("No client configured on scope - will not capture message!"),r;const s=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:zp();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(gp.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function Jm(){return{traceId:zp(),spanId:zp().substring(16)}}const Ym="7.120.3",Xm=parseFloat(Ym),Qm=100;class Zm{constructor(e,t,n,r=Xm){let s,i;this._version=r,t?s=t:(s=new Km,s.setClient(e)),n?i=n:(i=new Km,i.setClient(e)),this._stack=[{scope:s}],e&&this.bindClient(e),this._isolationScope=i}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(r){throw this.popScope(),r}return Vh(n)?n.then(e=>(this.popScope(),e),e=>{throw this.popScope(),e}):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:zp(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...t,event_id:n}),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:zp(),s=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:s,...n,event_id:r}),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:zp();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=Qm}=r.getOptions&&r.getOptions()||{};if(i<=0)return;const o={timestamp:jf(),...e},a=s?mp(()=>s(o,t)):o;null!==a&&(r.emit&&r.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,i))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=tg(this);try{e(this)}finally{tg(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return cm&&gp.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(cm&&!n){this.getClient()?gp.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):gp.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&mm(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:s=lm}=n&&n.getOptions()||{},{userAgent:i}=ip.navigator||{},o=pm({release:r,environment:s,user:t.getUser(),...i&&{userAgent:i},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&fm(a,{status:"exited"}),this.endSession(),t.setSession(o),o}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=eg().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);cm&&gp.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function eg(){return ip.__SENTRY__=ip.__SENTRY__||{extensions:{},hub:void 0},ip}function tg(e){const t=eg(),n=sg(t);return ig(t,e),n}function ng(){const e=eg();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=eg()){t=e,t&&t.__SENTRY__&&t.__SENTRY__.hub&&!sg(e).isOlderThan(Xm)||ig(e,new Zm);var t;return sg(e)}(e)}function rg(){return ng().getIsolationScope()}function sg(e){return ap("hub",()=>new Zm,e)}function ig(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}function og(e){return ng().getScope().getTransaction()}let ag=!1;function cg(){const e=og();if(e){const t="internal_error";cm&&gp.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}var lg;function ug(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=function(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(t);"unknown_error"!==n&&e.setStatus(n)}function dg(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=Dm(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function hg(e){if(!dg())return;const t=function(e){if(e.startTime){const t={...e};return t.startTimestamp=_m(e.startTime),delete t.startTime,t}return e}(e),n=ng(),r=e.scope?e.scope.getSpan():Nm().getSpan();if(e.onlyIfParent&&!r)return;const s=(e.scope||Nm()).clone();return function(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:s}){if(!dg())return;const i=rg();let o;if(t&&!r)o=t.startChild(n);else if(t){const r=Bm(t),{traceId:s,spanId:i}=t.spanContext(),a=bm(t);o=e.startTransaction({traceId:s,parentSpanId:i,parentSampled:a,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}else{const{traceId:t,dsc:r,parentSpanId:a,sampled:c}={...i.getPropagationContext(),...s.getPropagationContext()};o=e.startTransaction({traceId:t,parentSpanId:a,parentSampled:c,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}return s.setSpan(o),function(e,t,n){e&&(Sp(e,fg,n),Sp(e,pg,t))}(o,s,i),o}(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:s})}cg.tag="sentry_tracingErrorCallback",function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(lg||(lg={}));const pg="_sentryScope",fg="_sentryIsolationScope";const mg="sentry.source",gg="sentry.sample_rate",yg="sentry.op",_g="sentry.origin";class vg{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class $g{constructor(e={}){this._traceId=e.traceId||zp(),this._spanId=e.spanId||zp().substring(16),this._startTime=e.startTimestamp||Uf(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[_g]:e.origin||"manual",[yg]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),void 0!==e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[yg]}set op(e){this.setAttribute(yg,e)}get origin(){return this._attributes[_g]}set origin(e){this.setAttribute(_g,e)}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}startChild(e){const t=new $g({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);const n=Fm(this);if(t.transaction=n,cm&&n){const r=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${$m(t).description||"< unknown name >"}' (${n.spanContext().spanId}).`;gp.log(r),this._logMessage=r}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach(t=>this.setAttribute(t,e[t]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return ug(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){if(this._endTime)return;const t=Fm(this);if(cm&&t&&t.spanContext().spanId!==this._spanId){const e=this._logMessage;e&&gp.log(e.replace("Starting","Finishing"))}this._endTime=_m(e)}toTraceparent(){return ym(this)}toContext(){return Ip({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return gm(this)}getSpanJSON(){return Ip({data:this._getData(),description:this._name,op:this._attributes[yg],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[_g],_metrics_summary:void 0,profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:t}=this,n=Object.keys(e).length>0,r=Object.keys(t).length>0;if(n||r)return n&&r?{...e,...t}:n?e:t}}class bg extends $g{constructor(e,t){super(e),this._contexts={},this._hub=t||ng(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[mg]&&{source:this._attributes[mg]},...this._attributes[gg]&&{sampleRate:this._attributes[gg]}}}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(mg,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new vg(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const t=_m(e),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){return Ip({...super.toContext(),name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return Bm(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(cm&&gp.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled)return cm&&gp.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter(e=>e!==this&&$m(e).timestamp):[];if(this._trimEnd&&n.length>0){const e=n.map(e=>$m(e).timestamp).filter(Boolean);this._endTime=e.reduce((e,t)=>e>t?e:t)}const{scope:r,isolationScope:s}={scope:(i=this)[pg],isolationScope:i[fg]};var i;const{metadata:o}=this,{source:a}=o,c={contexts:{...this._contexts,trace:gm(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:r,capturedSpanIsolationScope:s,...Ip({dynamicSamplingContext:Bm(this)})},_metrics_summary:void 0,...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(cm&&gp.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),cm&&gp.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}}const wg={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Sg=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class kg extends vg{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const t=e.end;e.end=(...n)=>(this._popActivity(e.spanContext().spanId),t.apply(e,n)),void 0===$m(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class Tg extends bg{constructor(e,t,n=wg.idleTimeout,r=wg.finalTimeout,s=wg.heartbeatInterval,i=!1,o=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=s,this._onScope=i,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Sg[4],this._autoFinishAllowed=!o,i&&(cm&&gp.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),t.getScope().setSpan(this)),o||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Sg[3],this.end())},this._finalTimeout)}end(e){const t=_m(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){cm&&gp.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter(e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;$m(e).timestamp||(e.setStatus("cancelled"),e.end(t),cm&&gp.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const{start_timestamp:n,timestamp:r}=$m(e),s=n&&n<t,i=(this._finalTimeout+this._idleTimeout)/1e3,o=r&&n&&r-n<i;if(cm){const t=JSON.stringify(e,void 0,2);s?o||gp.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):gp.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return s&&o}),cm&&gp.log("[Tracing] flushing IdleTransaction")}else cm&&gp.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new kg(t,n,this.spanContext().spanId,e),cm&&gp.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Sg[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(cm&&gp.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=Sg[1],this.end(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),cm&&gp.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,cm&&gp.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(cm&&gp.log(`[Tracing] popActivity ${e}`),delete this.activities[e],cm&&gp.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=Uf();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=Sg[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(cm&&gp.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Sg[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){cm&&gp.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function Eg(e,t,n){if(!dg(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setAttribute(gg,Number(e.sampled)),e;let r;return"function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setAttribute(gg,Number(r))):void 0!==n.parentSampled?r=n.parentSampled:void 0!==t.tracesSampleRate?(r=t.tracesSampleRate,e.setAttribute(gg,Number(r))):(r=1,e.setAttribute(gg,r)),xg(r)?r?(e.sampled=Math.random()<r,e.sampled?(cm&&gp.log(`[Tracing] starting ${e.op} transaction - ${$m(e).description}`),e):(cm&&gp.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(cm&&gp.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(cm&&gp.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function xg(e){return Gh(e)||"number"!=typeof e&&"boolean"!=typeof e?(cm&&gp.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!(e<0||e>1)||(cm&&gp.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1)}function Cg(){const e=this.getScope().getSpan();return e?{"sentry-trace":ym(e)}:{}}function Ig(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",i=e.instrumenter||"sentry";s!==i&&(cm&&gp.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.\nThe transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),e.sampled=!1);let o=new bg(e,this);return o=Eg(o,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function Rg(e,t,n,r,s,i,o,a=!1){const c=e.getClient(),l=c&&c.getOptions()||{};let u=new Tg(t,e,n,r,o,s,a);return u=Eg(u,l,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...i}),u.isRecording()&&u.initSpanRecorder(l._experiments&&l._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",u),u}function Og(){const e=eg();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Ig),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Cg),ag||(ag=!0,df(cg),ff(cg)))}function Ag(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Pg(e,t){return n={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`).join("&");var n}function Mg(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${Ag(e)}${e.projectId}/envelope/`}(e)}?${Pg(e,r)}`}const Dg=[];function Ng(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach(e=>{e.isDefaultInstance=!0}),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?Kp(n(t)):t;const s=function(e){const t={};return e.forEach(e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)}),Object.keys(t).map(e=>t[e])}(r),i=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(s,e=>"Debug"===e.name);if(-1!==i){const[e]=s.splice(i,1);s.push(e)}return s}function Lg(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function jg(e,t,n){if(n[t.name])cm&&gp.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===Dg.indexOf(t.name)&&(t.setupOnce(dm,ng),Dg.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}cm&&gp.log(`Integration installed: ${t.name}`)}}function Ug(e,t){return Object.assign(function(...e){return t(...e)},{id:e})}function qg(e,t,n,r){const s={sent_at:(new Date).toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=_p(t));const i=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?`|#${e.map(([e,t])=>`${e}:${t}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return Jf(s,[i])}const Fg="Not capturing exception because it's already been captured.";class zg{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=$p(e.dsn):cm&&gp.warn("No DSN provided, client will not send events."),this._dsn){const t=Mg(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(Gp(e))return void(cm&&gp.log(Fg));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then(e=>this._captureEvent(e,t,n)).then(e=>{r=e})),r}captureMessage(e,t,n,r){let s=n&&n.event_id;const i=zh(e)?e:String(e),o=Bh(e)?this.eventFromMessage(i,t,n):this.eventFromException(e,n);return this._process(o.then(e=>this._captureEvent(e,n,r)).then(e=>{s=e})),s}captureEvent(e,t,n){if(t&&t.originalException&&Gp(t.originalException))return void(cm&&gp.log(Fg));let r=t&&t.event_id;const s=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,s||n).then(e=>{r=e})),r}captureSession(e){"string"!=typeof e.release?cm&&gp.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),fm(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(e=>n&&e))):Of(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return cm&&gp.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];jg(this,e,this._integrations),t||Lg(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){const s=rm(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const o=sm(e,s,r,t);return delete e.sdkProcessingMetadata,Jf(o,[[{type:i},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of t.attachments||[])n=Yf(n,em(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){const t=function(e,t,n,r){const s=rm(n);return Jf({sent_at:(new Date).toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:_p(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const r="number"==typeof n?n:1,s=`${e}:${t}`;cm&&gp.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}captureAggregateMetrics(e){cm&&gp.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=qg(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach(e=>e(...t))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach(t=>{t&&jg(e,t,n)}),n}(this,e),Lg(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,r=!1;const s=t.exception&&t.exception.values;if(s){r=!0;for(const e of s){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&n)&&(fm(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Pf(t=>{let n=0;const r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=rg()){const s=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),this.emit("preprocessEvent",e,t),wm(s,e,t,n,this,r).then(e=>{if(null===e)return e;const t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:s,parentSpanId:i,dsc:o}=t;e.contexts={trace:{trace_id:r,span_id:s,parent_span_id:i},...e.contexts};const a=o||zm(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e})}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then(e=>e.event_id,e=>{if(cm){const t=e;"log"===t.logLevel?gp.log(t.message):gp.warn(t)}})}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:s}=r,i=Wg(e),o=Bg(e),a=e.type||"error",c=`before send for type \`${a}\``;if(o&&"number"==typeof s&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",e),Af(new bp(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const l="replay_event"===a?"replay":a,u=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,u).then(n=>{if(null===n)throw this.recordDroppedEvent("event_processor",l,e),new bp("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const s=function(e,t,n){const{beforeSend:r,beforeSendTransaction:s}=e;if(Bg(t)&&r)return r(t,n);if(Wg(t)&&s){if(t.spans){const e=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return s(t,n)}return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Vh(e))return e.then(e=>{if(!Wh(e)&&null!==e)throw new bp(n);return e},e=>{throw new bp(`${t} rejected with ${e}`)});if(!Wh(e)&&null!==e)throw new bp(n);return e}(s,c)}).then(r=>{if(null===r){if(this.recordDroppedEvent("before_send",l,e),i){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new bp(`${c} returned \`null\`, will not send event.`,"log")}const s=n&&n.getSession();if(!i&&s&&this._updateSessionFromEvent(s,r),i){const e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const o=r.transaction_info;if(i&&o&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...o,source:e}}return this.sendEvent(r,t),r}).then(null,e=>{if(e instanceof bp)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new bp(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,e=>{cm&&gp.error("Error while sending event:",e)});cm&&gp.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}})}}function Bg(e){return void 0===e.type}function Wg(e){return"transaction"===e.type}function Hg(e,t){!0===t.debug&&(cm?gp.enable():mp(()=>{}));Nm().update(t.initialScope);const n=new e(t);!function(e){const t=ng().getStackTop();t.client=e,t.scope.setClient(e)}(n),function(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}(n)}function Vg(e,t,n=Mf(e.bufferSize||30)){let r={};function s(s){const i=[];if(Xf(s,(t,n)=>{const s=nm(n);if(im(r,s)){const r=Gg(t,n);e.recordDroppedEvent("ratelimit_backoff",s,r)}else i.push(t)}),0===i.length)return Of();const o=Jf(s[0],i),a=t=>{Xf(o,(n,r)=>{const s=Gg(n,r);e.recordDroppedEvent(t,nm(r),s)})};return n.add(()=>t({body:Zf(o,e.textEncoder)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&cm&&gp.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=om(r,e),e),e=>{throw a("network_error"),e})).then(e=>e,e=>{if(e instanceof bp)return cm&&gp.error("Skipped sending event because buffer is full."),a("queue_overflow"),Of();throw e})}return s.__sentry__baseTransport__=!0,{send:s,flush:e=>n.drain(e)}}function Gg(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function Kg(e){return[{type:"span"},e]}function Jg(e,t){const n=t&&function(e){return void 0!==e.getClient}(t)?t.getClient():t,r=n&&n.getDsn(),s=n&&n.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,r)||function(e,t){if(!t)return!1;return Yg(e)===Yg(t)}(e,s)}function Yg(e){return"/"===e[e.length-1]?e.slice(0,-1):e}const Xg=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Qg=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],Zg="InboundFilters",ey=(e={})=>({name:Zg,setupOnce(){},processEvent(t,n,r){const s=r.getOptions(),i=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Xg],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Qg],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,s);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(t){}return!1}(e))return cm&&gp.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Wp(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(r){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));cm&&0===t.length&&gp.error(`Could not extract message for event ${Wp(e)}`);return t}(e).some(e=>Zh(e,t))}(e,t.ignoreErrors))return cm&&gp.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Wp(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&Zh(n,t)}(e,t.ignoreTransactions))return cm&&gp.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Wp(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=ty(e);return!!n&&Zh(n,t)}(e,t.denyUrls))return cm&&gp.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Wp(e)}.\nUrl: ${ty(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=ty(e);return!n||Zh(n,t)}(e,t.allowUrls))return cm&&gp.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Wp(e)}.\nUrl: ${ty(e)}`),!0;return!1}(t,i)?null:t}});function ty(e){try{let n;try{n=e.exception.values[0].stacktrace.frames}catch(t){}return n?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch(n){return cm&&gp.error(`Cannot extract url for event ${Wp(e)}`),null}}let ny;Ug(Zg,ey);const ry="FunctionToString",sy=new WeakMap,iy=()=>({name:ry,setupOnce(){ny=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Tp(this),n=sy.has(Dm())&&void 0!==t?t:this;return ny.apply(n,e)}}catch(e){}},setup(e){sy.set(e,!0)}});Ug(ry,iy);const oy="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ay=ip;const cy=(e,t,n)=>{let r,s;return i=>{t.value>=0&&(i||n)&&(s=t.value-(r||0),(s||void 0===r)&&(r=t.value,t.delta=s,e(t)))}},ly=()=>ay.__WEB_VITALS_POLYFILL__?ay.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=ay.performance.timing,t=ay.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const r in e)"navigationStart"!==r&&"toJSON"!==r&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n})()):ay.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],uy=()=>{const e=ly();return e&&e.activationStart||0},dy=(e,t)=>{const n=ly();let r="navigate";return n&&(r=ay.document&&ay.document.prerendering||uy()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},hy=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(e=>{t(e.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(r){}},py=(e,t)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==ay.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};ay.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))};let fy=-1;const my=()=>(fy<0&&(ay.document&&ay.document.visibilityState&&(fy="hidden"!==ay.document.visibilityState||ay.document.prerendering?1/0:0),py(({timeStamp:e})=>{fy=e},!0)),{get firstHiddenTime(){return fy}});let gy=0,yy=1/0,_y=0;const vy=e=>{e.forEach(e=>{e.interactionId&&(yy=Math.min(yy,e.interactionId),_y=Math.max(_y,e.interactionId),gy=_y?(_y-yy)/7+1:0)})};let $y;const by=()=>$y?gy:performance.interactionCount||0,wy=[],Sy={},ky=e=>{const t=wy[wy.length-1],n=Sy[e.interactionId];if(n||wy.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};Sy[t.id]=t,wy.push(t)}wy.sort((e,t)=>t.latency-e.latency),wy.splice(10).forEach(e=>{delete Sy[e.id]})}},Ty=(e,t)=>{t=t||{},"interactionCount"in performance||$y||($y=hy("event",vy,{type:"event",buffered:!0,durationThreshold:0}));const n=dy("INP");let r;const s=e=>{e.forEach(e=>{if(e.interactionId&&ky(e),"first-input"===e.entryType){!wy.some(t=>t.entries.some(t=>e.duration===t.duration&&e.startTime===t.startTime))&&ky(e)}});const t=(()=>{const e=Math.min(wy.length-1,Math.floor(by()/50));return wy[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())},i=hy("event",s,{durationThreshold:t.durationThreshold||40});r=cy(e,n,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),py(()=>{s(i.takeRecords()),n.value<0&&by()>0&&(n.value=0,n.entries=[]),r(!0)}))},Ey={},xy=e=>{ay.document&&(ay.document.prerendering?addEventListener("prerenderingchange",()=>xy(e),!0):"complete"!==ay.document.readyState?addEventListener("load",()=>xy(e),!0):setTimeout(e,0))},Cy={},Iy={};let Ry,Oy,Ay,Py,My;function Dy(e,t=!1){return By("lcp",e,qy,Ay,t)}function Ny(e,t){return Wy(e,t),Iy[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);hy(e,t=>{Ly(e,{entries:t})},t)}(e),Iy[e]=!0),Hy(e,t)}function Ly(e,t){const n=Cy[e];if(n&&n.length)for(const s of n)try{s(t)}catch(r){oy&&gp.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Dp(s)}\nError:`,r)}}function jy(){return((e,t={})=>{const n=dy("CLS",0);let r,s=0,i=[];const o=e=>{e.forEach(e=>{if(!e.hadRecentInput){const t=i[0],o=i[i.length-1];s&&0!==i.length&&e.startTime-o.startTime<1e3&&e.startTime-t.startTime<5e3?(s+=e.value,i.push(e)):(s=e.value,i=[e]),s>n.value&&(n.value=s,n.entries=i,r&&r())}})},a=hy("layout-shift",o);if(a){r=cy(e,n,t.reportAllChanges);const s=()=>{o(a.takeRecords()),r(!0)};return py(s),s}})(e=>{Ly("cls",{metric:e}),Ry=e},{reportAllChanges:!0})}function Uy(){return(e=>{const t=my(),n=dy("FID");let r;const s=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},i=e=>{e.forEach(s)},o=hy("first-input",i);r=cy(e,n),o&&py(()=>{i(o.takeRecords()),o.disconnect()},!0)})(e=>{Ly("fid",{metric:e}),Oy=e})}function qy(){return(e=>{const t=my(),n=dy("LCP");let r;const s=e=>{const s=e[e.length-1];if(s){const e=Math.max(s.startTime-uy(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[s],r())}},i=hy("largest-contentful-paint",s);if(i){r=cy(e,n);const t=()=>{Ey[n.id]||(s(i.takeRecords()),i.disconnect(),Ey[n.id]=!0,r(!0))};return["keydown","click"].forEach(e=>{ay.document&&addEventListener(e,t,{once:!0,capture:!0})}),py(t,!0),t}})(e=>{Ly("lcp",{metric:e}),Ay=e})}function Fy(){return((e,t)=>{t=t||{};const n=dy("TTFB"),r=cy(e,n,t.reportAllChanges);xy(()=>{const e=ly();if(e){if(n.value=Math.max(e.responseStart-uy(),0),n.value<0||n.value>performance.now())return;n.entries=[e],r(!0)}})})(e=>{Ly("ttfb",{metric:e}),Py=e})}function zy(){return Ty(e=>{Ly("inp",{metric:e}),My=e})}function By(e,t,n,r,s=!1){let i;return Wy(e,t),Iy[e]||(i=n(),Iy[e]=!0),r&&t({metric:r}),Hy(e,t,s?i:void 0)}function Wy(e,t){Cy[e]=Cy[e]||[],Cy[e].push(t)}function Hy(e,t,n){return()=>{n&&n();const r=Cy[e];if(!r)return;const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}function Vy(e){return"number"==typeof e&&isFinite(e)}function Gy(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}function Ky(e){return e/1e3}function Jy(){return ay&&ay.addEventListener&&ay.performance}let Yy,Xy,Qy=0,Zy={};function e_(){const e=Jy();if(e&&qf){e.mark&&ay.performance.mark("sentry-tracing-init");const t=By("fid",({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Ky(qf),r=Ky(t.startTime);oy&&gp.log("[Measurements] Adding FID"),Zy.fid={value:e.value,unit:"millisecond"},Zy["mark.fid"]={value:n+r,unit:"second"}},Uy,Oy),n=function(e,t=!1){return By("cls",e,jy,Ry,t)}(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(oy&&gp.log("[Measurements] Adding CLS"),Zy.cls={value:e.value,unit:""},Xy=t)},!0),r=Dy(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(oy&&gp.log("[Measurements] Adding LCP"),Zy.lcp={value:e.value,unit:"millisecond"},Yy=t)},!0),s=function(e){return By("ttfb",e,Fy,Py)}(({metric:e})=>{e.entries[e.entries.length-1]&&(oy&&gp.log("[Measurements] Adding TTFB"),Zy.ttfb={value:e.value,unit:"millisecond"})});return()=>{t(),n(),r(),s()}}return()=>{}}function t_(e,t){if(Jy()&&qf){const n=function(e,t){return n=({metric:n})=>{if(void 0===n.value)return;const r=n.entries.find(e=>e.duration===n.value&&void 0!==n_[e.name]),s=Dm();if(!r||!s)return;const i=n_[r.name],o=s.getOptions(),a=Ky(qf+r.startTime),c=Ky(n.value),l=void 0!==r.interactionId?e[r.interactionId]:void 0;if(void 0===l)return;const{routeName:u,parentContext:d,activeTransaction:h,user:p,replayId:f}=l,m=void 0!==p?p.email||p.id||p.ip_address:void 0,g=void 0!==h?h.getProfileId():void 0,y=new $g({startTimestamp:a,endTimestamp:a+c,op:`ui.interaction.${i}`,name:lp(r.target),attributes:{release:o.release,environment:o.environment,transaction:u,...void 0!==m&&""!==m?{user:m}:{},...void 0!==g?{profile_id:g}:{},...void 0!==f?{replay_id:f}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),_=function(e,t,n){if(!dg(t))return!1;let r;return r=void 0!==e&&"function"==typeof t.tracesSampler?t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:ay.location}):void 0!==e&&void 0!==e.sampled?e.sampled:void 0!==t.tracesSampleRate?t.tracesSampleRate:1,xg(r)?!0===r?n:!1===r?0:r*n:(oy&&gp.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}(d,o,t);if(_&&Math.random()<_){const e=y?function(e,t){const n={sent_at:(new Date).toISOString()};return t&&(n.dsn=_p(t)),Jf(n,e.map(Kg))}([y],s.getDsn()):void 0,t=s&&s.getTransport();return void(t&&e&&t.send(e).then(null,e=>{oy&&gp.error("Error while sending interaction:",e)}))}},By("inp",n,zy,My);var n}(e,t);return()=>{n()}}return()=>{}}const n_={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function r_(e){const t=Jy();if(!t||!ay.performance.getEntries||!qf)return;oy&&gp.log("[Tracing] Adding & adjusting spans using Performance API");const n=Ky(qf),r=t.getEntries(),{op:s,start_timestamp:i}=$m(e);if(r.slice(Qy).forEach(t=>{const r=Ky(t.startTime),s=Ky(t.duration);if(!("navigation"===e.op&&i&&n+r<i))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{s_(e,t,r,n)}),s_(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),s_(e,t,"fetch",n,"cache","domainLookupStart"),s_(e,t,"domainLookup",n,"DNS"),function(e,t,n){t.responseEnd&&(Gy(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+Ky(t.requestStart),endTimestamp:n+Ky(t.responseEnd)}),Gy(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+Ky(t.responseStart),endTimestamp:n+Ky(t.responseEnd)}))}(e,t,n)}(e,t,n);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,s){const i=s+n,o=i+r;Gy(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i})}(e,t,r,s,n);const i=my(),o=t.startTime<i.firstHiddenTime;"first-paint"===t.name&&o&&(oy&&gp.log("[Measurements] Adding FP"),Zy.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&o&&(oy&&gp.log("[Measurements] Adding FCP"),Zy.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,s,i){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const o=Df(n),a={};i_(a,t,"transferSize","http.response_transfer_size"),i_(a,t,"encodedBodySize","http.response_content_length"),i_(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus);o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop());o.host&&(a["server.address"]=o.host);a["url.same_origin"]=n.includes(ay.location.origin);const c=i+r,l=c+s;Gy(e,{description:n.replace(ay.location.origin,""),endTimestamp:l,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:a})}(e,t,t.name,r,s,n)}}),Qy=Math.max(r.length-1,0),function(e){const t=ay.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Vy(n.rtt)&&(Zy["connection.rtt"]={value:n.rtt,unit:"millisecond"}));Vy(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);Vy(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===s){!function(e){const t=ly();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(oy&&gp.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(Zy),["fcp","fp","lcp"].forEach(e=>{if(!Zy[e]||!i||n>=i)return;const t=Zy[e].value,r=n+Ky(t),s=Math.abs(1e3*(r-i)),o=s-t;oy&&gp.log(`[Measurements] Normalized ${e} from ${t} to ${s} (${o})`),Zy[e].value=s});const t=Zy["mark.fid"];t&&Zy.fid&&(Gy(e,{description:"first input delay",endTimestamp:t.value+Ky(Zy.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete Zy["mark.fid"]),"fcp"in Zy||delete Zy.cls,Object.keys(Zy).forEach(e=>{!function(e,t,n){const r=og();r&&r.setMeasurement(e,t,n)}(e,Zy[e].value,Zy[e].unit)}),function(e){Yy&&(oy&&gp.log("[Measurements] Adding LCP Data"),Yy.element&&e.setTag("lcp.element",lp(Yy.element)),Yy.id&&e.setTag("lcp.id",Yy.id),Yy.url&&e.setTag("lcp.url",Yy.url.trim().slice(0,200)),e.setTag("lcp.size",Yy.size));Xy&&Xy.sources&&(oy&&gp.log("[Measurements] Adding CLS Data"),Xy.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,lp(t.node))))}(e)}Yy=void 0,Xy=void 0,Zy={}}function s_(e,t,n,r,s,i){const o=i?t[i]:t[`${n}End`],a=t[`${n}Start`];a&&o&&Gy(e,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+Ky(a),endTimestamp:r+Ky(o)})}function i_(e,t,n,r){const s=t[n];null!=s&&s<2147483647&&(e[r]=s)}function o_(e,t,n,r,s="auto.http.browser"){if(!dg()||!e.fetchData)return;const i=t(e.fetchData.url);if(e.endTimestamp&&i){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(!function(e,t){if(t.response){ug(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus("internal_error");e.end()}(n,e),delete r[t]))}const o=Nm(),a=Dm(),{method:c,url:l}=e.fetchData,u=function(e){try{return new URL(e).href}catch(t){return}}(l),d=u?Df(u).host:void 0,h=i?hg({name:`${c} ${l}`,onlyIfParent:!0,attributes:{url:l,type:"fetch","http.method":c,"http.url":u,"server.address":d,[_g]:s},op:"http.client"}):void 0;if(h&&(e.fetchData.__span=h.spanContext().spanId,r[h.spanContext().spanId]=h),n(e.fetchData.url)&&a){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,s){const i=s||n.getSpan(),o=rg(),{traceId:a,spanId:c,sampled:l,dsc:u}={...o.getPropagationContext(),...n.getPropagationContext()},d=i?ym(i):Kf(a,c,l),h=Wf(u||(i?Bm(i):zm(a,t,n))),p=r.headers||("undefined"!=typeof Request&&Kh(e,Request)?e.headers:void 0);if(p){if("undefined"!=typeof Headers&&Kh(p,Headers)){const e=new Headers(p);return e.append("sentry-trace",d),h&&e.append(Ff,h),e}if(Array.isArray(p)){const e=[...p,["sentry-trace",d]];return h&&e.push([Ff,h]),e}{const e="baggage"in p?p.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),h&&t.push(h),{...p,"sentry-trace":d,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":d,baggage:h}}(t,a,o,n,h)}return h}const a_=["localhost",/^\/(?!\/)/],c_={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:a_,tracePropagationTargets:a_};function l_(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o}={traceFetch:c_.traceFetch,traceXHR:c_.traceXHR,...e},a="function"==typeof i?i:e=>!0,c=e=>function(e,t){return Zh(e,t||a_)}(e,r||s),l={};t&&of(e=>{const t=o_(e,a,c,l);if(t){const n=h_(e.fetchData.url),r=n?Df(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}o&&t&&u_(t)}),n&&Sf(e=>{const t=function(e,t,n,r){const s=e.xhr,i=s&&s[wf];if(!dg()||!s||s.__sentry_own_request__||!i)return;const o=t(i.url);if(e.endTimestamp&&o){const e=s.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==i.status_code&&(ug(t,i.status_code),t.end(),delete r[e]))}const a=Nm(),c=rg(),l=h_(i.url),u=l?Df(l).host:void 0,d=o?hg({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":l,url:i.url,"server.address":u,[_g]:"auto.http.browser"},op:"http.client"}):void 0;d&&(s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d);const h=Dm();if(s.setRequestHeader&&n(i.url)&&h){const{traceId:e,spanId:t,sampled:n,dsc:r}={...c.getPropagationContext(),...a.getPropagationContext()};!function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(Ff,n)}catch(r){}}(s,d?ym(d):Kf(e,t,n),Wf(r||(d?Bm(d):zm(e,h,a))))}return d}(e,a,c,l);o&&t&&u_(t)})}function u_(e){const{url:t}=$m(e).data||{};if(!t||"string"!=typeof t)return;const n=Ny("resource",({entries:r})=>{r.forEach(r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const s of e){if("/"===s){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=s}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!qf)return r;return[...r,["http.request.redirect_start",d_(e.redirectStart)],["http.request.fetch_start",d_(e.fetchStart)],["http.request.domain_lookup_start",d_(e.domainLookupStart)],["http.request.domain_lookup_end",d_(e.domainLookupEnd)],["http.request.connect_start",d_(e.connectStart)],["http.request.secure_connection_start",d_(e.secureConnectionStart)],["http.request.connection_end",d_(e.connectEnd)],["http.request.request_start",d_(e.requestStart)],["http.request.response_start",d_(e.responseStart)],["http.request.response_end",d_(e.responseEnd)]]})(r).forEach(t=>e.setAttribute(...t)),setTimeout(n)}})})}function d_(e=0){return((qf||performance.timeOrigin)+e)/1e3}function h_(e){try{return new URL(e,ay.location.origin).href}catch(t){return}}const p_={...wg,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,n=!0){if(!ay||!ay.location)return void(oy&&gp.warn("Could not initialize routing instrumentation due to invalid location"));let r,s=ay.location.href;t&&(r=e({name:ay.location.pathname,startTimestamp:qf?qf/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&vf(({to:t,from:n})=>{void 0===n&&s&&-1!==s.indexOf(t)?s=void 0:n!==t&&(s=void 0,r&&(oy&&gp.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.end()),r=e({name:ay.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...c_};class f_{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,Og(),oy&&(this._hasSetTracePropagationTargets=!(!e||!e.tracePropagationTargets&&!e.tracingOrigins)),this.options={...p_,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=e_(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&t_(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&Ny("longtask",({entries:e})=>{for(const t of e){const e=og();if(!e)return;const n=Ky(qf+t.startTime),r=Ky(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}}),this.options._experiments.enableInteractions&&Ny("event",({entries:e})=>{for(const t of e){const e=og();if(!e)return;if("click"===t.name){const n=Ky(qf+t.startTime),r=Ky(t.duration),s={description:lp(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},i=dp(t.target);i&&(s.attributes={"ui.component_name":i}),e.startChild(s)}}}),this._latestRoute={name:void 0,context:void 0}}setupOnce(e,t){this._getCurrentHub=t;const n=t().getClient(),r=n&&n.getOptions(),{routingInstrumentation:s,startTransactionOnLocationChange:i,startTransactionOnPageLoad:o,markBackgroundTransactions:a,traceFetch:c,traceXHR:l,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:h}=this.options,p=r&&r.tracePropagationTargets,f=p||this.options.tracePropagationTargets;oy&&this._hasSetTracePropagationTargets&&p&&gp.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),s(e=>{const n=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,e,t),n},o,i),a&&(ay.document?ay.document.addEventListener("visibilitychange",()=>{const e=og();if(ay.document.hidden&&e){const t="cancelled",{op:n,status:r}=$m(e);oy&&gp.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):oy&&gp.warn("[Tracing] Could not set up background tab detection due to lack of global document")),h.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),l_({traceFetch:c,traceXHR:l,tracePropagationTargets:f,shouldCreateSpanForRequest:u,enableHTTPTimings:d})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(oy&&gp.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const t=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:r,finalTimeout:s,heartbeatInterval:i}=this.options,o="pageload"===e.op;let a;if(o){const t=o?m_("sentry-trace"):"",n=o?m_("baggage"):void 0,{traceId:r,dsc:s,parentSpanId:i,sampled:c}=Gf(t,n);a={traceId:r,parentSpanId:i,parentSampled:c,...e,metadata:{...e.metadata,dynamicSamplingContext:s},trimEnd:!0}}else a={trimEnd:!0,...e};const c="function"==typeof n?n(a):a,l=void 0===c?{...a,sampled:!1}:c;l.metadata=l.name!==a.name?{...l.metadata,source:"custom"}:l.metadata,this._latestRoute.name=l.name,this._latestRoute.context=l,!1===l.sampled&&oy&&gp.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),oy&&gp.log(`[Tracing] Starting ${l.op} transaction on scope`);const{location:u}=ay,d=Rg(t,l,r,s,!0,{location:u},i,o);return o&&ay.document&&(ay.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(ay.document.readyState)&&d.sendAutoFinishSignal()}),["interactive","complete"].includes(ay.document.readyState)&&d.sendAutoFinishSignal()),d.registerBeforeFinishCallback(e=>{this._collectWebVitals(),r_(e)}),d}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:n,heartbeatInterval:r}=this.options,s="ui.action.click",i=og();if(i&&i.op&&["navigation","pageload"].includes(i.op))return void(oy&&gp.warn(`[Tracing] Did not create ${s} transaction because a pageload or navigation transaction is in progress.`));if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub)return void(oy&&gp.warn(`[Tracing] Did not create ${s} transaction because _getCurrentHub is invalid.`));if(!this._latestRoute.name)return void(oy&&gp.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`));const o=this._getCurrentHub(),{location:a}=ay,c={name:this._latestRoute.name,op:s,trimEnd:!0,data:{[mg]:this._latestRoute.context?g_(this._latestRoute.context):"url"}};e=Rg(o,c,t,n,!0,{location:a},r)};["click"].forEach(e=>{ay.document&&addEventListener(e,t,{once:!1,capture:!0})})}_registerInpInteractionListener(){const e=({entries:e})=>{const t=Dm(),n=void 0!==t&&void 0!==t.getIntegrationByName?t.getIntegrationByName("Replay"):void 0,r=void 0!==n?n.getReplayId():void 0,s=og(),i=Nm(),o=void 0!==i?i.getUser():void 0;e.forEach(e=>{if(function(e){return"duration"in e}(e)){const t=e.interactionId;if(void 0===t)return;const n=this._interactionIdToRouteNameMapping[t],i=e.duration,a=e.startTime,c=Object.keys(this._interactionIdToRouteNameMapping),l=c.length>0?c.reduce((e,t)=>this._interactionIdToRouteNameMapping[e].duration<this._interactionIdToRouteNameMapping[t].duration?e:t):void 0;if("first-input"===e.entryType){if(c.map(e=>this._interactionIdToRouteNameMapping[e]).some(e=>e.duration===i&&e.startTime===a))return}if(!t)return;if(n)n.duration=Math.max(n.duration,i);else if(c.length<10||void 0===l||i>this._interactionIdToRouteNameMapping[l].duration){const e=this._latestRoute.name,n=this._latestRoute.context;e&&n&&(l&&Object.keys(this._interactionIdToRouteNameMapping).length>=10&&delete this._interactionIdToRouteNameMapping[l],this._interactionIdToRouteNameMapping[t]={routeName:e,duration:i,parentContext:n,user:o,activeTransaction:s,replayId:r,startTime:a})}}})};Ny("event",e),Ny("first-input",e)}}function m_(e){const t=(n=`meta[name=${e}]`,cp.document&&cp.document.querySelector?cp.document.querySelector(n):null);var n;return t?t.getAttribute("content"):void 0}function g_(e){const t=e.attributes&&e.attributes[mg],n=e.data&&e.data[mg],r=e.metadata&&e.metadata.source;return t||n||r}const y_=ip;let __=0;function v_(){return __>0}function $_(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(Tp(e))return e}catch(s){return e}const r=function(){const n=Array.prototype.slice.call(arguments);try{const r=n.map(e=>$_(e,t));return e.apply(this,r)}catch(r){throw __++,setTimeout(()=>{__--}),function(...e){const t=ng();if(2===e.length){const[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}t.withScope(e[0])}(e=>{e.addEventProcessor(e=>(t.mechanism&&(Hp(e,void 0),Vp(e,t.mechanism)),e.extra={...e.extra,arguments:n},e)),Em(r)}),r}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(i){}kp(r,e),Sp(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(i){}return r}const b_="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function w_(e,t){const n=k_(e,t),r={type:t&&t.name,value:E_(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function S_(e,t){return{exception:{values:[w_(e,t)]}}}function k_(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(T_.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(s){}return[]}const T_=/Minified React error #\d+;/i;function E_(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function x_(e,t,n,r,s){let i;if(Uh(t)&&t.error){return S_(e,t.error)}if(qh(t)||jh(t,"DOMException")){const s=t;if("stack"in t)i=S_(e,t);else{const t=s.name||(qh(s)?"DOMError":"DOMException"),o=s.message?`${t}: ${s.message}`:t;i=C_(e,o,n,r),Hp(i,o)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}if(Lh(t))return S_(e,t);if(Wh(t)||Hh(t)){return i=function(e,t,n,r){const s=Dm(),i=s&&s.getOptions().normalizeDepth,o={exception:{values:[{type:Hh(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:I_(t,{isUnhandledRejection:r})}]},extra:{__serialized__:Cf(t,i)}};if(n){const t=k_(e,n);t.length&&(o.exception.values[0].stacktrace={frames:t})}return o}(e,t,n,s),Vp(i,{synthetic:!0}),i}return i=C_(e,t,n,r),Hp(i,`${t}`),Vp(i,{synthetic:!0}),i}function C_(e,t,n,r){const s={};if(r&&n){const r=k_(e,n);r.length&&(s.exception={values:[{value:t,stacktrace:{frames:r}}]})}if(zh(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return s.logentry={message:e,params:n},s}return s.message=t,s}function I_(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(Ep(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Yh(n[0],t);for(let r=n.length;r>0;r--){const e=n.slice(0,r).join(", ");if(!(e.length>t))return r===n.length?e:Yh(e,t)}return""}(e),r=t?"promise rejection":"exception";if(Uh(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(Hh(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(t){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}class R_ extends zg{constructor(e){!function(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(e=>({name:`${r}:@sentry/${e}`,version:Ym})),version:Ym}),e._metadata=s}(e,"browser",["browser"],y_.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&y_.document&&y_.document.addEventListener("visibilitychange",()=>{"hidden"===y_.document.visibilityState&&this._flushOutcomes()})}eventFromException(e,t){return function(e,t,n,r){const s=x_(e,t,n&&n.syntheticException||void 0,r);return Vp(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),Of(s)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,s){const i=C_(e,t,r&&r.syntheticException||void 0,s);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),Of(i)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(b_&&gp.warn("SDK not enabled, will not capture user feedback."));const t=function(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:_p(r)}},i=function(e){return[{type:"user_report"},e]}(e);return Jf(s,[i])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(b_&&gp.log("No outcomes to send"));if(!this._dsn)return void(b_&&gp.log("No dsn provided, will not send outcomes"));b_&&gp.log("Sending outcomes:",e);const t=(n=e,Jf((r=this._options.tunnel&&_p(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:jf(),discarded_events:n}]]));var n,r;this._sendEnvelope(t)}}let O_;function A_(e,t=function(){if(O_)return O_;if(sf(y_.fetch))return O_=y_.fetch.bind(y_);const e=y_.document;let t=y_.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){b_&&gp.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return O_=t.bind(y_)}()){let n=0,r=0;return Vg(e,function(s){const i=s.body.length;n+=i,r++;const o={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,o).then(e=>(n-=i,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(a){return O_=void 0,n-=i,r--,Af(a)}})}function P_(e){return Vg(e,function(t){return new Pf((n,r)=>{const s=new XMLHttpRequest;s.onerror=r,s.onreadystatechange=()=>{4===s.readyState&&n({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&s.setRequestHeader(t,e.headers[t]);s.send(t.body)})})}const M_="?";function D_(e,t,n,r){const s={filename:e,function:t,in_app:!0};return void 0!==n&&(s.lineno=n),void 0!==r&&(s.colno=r),s}const N_=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,L_=/\((\S*)(?::(\d+))(?::(\d+))\)/,j_=[30,e=>{const t=N_.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=L_.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=W_(t[1]||M_,t[2]);return D_(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],U_=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,q_=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,F_=[50,e=>{const t=U_.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=q_.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||M_;return[n,e]=W_(n,e),D_(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],z_=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,B_=Pp(...[j_,F_,[40,e=>{const t=z_.exec(e);return t?D_(t[2],t[1]||M_,+t[3],t[4]?+t[4]:void 0):void 0}]]),W_=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:M_,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},H_=1024,V_="Breadcrumbs",G_=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:V_,setupOnce(){},setup(e){t.console&&function(e){const t="console";jp(t,e),Up(t,Fp)}(function(e){return function(t){if(Dm()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:Lf(t.level),message:Xh(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${Xh(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}Im(n,{input:t.args,level:t.level})}}(e)),t.dom&&Zp(function(e,t){return function(n){if(Dm()!==e)return;let r,s,i="object"==typeof t?t.serializeAttribute:void 0,o="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;o&&o>H_&&(b_&&gp.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${o} was configured. Sentry will use 1024 instead.`),o=H_),"string"==typeof i&&(i=[i]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=lp(t,{keyAttrs:i,maxStringLength:o}),s=dp(t)}catch(c){r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};s&&(a.data={"ui.component_name":s}),Im(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom)),t.xhr&&Sf(function(e){return function(t){if(Dm()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,s=t.xhr[wf];if(!n||!r||!s)return;const{method:i,url:o,status_code:a,body:c}=s;Im({category:"xhr",data:{method:i,url:o,status_code:a},type:"http"},{xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r})}}(e)),t.fetch&&of(function(e){return function(t){if(Dm()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){Im({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response;Im({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:r})}}}(e)),t.history&&vf(function(e){return function(t){if(Dm()!==e)return;let n=t.from,r=t.to;const s=Df(y_.location.href);let i=n?Df(n):void 0;const o=Df(r);i&&i.path||(i=s),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),s.protocol===i.protocol&&s.host===i.host&&(n=i.relative),Im({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){Dm()===e&&Im({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Wp(t)},{event:t})}}(e))}}};Ug(V_,G_);const K_="Dedupe",J_=()=>{let e;return{name:K_,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!X_(e,t))return!1;if(!Y_(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=Q_(t),r=Q_(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!X_(e,t))return!1;if(!Y_(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return b_&&gp.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}};function Y_(e,t){let n=Z_(e),r=Z_(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++){const e=r[s],t=n[s];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function X_(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(s){return!1}}function Q_(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Z_(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}Ug(K_,J_);const ev="GlobalHandlers",tv=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:ev,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){df(t=>{const{stackParser:n,attachStacktrace:r}=sv();if(Dm()!==e||v_())return;const{msg:s,url:i,line:o,column:a,error:c}=t,l=void 0===c&&Fh(s)?function(e,t,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=Uh(e)?e.message:e,o="Error";const a=i.match(s);a&&(o=a[1],i=a[2]);const c={exception:{values:[{type:o,value:i}]}};return nv(c,t,n,r)}(s,i,o,a):nv(x_(n,c||s,void 0,r,!1),i,o,a);l.level="error",Cm(l,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}(e),rv("onerror")),t.onunhandledrejection&&(!function(e){ff(t=>{const{stackParser:n,attachStacktrace:r}=sv();if(Dm()!==e||v_())return;const s=function(e){if(Bh(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(n){}return e}(t),i=Bh(s)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(s)}`}]}}:x_(n,s,void 0,r,!0);i.level="error",Cm(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(e),rv("onunhandledrejection"))}}};function nv(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],l=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=Fh(t)&&t.length>0?t:function(){try{return cp.document.location.href}catch(e){return""}}();return 0===c.length&&c.push({colno:l,filename:d,function:"?",in_app:!0,lineno:u}),e}function rv(e){b_&&gp.log(`Global Handler attached: ${e}`)}function sv(){const e=Dm();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}Ug(ev,tv);const iv="HttpContext",ov=()=>({name:iv,setupOnce(){},preprocessEvent(e){if(!y_.navigator&&!y_.location&&!y_.document)return;const t=e.request&&e.request.url||y_.location&&y_.location.href,{referrer:n}=y_.document||{},{userAgent:r}=y_.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}});Ug(iv,ov);const av="LinkedErrors",cv=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:av,setupOnce(){},preprocessEvent(e,r,s){const i=s.getOptions();ep(w_,i.stackParser,i.maxValueLength,n,t,e,r)}}};Ug(av,cv);const lv=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],uv="TryCatch",dv=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:uv,setupOnce(){t.setTimeout&&wp(y_,"setTimeout",hv),t.setInterval&&wp(y_,"setInterval",hv),t.requestAnimationFrame&&wp(y_,"requestAnimationFrame",pv),t.XMLHttpRequest&&"XMLHttpRequest"in y_&&wp(XMLHttpRequest.prototype,"send",fv);const e=t.eventTarget;if(e){(Array.isArray(e)?e:lv).forEach(mv)}}}};function hv(e){return function(...t){const n=t[0];return t[0]=$_(n,{mechanism:{data:{function:Dp(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function pv(e){return function(t){return e.apply(this,[$_(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Dp(e)},handled:!1,type:"instrument"}})])}}function fv(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in n&&"function"==typeof n[e]&&wp(n,e,function(t){const n={mechanism:{data:{function:e,handler:Dp(t)},handled:!1,type:"instrument"}},r=Tp(t);return r&&(n.mechanism.data.handler=Dp(r)),$_(t,n)})}),e.apply(this,t)}}function mv(e){const t=y_,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(wp(n,"addEventListener",function(t){return function(n,r,s){try{"function"==typeof r.handleEvent&&(r.handleEvent=$_(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Dp(r),target:e},handled:!1,type:"instrument"}}))}catch(i){}return t.apply(this,[n,$_(r,{mechanism:{data:{function:"addEventListener",handler:Dp(r),target:e},handled:!1,type:"instrument"}}),s])}}),wp(n,"removeEventListener",function(e){return function(t,n,r){const s=n;try{const n=s&&s.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(i){}return e.call(this,t,s,r)}}))}Ug(uv,dv);const gv=[ey(),iy(),dv(),G_(),tv(),cv(),J_(),ov()];function yv(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=[...gv]),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),y_.SENTRY_RELEASE&&y_.SENTRY_RELEASE.id&&(e.release=y_.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(n=e.stackParser||B_,Array.isArray(n)?Pp(...n):n),integrations:Ng(e),transport:e.transport||(rf()?A_:P_)};var n;Hg(R_,t),e.autoSessionTracking&&function(){if(void 0===y_.document)return void(b_&&gp.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));Lm({ignoreDuration:!0}),qm(),vf(({from:e,to:t})=>{void 0!==e&&e!==t&&(Lm({ignoreDuration:!0}),qm())})}()}const _v=(e={},t=ng())=>{if(!y_.document)return void(b_&&gp.error("Global document not defined in showReportDialog call"));const{client:n,scope:r}=t.getStackTop(),s=e.dsn||n&&n.getDsn();if(!s)return void(b_&&gp.error("DSN not configured for showReportDialog call"));r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const i=y_.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=function(e,t){const n=$p(e);if(!n)return"";const r=`${Ag(n)}embed/error-page/`;let s=`dsn=${_p(n)}`;for(const i in t)if("dsn"!==i&&"onClose"!==i)if("user"===i){const e=t.user;if(!e)continue;e.name&&(s+=`&name=${encodeURIComponent(e.name)}`),e.email&&(s+=`&email=${encodeURIComponent(e.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${s}`}(s,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:o}=e;if(o){const e=t=>{if("__sentry_reportdialog_closed__"===t.data)try{o()}finally{y_.removeEventListener("message",e)}};y_.addEventListener("message",e)}const a=y_.document.head||y_.document.body;a?a.appendChild(i):b_&&gp.error("Not injecting report dialog. No injection point found in HTML")};const vv=ip,$v="sentryReplaySession",bv="Unable to send Replay",wv=15e4,Sv=5e3,kv=2e7,Tv=36e5;function Ev(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=i(n)):"call"!==s&&"optionalCall"!==s||(n=i((...e)=>n.call(t,...e)),t=void 0)}return n}var xv,Cv;function Iv(e){const t=Ev([e,"optionalAccess",e=>e.host]);return Boolean(Ev([t,"optionalAccess",e=>e.shadowRoot])===e)}function Rv(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function Ov(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,Av).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t):null}catch(n){return null}var t}function Av(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=Ov(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(n){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}(Cv=xv||(xv={}))[Cv.Document=0]="Document",Cv[Cv.DocumentType=1]="DocumentType",Cv[Cv.Element=2]="Element",Cv[Cv.Text=3]="Text",Cv[Cv.CDATA=4]="CDATA",Cv[Cv.Comment=5]="Comment";class Pv{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){if(!e)return-1;const t=Ev([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]);return r=()=>-1,null!=(n=t)?n:r();var n,r}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Mv({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text)}function Dv({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function Nv(e){return e.toLowerCase()}function Lv(e){return e.toUpperCase()}const jv="__rrweb_original__";function Uv(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Nv(t):null}function qv(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}let Fv=1;const zv=new RegExp("[^a-z0-9-_:]");function Bv(){return Fv++}let Wv,Hv;const Vv=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Gv=/^(?:[a-z+]+:)?\/\//i,Kv=/^www\..*/i,Jv=/^(data:)([^,]*),(.*)/i;function Yv(e,t){return(e||"").replace(Vv,(e,n,r,s,i,o)=>{const a=r||i||o,c=n||s||"";if(!a)return e;if(Gv.test(a)||Kv.test(a))return`url(${c}${a}${c})`;if(Jv.test(a))return`url(${c}${a}${c})`;if("/"===a[0])return`url(${c}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${c})`;const l=t.split("/"),u=a.split("/");l.pop();for(const t of u)"."!==t&&(".."===t?l.pop():l.push(t));return`url(${c}${l.join("/")}${c})`})}const Xv=/^[^ \t\n\r\u000c]+/,Qv=/^[, \t\n\r\u000c]+/;function Zv(e,t){if(!t||""===t.trim())return t;const n=e.createElement("a");return n.href=t,n.href}function e$(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function t$(){const e=document.createElement("a");return e.href="",e.href}function n$(e,t,n,r,s,i){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?Zv(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const s=e.exec(t.substring(n));return s?(r=s[0],n+=r.length,r):""}const s=[];for(;r(Qv),!(n>=t.length);){let i=r(Xv);if(","===i.slice(-1))i=Zv(e,i.substring(0,i.length-1)),s.push(i);else{let r="";i=Zv(e,i);let o=!1;for(;;){const e=t.charAt(n);if(""===e){s.push((i+r).trim());break}if(o)")"===e&&(o=!1);else{if(","===e){n+=1,s.push((i+r).trim());break}"("===e&&(o=!0)}r+=e,n+=1}}}return s.join(", ")}(e,r):"style"===n?Yv(r,t$()):"object"===t&&"data"===n?Zv(e,r):"function"==typeof i?i(n,r,s):r:Zv(e,r):r}function r$(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function s$(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:s$(e.parentNode,t,n,r+1):-1}function i$(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(s){return!1}}}function o$(e,t,n,r,s,i){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===o)return!1;if("INPUT"===o.tagName){const e=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let a=-1,c=-1;if(i){if(c=s$(o,i$(r,s)),c<0)return!0;a=s$(o,i$(t,n),c>=0?c:1/0)}else{if(a=s$(o,i$(t,n)),a<0)return!1;c=s$(o,i$(r,s),a>=0?a:1/0)}return a>=0?!(c>=0)||a<=c:!(c>=0)&&!!i}catch(o){}return!!i}function a$(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,inlineStylesheet:p,maskInputOptions:f={},maskTextFn:m,maskInputFn:g,dataURLOptions:y={},inlineImages:_,recordCanvas:v,keepIframeSrcFn:$,newlyAddedElement:b=!1}=t,w=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:xv.Document,childNodes:[],compatMode:e.compatMode}:{type:xv.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:xv.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:l,dataURLOptions:u={},inlineImages:d,recordCanvas:h,keepIframeSrcFn:p,newlyAddedElement:f=!1,rootId:m,maskTextClass:g,unmaskTextClass:y,maskTextSelector:_,unmaskTextSelector:v}=t,$=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(s){}return!1}(e,r,s,i),b=function(e){if(e instanceof HTMLFormElement)return"form";const t=Nv(e.tagName);return zv.test(t)?"div":t}(e);let w={};const S=e.attributes.length;for(let E=0;E<S;E++){const t=e.attributes[E];t.name&&!r$(b,t.name,t.value)&&(w[t.name]=n$(n,b,Nv(t.name),t.value,e,c))}if("link"===b&&o){const t=Array.from(n.styleSheets).find(t=>t.href===e.href);let r=null;t&&(r=Ov(t)),r&&(delete w.rel,delete w.href,w._cssText=Yv(r,t.href))}if("style"===b&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=Ov(e.sheet);t&&(w._cssText=Yv(t,t$()))}if("input"===b||"textarea"===b||"select"===b||"option"===b){const t=e,n=Uv(t),r=qv(t,Lv(b),n),s=t.checked;if("submit"!==n&&"button"!==n&&r){const e=o$(t,g,_,y,v,Mv({type:n,tagName:Lv(b),maskInputOptions:a}));w.value=Dv({isMasked:e,element:t,value:r,maskInputFn:l})}s&&(w.checked=s)}"option"===b&&(e.selected&&!a.select?w.selected=!0:delete w.selected);if("canvas"===b&&h)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const s=t.getImageData,i=jv in s?s[jv]:s;if(new Uint32Array(i.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some(e=>0!==e))return!1}return!0})(e)||(w.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const t=e.toDataURL(u.type,u.quality),n=document.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(u.type,u.quality)&&(w.rr_dataURL=t)}if("img"===b&&d){Wv||(Wv=n.createElement("canvas"),Hv=Wv.getContext("2d"));const t=e,r=t.crossOrigin;t.crossOrigin="anonymous";const s=()=>{t.removeEventListener("load",s);try{Wv.width=t.naturalWidth,Wv.height=t.naturalHeight,Hv.drawImage(t,0,0),w.rr_dataURL=Wv.toDataURL(u.type,u.quality)}catch(e){}r?w.crossOrigin=r:t.removeAttribute("crossorigin")};t.complete&&0!==t.naturalWidth?s():t.addEventListener("load",s)}"audio"!==b&&"video"!==b||(w.rr_mediaState=e.paused?"paused":"played",w.rr_mediaCurrentTime=e.currentTime);f||(e.scrollLeft&&(w.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(w.rr_scrollTop=e.scrollTop));if($){const{width:t,height:n}=e.getBoundingClientRect();w={class:w.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==b||p(w.src)||(e.contentDocument||(w.rr_src=w.src),delete w.src);let k;try{customElements.get(b)&&(k=!0)}catch(T){}return{type:xv.Element,tagName:b,attributes:w,childNodes:[],isSVG:e$(e)||void 0,needBlock:$,rootId:m,isCustom:k}}(e,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:f,maskInputFn:g,dataURLOptions:y,inlineImages:_,recordCanvas:v,keepIframeSrcFn:$,newlyAddedElement:b,rootId:w,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:c,maskInputFn:l,rootId:u}=t,d=e.parentNode&&e.parentNode.tagName;let h=e.textContent;const p="STYLE"===d||void 0,f="SCRIPT"===d||void 0,m="TEXTAREA"===d||void 0;if(p&&h){try{e.nextSibling||e.previousSibling||Ev([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(h=Ov(e.parentNode.sheet))}catch(y){}h=Yv(h,t$())}f&&(h="SCRIPT_PLACEHOLDER");const g=o$(e,r,i,s,o,n);p||f||m||!h||!g||(h=a?a(h,e.parentElement):h.replace(/[\S]/g,"*"));m&&h&&(c.textarea||g)&&(h=l?l(h,e.parentNode):h.replace(/[\S]/g,"*"));if("OPTION"===d&&h){h=Dv({isMasked:o$(e,r,i,s,o,Mv({type:null,tagName:d,maskInputOptions:c})),element:e,value:h,maskInputFn:l})}return{type:xv.Text,textContent:h||"",isStyle:p,rootId:u}}(e,{maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,maskTextFn:m,maskInputOptions:f,maskInputFn:g,rootId:w});case e.CDATA_SECTION_NODE:return{type:xv.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:xv.Comment,textContent:e.textContent||"",rootId:w};default:return!1}}function c$(e){return null==e?"":e.toLowerCase()}function l$(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:h=!1,inlineStylesheet:p=!0,maskInputOptions:f={},maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:_,dataURLOptions:v={},inlineImages:$=!1,recordCanvas:b=!1,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:k=5e3,onStylesheetLoad:T,stylesheetLoadTimeout:E=5e3,keepIframeSrcFn:x=()=>!1,newlyAddedElement:C=!1}=t;let{preserveWhiteSpace:I=!0}=t;const R=a$(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,dataURLOptions:v,inlineImages:$,recordCanvas:b,keepIframeSrcFn:x,newlyAddedElement:C});if(!R)return null;let O;O=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===xv.Comment)return!0;if(e.type===xv.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(c$(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===c$(e.attributes.name)||"icon"===c$(e.attributes.rel)||"apple-touch-icon"===c$(e.attributes.rel)||"shortcut icon"===c$(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&c$(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(c$(e.attributes.property).match(/^(og|twitter|fb):/)||c$(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===c$(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===c$(e.attributes.name)||"googlebot"===c$(e.attributes.name)||"bingbot"===c$(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===c$(e.attributes.name)||"generator"===c$(e.attributes.name)||"framework"===c$(e.attributes.name)||"publisher"===c$(e.attributes.name)||"progid"===c$(e.attributes.name)||c$(e.attributes.property).match(/^article:/)||c$(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===c$(e.attributes.name)||"yandex-verification"===c$(e.attributes.name)||"csrf-token"===c$(e.attributes.name)||"p:domain_verify"===c$(e.attributes.name)||"verify-v1"===c$(e.attributes.name)||"verification"===c$(e.attributes.name)||"shopify-checkout-api-token"===c$(e.attributes.name)))return!0}}return!1}(R,_)&&(I||R.type!==xv.Text||R.isStyle||R.textContent.replace(/^\s+|\s+$/gm,"").length)?Bv():-2;const A=Object.assign(R,{id:O});if(r.add(e,A),-2===O)return null;w&&w(e);let P=!h;if(A.type===xv.Element){P=P&&!A.needBlock,delete A.needBlock;const t=e.shadowRoot;t&&Rv(t)&&(A.isShadowHost=!0)}if((A.type===xv.Document||A.type===xv.Element)&&P){_.headWhitespace&&A.type===xv.Element&&"head"===A.tagName&&(I=!1);const t={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:h,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:_,dataURLOptions:v,inlineImages:$,recordCanvas:b,preserveWhiteSpace:I,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:T,stylesheetLoadTimeout:E,keepIframeSrcFn:x};for(const n of Array.from(e.childNodes)){const e=l$(n,t);e&&A.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=l$(n,t);r&&(Rv(e.shadowRoot)&&(r.isShadow=!0),A.childNodes.push(r))}}return e.parentNode&&Iv(e.parentNode)&&Rv(e.parentNode)&&(A.isShadow=!0),A.type===xv.Element&&"iframe"===A.tagName&&function(e,t,n){const r=e.contentWindow;if(!r)return;let s,i=!1;try{s=r.document.readyState}catch(a){return}if("complete"!==s){const r=setTimeout(()=>{i||(t(),i=!0)},n);return void e.addEventListener("load",()=>{clearTimeout(r),i=!0,t()})}const o="about:blank";if(r.location.href!==o||e.src===o||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,()=>{const t=e.contentDocument;if(t&&S){const n=l$(t,{doc:t,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:_,dataURLOptions:v,inlineImages:$,recordCanvas:b,preserveWhiteSpace:I,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:T,stylesheetLoadTimeout:E,keepIframeSrcFn:x});n&&S(e,n)}},k),A.type===xv.Element&&"link"===A.tagName&&"stylesheet"===A.attributes.rel&&function(e,t,n){let r,s=!1;try{r=e.sheet}catch(o){return}if(r)return;const i=setTimeout(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{clearTimeout(i),s=!0,t()})}(e,()=>{if(T){const t=l$(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:_,dataURLOptions:v,inlineImages:$,recordCanvas:b,preserveWhiteSpace:I,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:T,stylesheetLoadTimeout:E,keepIframeSrcFn:x});t&&T(e,t)}},E),A}function u$(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=i(n)):"call"!==s&&"optionalCall"!==s||(n=i((...e)=>n.call(t,...e)),t=void 0)}return n}function d$(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}let h$={map:{},getId:()=>-1,getNode:()=>null,removeNodeFromMap(){},has:()=>!1,reset(){}};function p$(e,t,n={}){let r=null,s=0;return function(...i){const o=Date.now();s||!1!==n.leading||(s=o);const a=t-(o-s),c=this;a<=0||a>t?(r&&(!function(...e){P$("clearTimeout")(...e)}(r),r=null),s=o,e.apply(c,i)):r||!1===n.trailing||(r=M$(()=>{s=!1===n.leading?0:Date.now(),r=null,e.apply(c,i)},a))}}function f$(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(e){M$(()=>{n.set.call(this,e)},0),i&&i.set&&i.set.call(this,e)}}),()=>f$(e,t,i||{},!0)}function m$(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return"function"==typeof s&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch(r){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(h$=new Proxy(h$,{get:(e,t,n)=>Reflect.get(e,t,n)}));let g$=Date.now;function y$(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:u$([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||u$([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||u$([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:u$([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||u$([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||u$([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0}}function _$(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function v$(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function $$(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}function b$(e,t,n,r,s){if(!e)return!1;const i=$$(e);if(!i)return!1;const o=i$(t,n);if(!s){const e=r&&i.matches(r);return o(i)&&!e}const a=s$(i,o);let c=-1;return!(a<0)&&(r&&(c=s$(i,i$(null,r))),a>-1&&c<0||a<c)}function w$(e,t){return-2===t.getId(e)}function S$(e,t){if(Iv(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||S$(e.parentNode,t))}function k$(e){return Boolean(e.changedTouches)}function T$(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function E$(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function x$(e){return Boolean(u$([e,"optionalAccess",e=>e.shadowRoot]))}/[1-9][0-9]{12}/.test(Date.now().toString())||(g$=()=>(new Date).getTime());class C${constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return t=this.styleIDMap.get(e),n=()=>-1,null!=t?t:n();var t,n}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function I$(e){let t=null;return u$([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function R$(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=I$(n);)n=t;return n}(e);return t.contains(n)}function O$(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||R$(e))}const A$={};function P$(e){const t=A$[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const s=t.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(t)}catch(s){}return A$[e]=r.bind(window)}function M$(...e){return P$("setTimeout")(...e)}var D$=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(D$||{}),N$=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(N$||{}),L$=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(L$||{}),j$=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(j$||{});function U$(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=i(n)):"call"!==s&&"optionalCall"!==s||(n=i((...e)=>n.call(t,...e)),t=void 0)}return n}function q$(e){return"__ln"in e}class F${constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=U$([t,"optionalAccess",e=>e.next])||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&q$(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&q$(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const z$=(e,t)=>`${e}@${t}`;class B${constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new F$,r=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},s=s=>{if(!s.parentNode||!O$(s))return;const i=Iv(s.parentNode)?this.mirror.getId(I$(s)):this.mirror.getId(s.parentNode),o=r(s);if(-1===i||-1===o)return n.addNode(s);const a=l$(s,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{T$(e,this.mirror)&&this.iframeManager.addIframe(e),E$(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),x$(s)&&this.shadowDomManager.addShadowRoot(s.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:i,nextId:o,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of this.movedSet)H$(this.removes,a,this.mirror)&&!this.movedSet.has(a.parentNode)||s(a);for(const a of this.addedSet)G$(this.droppedSet,a)||H$(this.removes,a,this.mirror)?G$(this.movedSet,a)?s(a):this.droppedSet.add(a):s(a);let i=null;for(;n.length;){let e=null;if(i){const t=this.mirror.getId(i.value.parentNode),n=r(i.value);-1!==t&&-1!==n&&(e=i)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}i=e.previous,n.removeNode(e.value),s(e.value)}const o={texts:this.texts.map(e=>({id:this.mirror.getId(e.node),value:e.value})).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),attributes:this.attributes.map(e=>{const{attributes:t}=e;if("string"==typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),removes:this.removes,adds:e};(o.texts.length||o.attributes.length||o.removes.length||o.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(o))},this.processMutation=e=>{if(!w$(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;b$(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:o$(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,$$(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const n=e.target;let r=e.attributeName,s=e.target.getAttribute(r);if("value"===r){const t=Uv(n),r=n.tagName;s=qv(n,r,t);const i=Mv({maskInputOptions:this.maskInputOptions,tagName:r,type:t});s=Dv({isMasked:o$(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,i),element:n,value:s,maskInputFn:this.maskInputFn})}if(b$(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===e.oldValue)return;let i=this.attributeMap.get(e.target);if("IFRAME"===n.tagName&&"src"===r&&!this.keepIframeSrcFn(s)){if(n.contentDocument)return;r="rr_src"}if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),"type"===r&&"INPUT"===n.tagName&&"password"===(e.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!r$(n.tagName,r)&&(i.attributes[r]=n$(this.doc,Nv(n.tagName),Nv(r),s,n,this.maskAttributeFn),"style"===r)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(t){this.unattachedDoc=this.doc}const r=this.unattachedDoc.createElement("span");e.oldValue&&r.setAttribute("style",e.oldValue);for(const e of Array.from(n.style)){const t=n.style.getPropertyValue(e),s=n.style.getPropertyPriority(e);t!==r.style.getPropertyValue(e)||s!==r.style.getPropertyPriority(e)?i.styleDiff[e]=""===s?t:[t,s]:i._unchangedStyles[e]=[t,s]}for(const e of Array.from(r.style))""===n.style.getPropertyValue(e)&&(i.styleDiff[e]=!1)}break}case"childList":if(b$(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{const n=this.mirror.getId(t),r=Iv(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);b$(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||w$(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(W$(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||S$(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[z$(n,r)]?W$(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!Iv(e.target)||!Rv(e.target))||void 0})),this.mapRemoves.push(t))})}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(w$(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[z$(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);b$(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach(e=>this.genAdds(e)),x$(e)&&e.shadowRoot.childNodes.forEach(t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function W$(e,t){e.delete(t),t.childNodes.forEach(t=>W$(e,t))}function H$(e,t,n){return 0!==e.length&&V$(e,t,n)}function V$(e,t,n){const{parentNode:r}=t;if(!r)return!1;const s=n.getId(r);return!!e.some(e=>e.id===s)||V$(e,r,n)}function G$(e,t){return 0!==e.size&&K$(e,t)}function K$(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||K$(e,n))}let J$;const Y$=e=>{if(!J$)return e;return(...t)=>{try{return e(...t)}catch(n){if(J$&&!0===J$(n))return()=>{};throw n}}};function X$(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=i(n)):"call"!==s&&"optionalCall"!==s||(n=i((...e)=>n.call(t,...e)),t=void 0)}return n}const Q$=[];function Z$(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(t){}return e&&e.target}function eb(e,t){const n=new B$;Q$.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=X$([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);s&&window[s]&&(r=window[s]);const i=new r(Y$(t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function tb({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(!1===o.mouseInteraction)return()=>{};const a=!0===o.mouseInteraction||void 0===o.mouseInteraction?{}:o.mouseInteraction,c=[];let l=null;return Object.keys(L$).filter(e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==a[e]).forEach(o=>{let a=Nv(o);const u=(t=>o=>{const a=Z$(o);if(b$(a,r,s,i,!0))return;let c=null,u=t;if("pointerType"in o){switch(o.pointerType){case"mouse":c=j$.Mouse;break;case"touch":c=j$.Touch;break;case"pen":c=j$.Pen}c===j$.Touch?L$[t]===L$.MouseDown?u="TouchStart":L$[t]===L$.MouseUp&&(u="TouchEnd"):j$.Pen}else k$(o)&&(c=j$.Touch);null!==c?(l=c,(u.startsWith("Touch")&&c===j$.Touch||u.startsWith("Mouse")&&c===j$.Mouse)&&(c=null)):L$[t]===L$.Click&&(c=l,l=null);const d=k$(o)?o.changedTouches[0]:o;if(!d)return;const h=n.getId(a),{clientX:p,clientY:f}=d;Y$(e)({type:L$[u],id:h,x:p,y:f,...null!==c&&{pointerType:c}})})(o);if(window.PointerEvent)switch(L$[o]){case L$.MouseDown:case L$.MouseUp:a=a.replace("mouse","pointer");break;case L$.TouchStart:case L$.TouchEnd:return}c.push(d$(a,u,t))}),Y$(()=>{c.forEach(e=>e())})}function nb({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){return d$("scroll",Y$(p$(Y$(o=>{const a=Z$(o);if(!a||b$(a,r,s,i,!0))return;const c=n.getId(a);if(a===t&&t.defaultView){const n=y$(t.defaultView);e({id:c,x:n.left,y:n.top})}else e({id:c,x:a.scrollLeft,y:a.scrollTop})}),o.scroll||100)),t)}const rb=["INPUT","TEXTAREA","SELECT"],sb=new WeakMap;function ib({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:l,sampling:u,userTriggeredOnInput:d,maskTextClass:h,unmaskTextClass:p,maskTextSelector:f,unmaskTextSelector:m}){function g(e){let n=Z$(e);const u=e.isTrusted,g=n&&Lv(n.tagName);if("OPTION"===g&&(n=n.parentElement),!n||!g||rb.indexOf(g)<0||b$(n,r,s,i,!0))return;const _=n;if(_.classList.contains(o)||a&&_.matches(a))return;const v=Uv(n);let $=qv(_,g,v),b=!1;const w=Mv({maskInputOptions:c,tagName:g,type:v}),S=o$(n,h,f,p,m,w);"radio"!==v&&"checkbox"!==v||(b=n.checked),$=Dv({isMasked:S,element:n,value:$,maskInputFn:l}),y(n,d?{text:$,isChecked:b,userTriggered:u}:{text:$,isChecked:b});const k=n.name;"radio"===v&&k&&b&&t.querySelectorAll(`input[type="radio"][name="${k}"]`).forEach(e=>{if(e!==n){const t=Dv({isMasked:S,element:e,value:qv(e,g,v),maskInputFn:l});y(e,d?{text:t,isChecked:!b,userTriggered:!1}:{text:t,isChecked:!b})}})}function y(t,r){const s=sb.get(t);if(!s||s.text!==r.text||s.isChecked!==r.isChecked){sb.set(t,r);const s=n.getId(t);Y$(e)({...r,id:s})}}const _=("last"===u.input?["change"]:["input","change"]).map(e=>d$(e,Y$(g),t)),v=t.defaultView;if(!v)return()=>{_.forEach(e=>e())};const $=v.Object.getOwnPropertyDescriptor(v.HTMLInputElement.prototype,"value"),b=[[v.HTMLInputElement.prototype,"value"],[v.HTMLInputElement.prototype,"checked"],[v.HTMLSelectElement.prototype,"value"],[v.HTMLTextAreaElement.prototype,"value"],[v.HTMLSelectElement.prototype,"selectedIndex"],[v.HTMLOptionElement.prototype,"selected"]];return $&&$.set&&_.push(...b.map(e=>f$(e[0],e[1],{set(){Y$(g)({target:this,isTrusted:!1})}},!1,v))),Y$(()=>{_.forEach(e=>e())})}function ob(e){return function(e,t){if(ub("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||ub("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||ub("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||ub("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function ab(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function cb({mirror:e,stylesheetManager:t},n){let r=null;r="#document"===n.nodeName?e.getId(n):e.getId(n.host);const s="#document"===n.nodeName?X$([n,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):X$([n,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),i=X$([s,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(X$([s,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&s&&i?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return X$([i,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)])},set(e){const n=X$([i,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==r&&-1!==r)try{t.adoptStyleSheets(e,r)}catch(s){}return n}}),Y$(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})})):()=>{}}function lb(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=eb(e,e.doc),s=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};const s="number"==typeof t.mousemove?t.mousemove:50,i="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let o,a=[];const c=p$(Y$(t=>{const n=Date.now()-o;e(a.map(e=>(e.timeOffset-=n,e)),t),a=[],o=null}),i),l=Y$(p$(Y$(e=>{const t=Z$(e),{clientX:n,clientY:s}=k$(e)?e.changedTouches[0]:e;o||(o=g$()),a.push({x:n,y:s,id:r.getId(t),timeOffset:g$()-o}),c("undefined"!=typeof DragEvent&&e instanceof DragEvent?N$.Drag:e instanceof MouseEvent?N$.MouseMove:N$.TouchMove)}),s,{trailing:!1})),u=[d$("mousemove",l,n),d$("touchmove",l,n),d$("drag",l,n)];return Y$(()=>{u.forEach(e=>e())})}(e),i=tb(e),o=nb(e),a=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return d$("resize",Y$(p$(Y$(()=>{const t=_$(),s=v$();n===t&&r===s||(e({width:Number(s),height:Number(t)}),n=t,r=s)}),200)),t)}(e,{win:n}),c=ib(e),l=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=Y$(o=>p$(Y$(i=>{const a=Z$(i);if(!a||b$(a,t,n,r,!0))return;const{currentTime:c,volume:l,muted:u,playbackRate:d}=a;e({type:o,id:s.getId(a),currentTime:c,volume:l,muted:u,playbackRate:d})}),i.media||500)),c=[d$("play",a(0),o),d$("pause",a(1),o),d$("seeked",a(2),o),d$("volumechange",a(3),o),d$("ratechange",a(4),o)];return Y$(()=>{c.forEach(e=>e())})}(e),u=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:Y$((r,s,i)=>{const[o,a]=i,{id:c,styleId:l}=ab(s,t,n.styleMirror);return(c&&-1!==c||l&&-1!==l)&&e({id:c,styleId:l,adds:[{rule:o,index:a}]}),r.apply(s,i)})});const i=r.CSSStyleSheet.prototype.deleteRule;let o,a;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:Y$((r,s,i)=>{const[o]=i,{id:a,styleId:c}=ab(s,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,removes:[{index:o}]}),r.apply(s,i)})}),r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:Y$((r,s,i)=>{const[o]=i,{id:a,styleId:c}=ab(s,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,replace:o}),r.apply(s,i)})})),r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:Y$((r,s,i)=>{const[o]=i,{id:a,styleId:c}=ab(s,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,replaceSync:o}),r.apply(s,i)})}));const c={};db("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(db("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),db("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),db("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const l={};return Object.entries(c).forEach(([r,s])=>{l[r]={insertRule:s.prototype.insertRule,deleteRule:s.prototype.deleteRule},s.prototype.insertRule=new Proxy(l[r].insertRule,{apply:Y$((r,s,i)=>{const[o,a]=i,{id:c,styleId:l}=ab(s.parentStyleSheet,t,n.styleMirror);return(c&&-1!==c||l&&-1!==l)&&e({id:c,styleId:l,adds:[{rule:o,index:[...ob(s),a||0]}]}),r.apply(s,i)})}),s.prototype.deleteRule=new Proxy(l[r].deleteRule,{apply:Y$((r,s,i)=>{const[o]=i,{id:a,styleId:c}=ab(s.parentStyleSheet,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,removes:[{index:[...ob(s),o]}]}),r.apply(s,i)})})}),Y$(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([e,t])=>{t.prototype.insertRule=l[e].insertRule,t.prototype.deleteRule=l[e].deleteRule})})}(e,{win:n}),d=cb(e,e.doc),h=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:Y$((s,o,a)=>{const[c,l,u]=a;if(n.has(c))return i.apply(o,[c,l,u]);const{id:d,styleId:h}=ab(X$([o,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(d&&-1!==d||h&&-1!==h)&&e({id:d,styleId:h,set:{property:c,value:l,priority:u},index:ob(o.parentRule)}),s.apply(o,a)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:Y$((s,i,a)=>{const[c]=a;if(n.has(c))return o.apply(i,[c]);const{id:l,styleId:u}=ab(X$([i,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(l&&-1!==l||u&&-1!==u)&&e({id:l,styleId:u,remove:{property:c},index:ob(i.parentRule)}),s.apply(i,a)})}),Y$(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}(e,{win:n}),p=e.collectFonts?function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(e,t,n){const r=new i(e,t,n);return s.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const o=m$(t.fonts,"add",function(t){return function(n){return M$(Y$(()=>{const t=s.get(n);t&&(e(t),s.delete(n))}),0),t.apply(this,[n])}});return r.push(()=>{n.FontFace=i}),r.push(o),Y$(()=>{r.forEach(e=>e())})}(e):()=>{},f=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=e;let a=!0;const c=Y$(()=>{const e=t.getSelection();if(!e||a&&X$([e,"optionalAccess",e=>e.isCollapsed]))return;a=e.isCollapsed||!1;const c=[],l=e.rangeCount||0;for(let t=0;t<l;t++){const o=e.getRangeAt(t),{startContainer:a,startOffset:l,endContainer:u,endOffset:d}=o;b$(a,r,s,i,!0)||b$(u,r,s,i,!0)||c.push({start:n.getId(a),startOffset:l,end:n.getId(u),endOffset:d})}o({ranges:c})});return c(),d$("selectionchange",c)}(e),m=function({doc:e,customElementCb:t}){const n=e.defaultView;return n&&n.customElements?m$(n.customElements,"define",function(e){return function(n,r,s){try{t({define:{name:n}})}catch(i){}return e.apply(this,[n,r,s])}}):()=>{}}(e),g=[];for(const y of e.plugins)g.push(y.observer(y.callback,n,y.options));return Y$(()=>{Q$.forEach(e=>e.reset()),r.disconnect(),s(),i(),o(),a(),c(),l(),u(),d(),h(),p(),f(),m(),g.forEach(e=>e())})}function ub(e){return void 0!==window[e]}function db(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class hb{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const s=n||this.getIdToRemoteIdMap(e),i=r||this.getRemoteIdToIdMap(e);let o=s.get(t);return o||(o=this.generateIdFn(),s.set(t,o),i.set(o,t)),o}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map(t=>this.getId(e,t,n,r))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;const s=r.get(t);return s||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map(t=>this.getRemoteId(e,t,n))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}function pb(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=i(n)):"call"!==s&&"optionalCall"!==s||(n=i((...e)=>n.call(t,...e)),t=void 0)}return n}class fb{constructor(){this.crossOriginIframeMirror=new hb(Bv),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class mb{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new hb(Bv),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new hb(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),pb([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case D$.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:D$.IncrementalSnapshot,data:{source:N$.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case D$.Meta:case D$.Load:case D$.DomContentLoaded:return!1;case D$.Plugin:return t;case D$.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case D$.IncrementalSnapshot:switch(t.data.source){case N$.Mutation:return t.data.adds.forEach(t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)}),t.data.removes.forEach(t=>{this.replaceIds(t,e,["parentId","id"])}),t.data.attributes.forEach(t=>{this.replaceIds(t,e,["id"])}),t.data.texts.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case N$.Drag:case N$.TouchMove:case N$.MouseMove:return t.data.positions.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case N$.ViewportResize:return!1;case N$.MediaInteraction:case N$.MouseInteraction:case N$.Scroll:case N$.CanvasMutation:case N$.Input:return this.replaceIds(t.data,e,["id"]),t;case N$.StyleSheetRule:case N$.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case N$.Font:return t;case N$.Selection:return t.data.ranges.forEach(t=>{this.replaceIds(t,e,["start","end"])}),t;case N$.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),pb([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t(t=>{this.replaceStyleIds(t,e,["styleId"])})]),t}}return!1}replace(e,t,n,r){for(const s of r)(Array.isArray(t[s])||"number"==typeof t[s])&&(Array.isArray(t[s])?t[s]=e.getIds(n,t[s]):t[s]=e.getId(n,t[s]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(e=>{this.replaceIdOnNode(e,t)})}patchRootIdOnNode(e,t){e.type===xv.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(e=>{this.patchRootIdOnNode(e,t)})}}class gb{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class yb{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!Rv(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=eb({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(nb({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),M$(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(cb({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(m$(e.prototype,"attachShadow",function(e){return function(r){const s=e.call(this,r);return this.shadowRoot&&O$(this)&&n.addShadowRoot(this.shadowRoot,t),s}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(t){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class _b{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class vb{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new C$,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const s of e){let e;this.styleMirror.has(s)?e=this.styleMirror.getId(s):(e=this.styleMirror.add(s),r.push({styleId:e,rules:Array.from(s.rules||CSSRule,(e,t)=>({rule:Av(e),index:t}))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class $b{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function(...e){P$("requestAnimationFrame")(...e)}(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some(e=>e!==t)}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let bb,wb;const Sb=new Pv;function kb(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:l=!1,maskTextClass:u="rr-mask",unmaskTextClass:d=null,maskTextSelector:h=null,unmaskTextSelector:p=null,inlineStylesheet:f=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:y,maskAttributeFn:_,maskInputFn:v,maskTextFn:$,maxCanvasSize:b=null,packFn:w,sampling:S={},dataURLOptions:k={},mousemoveWait:T,recordCanvas:E=!1,recordCrossOriginIframes:x=!1,recordAfter:C=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:I=!1,collectFonts:R=!1,inlineImages:O=!1,plugins:A,keepIframeSrcFn:P=()=>!1,ignoreCSSAttributes:M=new Set([]),errorHandler:D,onMutation:N,getCanvasManager:L}=e;J$=D;const j=!x||window.parent===window;let U=!1;if(!j)try{window.parent.document&&(U=!1)}catch(ee){U=!0}if(j&&!t)throw new Error("emit function is required");void 0!==T&&void 0===S.mousemove&&(S.mousemove=T),Sb.reset();const q=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},F=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};let z;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let B=0;const W=e=>{for(const t of A||[])t.eventProcessor&&(e=t.eventProcessor(e));return w&&!U&&(e=w(e)),e};bb=(e,s)=>{const i=e;if(i.timestamp=g$(),!am([Q$,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])||i.type===D$.FullSnapshot||i.type===D$.IncrementalSnapshot&&i.data.source===N$.Mutation||Q$.forEach(e=>e.unfreeze()),j)am([t,"optionalCall",e=>e(W(i),s)]);else if(U){const e={type:"rrweb",event:W(i),origin:window.location.origin,isCheckout:s};window.parent.postMessage(e,"*")}if(i.type===D$.FullSnapshot)z=i,B=0;else if(i.type===D$.IncrementalSnapshot){if(i.data.source===N$.Mutation&&i.data.isAttachIframe)return;B++;const e=r&&B>=r,t=n&&z&&i.timestamp-z.timestamp>n;(e||t)&&Z(!0)}};const H=e=>{bb({type:D$.IncrementalSnapshot,data:{source:N$.Mutation,...e}})},V=e=>bb({type:D$.IncrementalSnapshot,data:{source:N$.Scroll,...e}}),G=e=>bb({type:D$.IncrementalSnapshot,data:{source:N$.CanvasMutation,...e}}),K=new vb({mutationCb:H,adoptedStyleSheetCb:e=>bb({type:D$.IncrementalSnapshot,data:{source:N$.AdoptedStyleSheet,...e}})}),J="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new fb:new mb({mirror:Sb,mutationCb:H,stylesheetManager:K,recordCrossOriginIframes:x,wrappedEmit:bb});for(const ne of A||[])ne.getMirror&&ne.getMirror({nodeMirror:Sb,crossOriginIframeMirror:J.crossOriginIframeMirror,crossOriginIframeStyleMirror:J.crossOriginIframeStyleMirror});const Y=new $b,X=function(e,t){try{return e?e(t):new _b}catch(ee){return new _b}}(L,{mirror:Sb,win:window,mutationCb:e=>bb({type:D$.IncrementalSnapshot,data:{source:N$.CanvasMutation,...e}}),recordCanvas:E,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:b,sampling:S.canvas,dataURLOptions:k,errorHandler:D}),Q="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new gb:new yb({mutationCb:H,scrollCb:V,bypassOptions:{onMutation:N,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:q,dataURLOptions:k,maskAttributeFn:_,maskTextFn:$,maskInputFn:v,recordCanvas:E,inlineImages:O,sampling:S,slimDOMOptions:F,iframeManager:J,stylesheetManager:K,canvasManager:X,keepIframeSrcFn:P,processedNodeManager:Y},mirror:Sb}),Z=(e=!1)=>{bb({type:D$.Meta,data:{href:window.location.href,width:v$(),height:_$()}},e),K.reset(),Q.init(),Q$.forEach(e=>e.lock());const t=function(e,t){const{mirror:n=new Pv,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:l=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:h=!1,recordCanvas:p=!1,maskAllInputs:f=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOM:_=!1,dataURLOptions:v,preserveWhiteSpace:$,onSerialize:b,onIframeLoad:w,iframeLoadTimeout:S,onStylesheetLoad:k,stylesheetLoadTimeout:T,keepIframeSrcFn:E=()=>!1}=t||{};return l$(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:!0===_||"all"===_?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===_,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===_?{}:_,dataURLOptions:v,inlineImages:h,recordCanvas:p,preserveWhiteSpace:$,onSerialize:b,onIframeLoad:w,iframeLoadTimeout:S,onStylesheetLoad:k,stylesheetLoadTimeout:T,keepIframeSrcFn:E,newlyAddedElement:!1})}(document,{mirror:Sb,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:f,maskAllInputs:q,maskAttributeFn:_,maskInputFn:v,maskTextFn:$,slimDOM:F,dataURLOptions:k,recordCanvas:E,inlineImages:O,onSerialize:e=>{T$(e,Sb)&&J.addIframe(e),E$(e,Sb)&&K.trackLinkElement(e),x$(e)&&Q.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{J.attachIframe(e,t),Q.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{K.attachLinkElement(e,t)},keepIframeSrcFn:P});t&&(bb({type:D$.FullSnapshot,data:{node:t,initialOffset:y$(window)}}),Q$.forEach(e=>e.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&K.adoptStyleSheets(document.adoptedStyleSheets,Sb.getId(document)))};wb=Z;try{const e=[],t=e=>Y$(lb)({onMutation:N,mutationCb:H,mousemoveCb:(e,t)=>bb({type:D$.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>bb({type:D$.IncrementalSnapshot,data:{source:N$.MouseInteraction,...e}}),scrollCb:V,viewportResizeCb:e=>bb({type:D$.IncrementalSnapshot,data:{source:N$.ViewportResize,...e}}),inputCb:e=>bb({type:D$.IncrementalSnapshot,data:{source:N$.Input,...e}}),mediaInteractionCb:e=>bb({type:D$.IncrementalSnapshot,data:{source:N$.MediaInteraction,...e}}),styleSheetRuleCb:e=>bb({type:D$.IncrementalSnapshot,data:{source:N$.StyleSheetRule,...e}}),styleDeclarationCb:e=>bb({type:D$.IncrementalSnapshot,data:{source:N$.StyleDeclaration,...e}}),canvasMutationCb:G,fontCb:e=>bb({type:D$.IncrementalSnapshot,data:{source:N$.Font,...e}}),selectionCb:e=>{bb({type:D$.IncrementalSnapshot,data:{source:N$.Selection,...e}})},customElementCb:e=>{bb({type:D$.IncrementalSnapshot,data:{source:N$.CustomElement,...e}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:p,maskInputOptions:q,inlineStylesheet:f,sampling:S,recordCanvas:E,inlineImages:O,userTriggeredOnInput:I,collectFonts:R,doc:e,maskAttributeFn:_,maskInputFn:v,maskTextFn:$,keepIframeSrcFn:P,blockSelector:i,unblockSelector:o,slimDOMOptions:F,dataURLOptions:k,mirror:Sb,iframeManager:J,stylesheetManager:K,shadowDomManager:Q,processedNodeManager:Y,canvasManager:X,ignoreCSSAttributes:M,plugins:am([A,"optionalAccess",e=>e.filter,"call",e=>e(e=>e.observer),"optionalAccess",e=>e.map,"call",e=>e(e=>({observer:e.observer,options:e.options,callback:t=>bb({type:D$.Plugin,data:{plugin:e.name,payload:t}})}))])||[]},{});J.addLoadListener(n=>{try{e.push(t(n.contentDocument))}catch(r){}});const n=()=>{Z(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(d$("DOMContentLoaded",()=>{bb({type:D$.DomContentLoaded,data:{}}),"DOMContentLoaded"===C&&n()})),e.push(d$("load",()=>{bb({type:D$.Load,data:{}}),"load"===C&&n()},window))),()=>{e.forEach(e=>e()),Y.destroy(),wb=void 0,J$=void 0}}catch(te){}}kb.mirror=Sb,kb.takeFullSnapshot=function(e){if(!wb)throw new Error("please take full snapshot after start recording");wb(e)};function Tb(e){return e>9999999999?e:1e3*e}function Eb(e){return e>9999999999?e/1e3:e}function xb(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:D$.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:xf(t,10,1e3)}}),"console"===t.category)))}function Cb(e){return e.closest("button,a")||e}function Ib(e){const t=Rb(e);return t&&t instanceof Element?Cb(t):t}function Rb(e){return function(e){return"object"==typeof e&&!!e&&"target"in e}(e)?e.target:e}let Ob;function Ab(e){return Ob||(Ob=[],wp(vv,"open",function(e){return function(...t){if(Ob)try{Ob.forEach(e=>e())}catch(n){}return e.apply(vv,t)}})),Ob.push(e),()=>{const t=Ob?Ob.indexOf(e):-1;t>-1&&Ob.splice(t,1)}}class Pb{constructor(e,t,n=xb){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=Ab(()=>{this._lastMutation=Db()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!Mb.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:Eb(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1)||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=Eb(e)}registerScroll(e=Date.now()){this._lastScroll=Eb(e)}registerClick(e){const t=Cb(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach(e=>{e.clickCount++})}_getClicks(e){return this._clicks.filter(t=>t.node===e)}_checkClicks(){const e=[],t=Db();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)});for(const n of e){const e=this._clicks.indexOf(n);e>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,s=!n&&!r,{clickCount:i,clickBreadcrumb:o}=e;if(s){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",s={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.slowClickDetected",data:{...o.data,url:vv.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:i||1}};return void this._addBreadcrumbEvent(t,s)}if(i>1){const e={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.multiClick",data:{...o.data,url:vv.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const Mb=["A","BUTTON","INPUT"];function Db(){return Date.now()/1e3}function Nb(e,t){try{if(!function(e){return 3===e.type}(t))return;const{source:n}=t.data;if(n===N$.Mutation&&e.registerMutation(t.timestamp),n===N$.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===N$.MouseInteraction}(t)){const{type:n,id:r}=t.data,s=kb.mirror.getNode(r);s instanceof HTMLElement&&n===L$.Click&&e.registerClick(s)}}catch(n){}}function Lb(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var jb;!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(jb||(jb={}));const Ub=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function qb(e){const t={};for(const n in e)if(Ub.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}const Fb=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,r=null;try{r=t?Ib(e.event):Rb(e.event),n=lp(r,{maxStringLength:200})||"<unknown>"}catch(s){n="<unknown>"}return{target:r,message:n}}(e);return Lb({category:`ui.${e.name}`,...zb(t,n)})}(t);if(!n)return;const r="click"===t.name,s=r?t.event:void 0;var i,o,a;!(r&&e.clickDetector&&s&&s.target)||s.altKey||s.metaKey||s.ctrlKey||s.shiftKey||(i=e.clickDetector,o=n,a=Ib(t.event),i.handleClick(o,a)),xb(e,n)};function zb(e,t){const n=kb.mirror.getId(e),r=n&&kb.mirror.getNode(n),s=r&&kb.mirror.getMeta(r),i=s&&function(e){return e.type===jb.Element}(s)?s:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(e=>e.type===jb.Text&&e.textContent).filter(Boolean).map(e=>e.trim()).join(""),attributes:qb(i.attributes)}}:{}}}function Bb(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=e;if(!o||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(o)||!i)return null;const a=t||r||s,c=1===i.length;if(!a&&c)return null;const l=lp(o,{maxStringLength:200})||"<unknown>",u=zb(o,l);return Lb({category:"ui.keyDown",message:l,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}(t);n&&xb(e,n)}const Wb={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:l}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:Vb(i),end:Vb(s),name:r,data:{size:l,statusCode:c,decodedBodySize:o,encodedBodySize:a}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:s}=e,i=Vb(s);return{type:n,name:r,start:i,end:i+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:l,loadEventStart:u,loadEventEnd:d,redirectCount:h,startTime:p,transferSize:f,type:m}=e;if(0===s)return null;return{type:`${t}.${m}`,start:Vb(p),end:Vb(i),name:n,data:{size:f,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:l,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:u,loadEventEnd:d,domComplete:i,redirectCount:h}}}};function Hb(e){return Wb[e.entryType]?Wb[e.entryType](e):null}function Vb(e){return((qf||vv.performance.timeOrigin)+e)/1e3}function Gb(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n({entries:e}){e.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(e=>{r.push(Ny(e,n))}),r.push(Dy(({metric:t})=>{e.replayPerformanceEntries.push(function(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,s=e.value,i=Vb(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:s,size:s,nodeId:r?kb.mirror.getId(r):void 0}}}(t))})),()=>{r.forEach(e=>e())}}const Kb="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Jb(e,t){Kb&&(gp.info(e),t&&Xb(e))}function Yb(e,t){Kb&&(gp.info(e),t&&setTimeout(()=>{Xb(e)},0))}function Xb(e){Im({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class Qb extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class Zb{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>kv)throw new Qb;this.events.push(e)}finish(){return new Promise(e=>{const t=this.events;this.clear(),e(JSON.stringify(t))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(e=>e.timestamp).sort()[0];return e?Tb(e):null}}class ew{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",({data:n})=>{n.success?e():t()},{once:!0}),this._worker.addEventListener("error",e=>{t(e)},{once:!0})})),this._ensureReadyPromise}destroy(){Jb("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise((r,s)=>{const i=({data:t})=>{const o=t;if(o.method===e&&o.id===n){if(this._worker.removeEventListener("message",i),!o.success)return Kb&&gp.error("[Replay]",o.response),void s(new Error("Error in compression worker"));r(o.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:e,arg:t})})}_getAndIncrementId(){return this._id++}}class tw{constructor(e){this._worker=new ew(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=Tb(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>kv?Promise.reject(new Qb):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{Kb&&gp.warn('[Replay] Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class nw{constructor(e){this._fallback=new Zb,this._compression=new tw(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void Jb("[Replay] Failed to load the compression worker, falling back to simple buffer")}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t}=this._fallback,n=[];for(const s of e)n.push(this._compression.addEvent(s));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(n)}catch(r){Kb&&gp.warn("[Replay] Failed to add events when switching buffers.",r)}}}function rw({useCompression:e,workerUrl:t}){if(e&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}();return""}();if(!t)return;Jb("[Replay] Using compression worker"+(e?` from ${e}`:""));const n=new Worker(t);return new nw(n)}catch(t){Jb("[Replay] Failed to create compression worker")}}(t);if(e)return e}return Jb("[Replay] Using simple buffer"),new Zb}function sw(){try{return"sessionStorage"in vv&&!!vv.sessionStorage}catch(e){return!1}}function iw(e){!function(){if(!sw())return;try{vv.sessionStorage.removeItem($v)}catch(e){}}(),e.session=void 0}function ow(e){return void 0!==e&&Math.random()<e}function aw(e){const t=Date.now();return{id:e.id||zp(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function cw(e){if(sw())try{vv.sessionStorage.setItem($v,JSON.stringify(e))}catch(t){}}function lw({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=function(e,t){return ow(e)?"session":!!t&&"buffer"}(e,t),i=aw({sampled:s,previousSessionId:r});return n&&cw(i),i}function uw(e,t,n=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=n}function dw(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return uw(e.started,t,r)||uw(e.lastActivity,n,r)}function hw(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!dw(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId)}function pw({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},s){const i=s.stickySession&&function(e){if(!sw())return null;try{const t=vv.sessionStorage.getItem($v);if(!t)return null;const n=JSON.parse(t);return Yb("[Replay] Loading existing session",e),aw(n)}catch(t){return null}}(e);return i?hw(i,{sessionIdleExpire:t,maxReplayDuration:n})?(Yb("[Replay] Session in sessionStorage is expired, creating new one..."),lw(s,{previousSessionId:i.id})):i:(Yb("[Replay] Creating new session",e),lw(s,{previousSessionId:r}))}function fw(e,t,n){return!!gw(e,t)&&(mw(e,t,n),!0)}async function mw(e,t,n){if(!e.eventBuffer)return null;try{n&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=function(e,t){try{if("function"==typeof t&&function(e){return e.type===D$.Custom}(e))return t(e)}catch(n){return Kb&&gp.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!r)return;return await e.eventBuffer.addEvent(r)}catch(r){const t=r&&r instanceof Qb?"addEventSizeExceeded":"addEvent";Kb&&gp.error(r),await e.stop({reason:t});const n=Dm();n&&n.recordDroppedEvent("internal_sdk_error","replay")}}function gw(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Tb(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(Jb(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1))}function yw(e){return!e.type}function _w(e){return"transaction"===e.type}function vw(e){return"feedback"===e.type}function $w(e){const t=function(){const e=Dm();if(!e)return!1;const t=e.getTransport();if(!t)return!1;return t.send.__sentry__baseTransport__||!1}();return(n,r)=>{if(!e.isEnabled()||!yw(n)&&!_w(n))return;const s=r&&r.statusCode;t&&(!s||s<200||s>=300)||(_w(n)?function(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,n):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();if("function"==typeof r&&!r(t))return;setTimeout(()=>{e.sendBufferedReplayOrFlush()})}(e,n))}}function bw(e){return t=>{e.isEnabled()&&yw(t)&&function(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){xb(e,Lb({category:"replay.hydrate-error"}))}}(e,t)}}function ww(e,t=!1){const n=t?$w(e):void 0;return Object.assign((t,r)=>{if(!e.isEnabled())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!yw(t)&&!_w(t)&&!vw(t))return t;if(!e.checkAndHandleExpiredSession())return t;if(vw(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate(()=>!t.timestamp||(e.throttledAddEvent({type:D$.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1))}(e,t),t;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length||!t.originalException||!t.originalException.__rrweb__)}(t,r)&&!e.getOptions()._experiments.captureExceptions)return Kb&&gp.log("[Replay] Ignoring error from rrweb internals",t),null;const s=function(e,t){return"buffer"===e.recordingMode&&t.message!==bv&&!(!t.exception||t.type)&&ow(e.getOptions().errorSampleRate)}(e,t);return(s||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),n&&n(t,{statusCode:200}),t},{id:"Replay"})}function Sw(e,t){return t.map(({type:t,start:n,end:r,name:s,data:i})=>{const o=e.throttledAddEvent({type:D$.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:s,startTimestamp:n,endTimestamp:r,data:i}}});return"string"==typeof o?Promise.resolve(null):o})}function kw(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Sw(e,[n]),!1)))}}function Tw(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!Kb||!e.getOptions()._experiments.traceInternals)&&Jg(t,Dm())}(e,t.name)||e.addUpdate(()=>(Sw(e,[t]),!0)))}function Ew(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,s=r[wf];if(!t||!n||!s)return null;const{method:i,url:o,status_code:a}=s;return void 0===o?null:{type:"resource.xhr",name:o,start:t/1e3,end:n/1e3,data:{method:i,statusCode:a}}}(t);Tw(e,n)}}function xw(e,t){if(e)try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Dw(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(n){}}function Cw(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Iw(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Dw(e)];if(!e)return[void 0]}catch(t){return Kb&&gp.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Kb&&gp.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Rw(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Ow(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:Ip({method:i,statusCode:o,request:a,response:c})}}function Aw(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Pw(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:i}=function(e){if(!e||"string"!=typeof e)return{body:e};const t=e.length>wv,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,wv);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(r){}return{body:e}}(n);return r.body=s,i&&i.length>0&&(r._meta={warnings:i}),r}function Mw(e,t){return Object.keys(e).reduce((n,r)=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=e[r]),n},{})}function Dw(e){return new URLSearchParams(e).toString()}function Nw(e,t){const n=function(e,t=vv.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(vv.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return Zh(n,t)}async function Lw(e,t,n){try{const r=await async function(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=t,{url:o,method:a,status_code:c=0,request_body_size:l,response_body_size:u}=e.data,d=Nw(o,n.networkDetailAllowUrls)&&!Nw(o,n.networkDetailDenyUrls),h=d?function({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?function(e,t){if(1===e.length&&"string"!=typeof e[0])return qw(e[0],t);if(2===e.length)return qw(e[1],t);return{}}(n,t):{};if(!e)return Pw(s,r,void 0);const i=jw(n),[o,a]=Iw(i),c=Pw(s,r,o);if(a)return Rw(c,a);return c}(n,t.input,l):Aw(l),p=await async function(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},s,i){if(!e&&void 0!==i)return Aw(i);const o=s?Uw(s.headers,r):{};if(!s||!t&&void 0!==i)return Pw(o,i,void 0);const[a,c]=await async function(e){const t=function(e){try{return e.clone()}catch(t){Kb&&gp.warn("[Replay] Failed to clone response body",t)}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);(async function(e){return await e.text()})(e).then(e=>t(e),e=>n(e)).finally(()=>clearTimeout(r))})}(t);return[e]}catch(n){return Kb&&gp.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}}(s),l=function(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:s,headers:i}){try{const o=e&&e.length&&void 0===r?xw(e,n):r;return s?Pw(i,o,t?e:void 0):Aw(o)}catch(o){return Kb&&gp.warn("[Replay] Failed to serialize response body",o),Pw(i,r,void 0)}}(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:i,captureDetails:e,headers:o});if(c)return Rw(l,c);return l}(d,n,t.response,u);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:c,request:h,response:p}}(e,t,n),s=Ow("resource.fetch",r);Tw(n.replay,s)}catch(r){Kb&&gp.error("[Replay] Failed to capture fetch breadcrumb",r)}}function jw(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}function Uw(e,t){const n={};return t.forEach(t=>{e.get(t)&&(n[t]=e.get(t))}),n}function qw(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Uw(n,t):Array.isArray(n)?{}:Mw(n,t):{}}async function Fw(e,t,n){try{const r=function(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=t,{url:c,method:l,status_code:u=0,request_body_size:d,response_body_size:h}=e.data;if(!c)return null;if(!a||!Nw(c,n.networkDetailAllowUrls)||Nw(c,n.networkDetailDenyUrls)){return{startTimestamp:s,endTimestamp:i,url:c,method:l,statusCode:u,request:Aw(d),response:Aw(h)}}const p=a[wf],f=p?Mw(p.request_headers,n.networkRequestHeaders):{},m=Mw(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce((e,t)=>{const[n,r]=t.split(": ");return e[n.toLowerCase()]=r,e},{})}(a),n.networkResponseHeaders),[g,y]=n.networkCaptureBodies?Iw(o):[void 0],[_,v]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return Kb&&gp.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Kb&&gp.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(n){t.push(n)}return Kb&&gp.warn("[Replay] Failed to get xhr response body",...t),[void 0]}(a):[void 0],$=Pw(f,d,g),b=Pw(m,h,_);return{startTimestamp:s,endTimestamp:i,url:c,method:l,statusCode:u,request:y?Rw($,y):$,response:v?Rw(b,v):b}}(e,t,n),s=Ow("resource.xhr",r);Tw(n.replay,s)}catch(r){Kb&&gp.error("[Replay] Failed to capture xhr breadcrumb",r)}}function zw(e,t,n){const{xhr:r,input:s}=t;if(!r)return;const i=xw(s,n.textEncoder),o=r.getResponseHeader("content-length")?Cw(r.getResponseHeader("content-length")):function(e,t,n){try{return xw("json"===t&&e&&"object"==typeof e?JSON.stringify(e):e,n)}catch(r){return}}(r.response,r.responseType,n.textEncoder);void 0!==i&&(e.data.request_body_size=i),void 0!==o&&(e.data.response_body_size=o)}function Bw(e){const t=Dm();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return e&&e.xhr}(n)&&(zw(t,n,e),Fw(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e&&e.response}(n)&&(!function(e,t,n){const{input:r,response:s}=t,i=xw(r?jw(r):void 0,n.textEncoder),o=s?Cw(s.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==o&&(e.data.response_body_size=o)}(t,n,e),Lw(t,n,e))}catch(r){Kb&&gp.warn("Error when enriching network breadcrumb")}}(c,e,t)):(of(function(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:s}=e;if(!n)return null;const{method:i,url:o}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:o,data:{method:i,statusCode:s?s.status:void 0}}}(t);Tw(e,n)}}(e)),Sf(Ew(e)))}catch(n){}}let Ww=null;const Hw=e=>t=>{if(!e.isEnabled())return;const n=function(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();if(Ww===t||!t)return null;if(Ww=t,!function(e){return!!e.category}(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))return null;if("console"===t.category)return function(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return Lb(e);let n=!1;const r=t.map(e=>{if(!e)return e;if("string"==typeof e)return e.length>Sv?(n=!0,`${e.slice(0,Sv)}…`):e;if("object"==typeof e)try{const t=xf(e,7);return JSON.stringify(t).length>Sv?(n=!0,`${JSON.stringify(t,null,2).slice(0,Sv)}…`):t}catch(t){}return e});return Lb({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(t);return Lb(t)}(t);n&&xb(e,n)};function Vw(e){const t=Nm(),n=Dm();t.addScopeListener(Hw(e)),Zp(Fb(e)),vf(kw(e)),Bw(e);const r=ww(e,!Gw(n));n&&n.addEventProcessor?n.addEventProcessor(r):function(e){const t=Dm();t&&t.addEventProcessor&&t.addEventProcessor(e)}(r),Gw(n)&&(n.on("beforeSendEvent",bw(e)),n.on("afterSendEvent",$w(e)),n.on("createDsc",t=>{const n=e.getSessionId();if(n&&e.isEnabled()&&"session"===e.recordingMode){e.checkAndHandleExpiredSession()&&(t.replay_id=n)}}),n.on("startTransaction",t=>{e.lastTransaction=t}),n.on("finishTransaction",t=>{e.lastTransaction=t}),n.on("beforeSendFeedback",(t,n)=>{const r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r)}))}function Gw(e){return!(!e||!e.on)}function Kw(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Jw(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(Kb&&gp.warn("[Replay] Received replay event after session expired."));const s=r||!t;t=!0,e.clickDetector&&Nb(e.clickDetector,n),e.addUpdate(()=>{if("buffer"===e.recordingMode&&s&&e.setInitialState(),!fw(e,n,s))return!0;if(!s)return!1;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;fw(e,function(e){const t=e.getOptions();return{type:D$.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,s),e.session&&e.session.previousSessionId)return!0;if("buffer"===e.recordingMode&&e.session&&e.eventBuffer){const t=e.eventBuffer.getEarliestTimestamp();t&&(Jb(`[Replay] Updating session start time to earliest event in buffer to ${new Date(t)}`,e.getOptions()._experiments.traceInternals),e.session.started=t,e.getOptions().stickySession&&cw(e.session))}return"session"===e.recordingMode&&e.flush(),!0})}}async function Yw({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=function({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}\n`;if("string"==typeof e)n=`${r}${e}`;else{const t=(new TextEncoder).encode(r);n=new Uint8Array(t.length+e.length),n.set(t),n.set(e,t.length)}return n}({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:l,initialTimestamp:u}=r,d=Dm(),h=Nm(),p=d&&d.getTransport(),f=d&&d.getDsn();if(!(d&&p&&f&&i.sampled))return;const m={type:"replay_event",replay_start_timestamp:u/1e3,timestamp:s/1e3,error_ids:c,trace_ids:l,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},g=await async function({client:e,scope:t,replayId:n,event:r}){const s={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit&&e.emit("preprocessEvent",r,s);const i=await wm(e.getOptions(),r,s,t,e,rg());if(!i)return null;i.platform=i.platform||"javascript";const o=e.getSdkMetadata&&e.getSdkMetadata(),{name:a,version:c}=o&&o.sdk||{};return i.sdk={...i.sdk,name:a||"sentry.javascript.unknown",version:c||"0.0.0"},i}({scope:h,client:d,replayId:t,event:m});if(!g)return d.recordDroppedEvent("event_processor","replay",m),void Jb("An event processor returned `null`, will not send event.");delete g.sdkProcessingMetadata;const y=function(e,t,n,r){return Jf(sm(e,rm(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(g,o,f,d.getOptions().tunnel);let _;try{_=await p.send(y)}catch($){const e=new Error(bv);try{e.cause=$}catch(b){}throw e}if(!_)return _;if("number"==typeof _.statusCode&&(_.statusCode<200||_.statusCode>=300))throw new Xw(_.statusCode);const v=om({},_);if(im(v,"replay"))throw new Qw(v);return _}class Xw extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class Qw extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function Zw(e,t={count:0,interval:5e3}){const{recordingData:n,options:r}=e;if(n.length)try{return await Yw(e),!0}catch(s){if(s instanceof Xw||s instanceof Qw)throw s;if(Rm("Replays",{_retryCount:t.count}),Kb&&r._experiments&&r._experiments.captureExceptions&&Em(s),t.count>=3){const e=new Error(`${bv} - max retries exceeded`);try{e.cause=s}catch(i){}throw e}return t.interval*=++t.count,new Promise((n,r)=>{setTimeout(async()=>{try{await Zw(e,t),n(!0)}catch(s){r(s)}},t.interval)})}}const eS="__THROTTLED";function tS(e,t,n){const r=new Map;let s=!1;return(...i)=>{const o=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;r.forEach((e,n)=>{n<t&&r.delete(n)})})(o),[...r.values()].reduce((e,t)=>e+t,0)>=t){const e=s;return s=!0,e?"__SKIPPED":eS}s=!1;const a=r.get(o)||0;return r.set(o,a+1),e(...i)}}class nS{constructor({options:e,recordingOptions:t}){nS.prototype.__init.call(this),nS.prototype.__init2.call(this),nS.prototype.__init3.call(this),nS.prototype.__init4.call(this),nS.prototype.__init5.call(this),nS.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){let r,s,i;const o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){void 0!==s&&clearTimeout(s),void 0!==i&&clearTimeout(i),s=i=void 0}function l(){return s&&clearTimeout(s),s=setTimeout(a,t),o&&void 0===i&&(i=setTimeout(a,o)),r}return l.cancel=c,l.flush=function(){return void 0!==s||void 0!==i?a():r},l}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=tS((e,t)=>function(e,t,n){return gw(e,t)?mw(e,t,n):Promise.resolve(null)}(this,e,t),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),s=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;s&&(this.clickDetector=new Pb(this,s))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options;t<=0&&n<=0||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",Yb(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Yb("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const e=pw({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Yb("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=pw({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=kb({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:Jw(this),onMutation:this._onMutationHandler,...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1;try{Jb("[Replay] Stopping Replay"+(t?` triggered by ${t}`:""),this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,iw(this)}catch(n){this._handleException(n)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Jb("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),Jb("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();Jb("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&uw(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e=`${vv.location.pathname}${vv.location.hash}${vv.location.search}`,t=`${vv.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===eS){const e=Lb({category:"replay.throttled"});this.addUpdate(()=>!fw(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}}))}return n}getCurrentRoute(){const e=this.lastTransaction||Nm().getTransaction(),t=(e&&$m(e).data||{})[mg];if(e&&t&&["route","custom"].includes(t))return $m(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=rw({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){Kb&&gp.error("[Replay]",e),Kb&&this._options._experiments&&this._options._experiments.captureExceptions&&Em(e)}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=pw({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!hw(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{vv.document.addEventListener("visibilitychange",this._handleVisibilityChange),vv.addEventListener("blur",this._handleWindowBlur),vv.addEventListener("focus",this._handleWindowFocus),vv.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Vw(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=Gb(this)}_removeListeners(){try{vv.document.removeEventListener("visibilitychange",this._handleVisibilityChange),vv.removeEventListener("blur",this._handleWindowBlur),vv.removeEventListener("focus",this._handleWindowFocus),vv.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{"visible"===vv.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=Lb({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=Lb({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{Bb(this,e)}}_doChangeToBackgroundTasks(e){if(!this.session)return;dw(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):Jb("[Replay] Document has become active, but session has expired")}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:D$.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){const e=(t=this.performanceEntries,t.map(Hb).filter(Boolean)).concat(this.replayPerformanceEntries);var t;return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Sw(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(e){try{return Promise.all(Sw(e,[Kw(vv.performance.memory)]))}catch(t){return[]}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await Zw({replayId:e,recordingData:s,segmentId:r,eventContext:n,session:this.session,options:this.getOptions(),timestamp:t})}catch(t){this._handleException(t),this.stop({reason:"sendReplay"});const e=Dm();e&&e.recordDroppedEvent("send_error","replay")}}else Kb&&gp.error("[Replay] No session or eventBuffer found to flush.")}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(Kb&&gp.error("[Replay] Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,s=n>this._options.maxReplayDuration+5e3;if(r||s)return Jb(`[Replay] Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),void(r&&this._debouncedFlush());const i=this.eventBuffer;if(i&&0===this.session.segmentId&&!i.hasCheckout&&Jb("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock)return this._flushLock=this._runFlush(),await this._flushLock,void(this._flushLock=void 0);try{await this._flushLock}catch(o){Kb&&gp.error(o)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&cw(this.session)}__init6(){this._onMutationHandler=e=>{const t=e.length,n=this._options.mutationLimit,r=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||r){const e=Lb({category:"replay.mutations",data:{count:t,limit:r}});this._createCustomBreadcrumb(e)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function rS(e,t,n,r){const s=[...e,..."string"==typeof r?r.split(","):[],...t];return void 0!==n&&("string"==typeof n&&s.push(`.${n}`),mp(()=>{})),s.join(",")}const sS='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',iS=["content-length","content-type","accept"];let oS=!1;class aS{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:s=!0,useCompression:i=!0,workerUrl:o,_experiments:a={},sessionSampleRate:c,errorSampleRate:l,maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:h=!0,mutationBreadcrumbLimit:p=750,mutationLimit:f=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:_=[],networkCaptureBodies:v=!0,networkRequestHeaders:$=[],networkResponseHeaders:b=[],mask:w=[],maskAttributes:S=["title","placeholder"],unmask:k=[],block:T=[],unblock:E=[],ignore:x=[],maskFn:C,beforeAddRecordingEvent:I,beforeErrorSampling:R,blockClass:O,blockSelector:A,maskInputOptions:P,maskTextClass:M,maskTextSelector:D,ignoreClass:N}={}){this.name=aS.id;const L=function({mask:e,unmask:t,block:n,unblock:r,ignore:s,blockClass:i,blockSelector:o,maskTextClass:a,maskTextSelector:c,ignoreClass:l}){const u={maskTextSelector:rS(e,[".sentry-mask","[data-sentry-mask]"],a,c),unmaskTextSelector:rS(t,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:rS(n,[".sentry-block","[data-sentry-block]",'base[href="/"]'],i,o),unblockSelector:rS(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:rS(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],l)};return i instanceof RegExp&&(u.blockClass=i),a instanceof RegExp&&(u.maskTextClass=a),u}({mask:w,unmask:k,block:T,unblock:E,ignore:x,blockClass:O,blockSelector:A,maskTextClass:M,maskTextSelector:D,ignoreClass:N});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{...P||{},password:!0},maskTextFn:C,maskInputFn:C,maskAttributeFn:(e,t,n)=>function({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return r?s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?i:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i:i}({maskAttributes:S,maskAllText:u,privacyOptions:L,key:e,value:t,el:n}),...L,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(t){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,Tv),stickySession:s,sessionSampleRate:c,errorSampleRate:l,useCompression:i,workerUrl:o,blockAllMedia:h,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:p,mutationLimit:f,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:_,networkCaptureBodies:v,networkRequestHeaders:cS($),networkResponseHeaders:cS(b),beforeAddRecordingEvent:I,beforeErrorSampling:R,_experiments:a},"number"==typeof c&&(this._initialOptions.sessionSampleRate=c),"number"==typeof l&&(this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${sS}`:sS),this._isInitialized&&Ef())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return oS}set _isInitialized(e){oS=e}setupOnce(){Ef()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const e=function(e){const t=Dm(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...Ip(e)};if(!n)return mp(()=>{}),r;null==e.sessionSampleRate&&null==e.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&mp(()=>{});"number"==typeof n.replaysSessionSampleRate&&(r.sessionSampleRate=n.replaysSessionSampleRate);"number"==typeof n.replaysOnErrorSampleRate&&(r.errorSampleRate=n.replaysOnErrorSampleRate);return r}(this._initialOptions);this._replay=new nS({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const e=Dm().getIntegrationByName("ReplayCanvas");if(!e)return;this._replay._canvas=e.getOptions()}catch(e){}}}function cS(e){return[...iS,...e.map(e=>e.toLowerCase())]}
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */aS.__initStatic();const lS=globalThis,uS=lS.ShadowRoot&&(void 0===lS.ShadyCSS||lS.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,dS=Symbol(),hS=new WeakMap;class pS{constructor(e,t,n){if(this._$cssResult$=!0,n!==dS)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this._strings=t}get styleSheet(){let e=this._styleSheet;const t=this._strings;if(uS&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=hS.get(t)),void 0===e&&((this._styleSheet=e=new CSSStyleSheet).replaceSync(this.cssText),n&&hS.set(t,e))}return e}toString(){return this.cssText}}const fS=(e,...t)=>{const n=1===e.length?e[0]:t.reduce((t,n,r)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.`)})(n)+e[r+1],e[0]);return new pS(n,e,dS)},mS=e=>{let t="";for(const r of e.cssRules)t+=r.cssText;return new pS("string"==typeof(n=t)?n:String(n),void 0,dS);var n},gS=uS?e=>e:e=>e instanceof CSSStyleSheet?mS(e):e,{is:yS,defineProperty:_S,getOwnPropertyDescriptor:vS,getOwnPropertyNames:$S,getOwnPropertySymbols:bS,getPrototypeOf:wS}=Object,SS=globalThis;let kS;const TS=SS.trustedTypes,ES=TS?TS.emptyScript:"",xS=SS.reactiveElementPolyfillSupportDevMode;SS.litIssuedWarnings??(SS.litIssuedWarnings=new Set),kS=(e,t)=>{t+=` See https://lit.dev/msg/${e} for more information.`,SS.litIssuedWarnings.has(t)||SS.litIssuedWarnings.has(e)||SS.litIssuedWarnings.add(t)},queueMicrotask(()=>{kS("dev-mode","Lit is in dev mode. Not recommended for production!"),SS.ShadyDOM?.inUse&&void 0===xS&&kS("polyfill-support-missing","Shadow DOM is being polyfilled via `ShadyDOM` but the `polyfill-support` module has not been loaded.")});const CS=(e,t)=>e,IS={toAttribute(e,t){switch(t){case Boolean:e=e?ES:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(r){n=null}}return n}},RS=(e,t)=>!yS(e,t),OS={attribute:!0,type:String,converter:IS,reflect:!1,useDefault:!1,hasChanged:RS};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),SS.litPropertyMetadata??(SS.litPropertyMetadata=new WeakMap);class AS extends HTMLElement{static addInitializer(e){this.__prepare(),(this._initializers??(this._initializers=[])).push(e)}static get observedAttributes(){return this.finalize(),this.__attributeToPropertyMap&&[...this.__attributeToPropertyMap.keys()]}static createProperty(e,t=OS){if(t.state&&(t.attribute=!1),this.__prepare(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol.for(`${String(e)} (@property() cache)`),r=this.getPropertyDescriptor(e,n,t);void 0!==r&&_S(this.prototype,e,r)}}static getPropertyDescriptor(e,t,n){const{get:r,set:s}=vS(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};if(null==r){if("value"in(vS(this.prototype,e)??{}))throw new Error(`Field ${JSON.stringify(String(e))} on ${this.name} was declared as a reactive property but it's actually declared as a value on the prototype. Usually this is due to using @property or @state on a method.`);kS("reactive-property-without-getter",`Field ${JSON.stringify(String(e))} on ${this.name} was declared as a reactive property but it does not have a getter. This will be an error in a future version of Lit.`)}return{get:r,set(t){const i=r?.call(this);s?.call(this,t),this.requestUpdate(e,i,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??OS}static __prepare(){if(this.hasOwnProperty(CS("elementProperties")))return;const e=wS(this);e.finalize(),void 0!==e._initializers&&(this._initializers=[...e._initializers]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(CS("finalized")))return;if(this.finalized=!0,this.__prepare(),this.hasOwnProperty(CS("properties"))){const e=this.properties,t=[...$S(e),...bS(e)];for(const n of t)this.createProperty(n,e[n])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,n]of t)this.elementProperties.set(e,n)}this.__attributeToPropertyMap=new Map;for(const[t,n]of this.elementProperties){const e=this.__attributeNameForProperty(t,n);void 0!==e&&this.__attributeToPropertyMap.set(e,t)}this.elementStyles=this.finalizeStyles(this.styles),this.hasOwnProperty("createProperty")&&kS("no-override-create-property","Overriding ReactiveElement.createProperty() is deprecated. The override will not be called with standard decorators"),this.hasOwnProperty("getPropertyDescriptor")&&kS("no-override-get-property-descriptor","Overriding ReactiveElement.getPropertyDescriptor() is deprecated. The override will not be called with standard decorators")}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(gS(e))}else void 0!==e&&t.push(gS(e));return t}static __attributeNameForProperty(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this.__instanceProperties=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this.__reflectingProperty=null,this.__initialize()}__initialize(){this.__updatePromise=new Promise(e=>this.enableUpdating=e),this._$changedProperties=new Map,this.__saveInstanceProperties(),this.requestUpdate(),this.constructor._initializers?.forEach(e=>e(this))}addController(e){(this.__controllers??(this.__controllers=new Set)).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this.__controllers?.delete(e)}__saveInstanceProperties(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this.__instanceProperties=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{if(uS)e.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet);else for(const n of t){const t=document.createElement("style"),r=lS.litNonce;void 0!==r&&t.setAttribute("nonce",r),t.textContent=n.cssText,e.appendChild(t)}})(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),this.__controllers?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this.__controllers?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,t,n){this._$attributeToProperty(e,n)}__propertyToAttribute(e,t){const n=this.constructor.elementProperties.get(e),r=this.constructor.__attributeNameForProperty(e,n);if(void 0!==r&&!0===n.reflect){const s=(void 0!==n.converter?.toAttribute?n.converter:IS).toAttribute(t,n.type);this.constructor.enabledWarnings.includes("migration")&&void 0===s&&kS("undefined-attribute-value",`The attribute value for the ${e} property is undefined on element ${this.localName}. The attribute will be removed, but in the previous version of \`ReactiveElement\`, the attribute would not have changed.`),this.__reflectingProperty=e,null==s?this.removeAttribute(r):this.setAttribute(r,s),this.__reflectingProperty=null}}_$attributeToProperty(e,t){const n=this.constructor,r=n.__attributeToPropertyMap.get(e);if(void 0!==r&&this.__reflectingProperty!==r){const e=n.getPropertyOptions(r),s="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:IS;this.__reflectingProperty=r,this[r]=s.fromAttribute(t,e.type)??this.__defaultValues?.get(r)??null,this.__reflectingProperty=null}}requestUpdate(e,t,n){if(void 0!==e){e instanceof Event&&kS("","The requestUpdate() method was called with an Event as the property name. This is probably a mistake caused by binding this.requestUpdate as an event listener. Instead bind a function that will call it with no arguments: () => this.requestUpdate()");const r=this.constructor,s=this[e];n??(n=r.getPropertyOptions(e));if(!((n.hasChanged??RS)(s,t)||n.useDefault&&n.reflect&&s===this.__defaultValues?.get(e)&&!this.hasAttribute(r.__attributeNameForProperty(e,n))))return;this._$changeProperty(e,t,n)}!1===this.isUpdatePending&&(this.__updatePromise=this.__enqueueUpdate())}_$changeProperty(e,t,{useDefault:n,reflect:r,wrapped:s},i){n&&!(this.__defaultValues??(this.__defaultValues=new Map)).has(e)&&(this.__defaultValues.set(e,i??t??this[e]),!0!==s||void 0!==i)||(this._$changedProperties.has(e)||(this.hasUpdated||n||(t=void 0),this._$changedProperties.set(e,t)),!0===r&&this.__reflectingProperty!==e&&(this.__reflectingProperties??(this.__reflectingProperties=new Set)).add(e))}async __enqueueUpdate(){this.isUpdatePending=!0;try{await this.__updatePromise}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){const e=this.performUpdate();return this.constructor.enabledWarnings.includes("async-perform-update")&&"function"==typeof e?.then&&kS("async-perform-update",`Element ${this.localName} returned a Promise from performUpdate(). This behavior is deprecated and will be removed in a future version of ReactiveElement.`),e}performUpdate(){if(!this.isUpdatePending)return;var e;if(e={kind:"update"},SS.emitLitDebugLogEvents&&SS.dispatchEvent(new CustomEvent("lit-debug",{detail:e})),!this.hasUpdated){this.renderRoot??(this.renderRoot=this.createRenderRoot());{const e=[...this.constructor.elementProperties.keys()].filter(e=>this.hasOwnProperty(e)&&e in wS(this));if(e.length)throw new Error(`The following properties on element ${this.localName} will not trigger updates as expected because they are set using class fields: ${e.join(", ")}. Native class fields and some compiled output will overwrite accessors used for detecting changes. See https://lit.dev/msg/class-field-shadowing for more information.`)}if(this.__instanceProperties){for(const[e,t]of this.__instanceProperties)this[e]=t;this.__instanceProperties=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,n]of e){const{wrapped:e}=n,r=this[t];!0!==e||this._$changedProperties.has(t)||void 0===r||this._$changeProperty(t,void 0,n,r)}}let t=!1;const n=this._$changedProperties;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),this.__controllers?.forEach(e=>e.hostUpdate?.()),this.update(n)):this.__markUpdated()}catch(r){throw t=!1,this.__markUpdated(),r}t&&this._$didUpdate(n)}willUpdate(e){}_$didUpdate(e){this.__controllers?.forEach(e=>e.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e),this.isUpdatePending&&this.constructor.enabledWarnings.includes("change-in-update")&&kS("change-in-update",`Element ${this.localName} scheduled an update (generally because a property was set) after an update completed, causing a new update to be scheduled. This is inefficient and should be avoided unless the next update can only be scheduled as a side effect of the previous update.`)}__markUpdated(){this._$changedProperties=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this.__updatePromise}shouldUpdate(e){return!0}update(e){this.__reflectingProperties&&(this.__reflectingProperties=this.__reflectingProperties.forEach(e=>this.__propertyToAttribute(e,this[e]))),this.__markUpdated()}updated(e){}firstUpdated(e){}}AS.elementStyles=[],AS.shadowRootOptions={mode:"open"},AS[CS("elementProperties")]=new Map,AS[CS("finalized")]=new Map,xS?.({ReactiveElement:AS});{AS.enabledWarnings=["change-in-update","async-perform-update"];const e=function(e){e.hasOwnProperty(CS("enabledWarnings"))||(e.enabledWarnings=e.enabledWarnings.slice())};AS.enableWarning=function(t){e(this),this.enabledWarnings.includes(t)||this.enabledWarnings.push(t)},AS.disableWarning=function(t){e(this);const n=this.enabledWarnings.indexOf(t);n>=0&&this.enabledWarnings.splice(n,1)}}(SS.reactiveElementVersions??(SS.reactiveElementVersions=[])).push("2.1.0"),SS.reactiveElementVersions.length>1&&queueMicrotask(()=>{kS("multiple-versions","Multiple versions of Lit loaded. Loading multiple versions is not recommended.")})
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;const PS=globalThis,MS=e=>{PS.emitLitDebugLogEvents&&PS.dispatchEvent(new CustomEvent("lit-debug",{detail:e}))};let DS,NS=0;PS.litIssuedWarnings??(PS.litIssuedWarnings=new Set),DS=(e,t)=>{t+=e?` See https://lit.dev/msg/${e} for more information.`:"",PS.litIssuedWarnings.has(t)||PS.litIssuedWarnings.has(e)||PS.litIssuedWarnings.add(t)},queueMicrotask(()=>{DS("dev-mode","Lit is in dev mode. Not recommended for production!")});const LS=PS.ShadyDOM?.inUse&&!0===PS.ShadyDOM?.noPatch?PS.ShadyDOM.wrap:e=>e,jS=PS.trustedTypes,US=jS?jS.createPolicy("lit-html",{createHTML:e=>e}):void 0,qS=e=>e,FS=(e,t,n)=>qS,zS=e=>{if(pk!==FS)throw new Error("Attempted to overwrite existing lit-html security policy. setSanitizeDOMValueFactory should be called at most once.");pk=e},BS=()=>{pk=FS},WS=(e,t,n)=>pk(e,t,n),HS="$lit$",VS=`lit$${Math.random().toFixed(9).slice(2)}$`,GS="?"+VS,KS=`<${GS}>`,JS=document,YS=()=>JS.createComment(""),XS=e=>null===e||"object"!=typeof e&&"function"!=typeof e,QS=Array.isArray,ZS="[ \t\n\f\r]",ek=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,tk=/-->/g,nk=/>/g,rk=new RegExp(`>|${ZS}(?:([^\\s"'>=/]+)(${ZS}*=${ZS}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),sk=/'/g,ik=/"/g,ok=/^(?:script|style|textarea|title)$/i,ak=(ck=1,(e,...t)=>(e.some(e=>void 0===e),t.some(e=>e?._$litStatic$)&&DS("","Static values 'literal' or 'unsafeStatic' cannot be used as values to non-static templates.\nPlease use the static 'html' tag function. See https://lit.dev/docs/templates/expressions/#static-expressions"),{_$litType$:ck,strings:e,values:t}));var ck;const lk=Symbol.for("lit-noChange"),uk=Symbol.for("lit-nothing"),dk=new WeakMap,hk=JS.createTreeWalker(JS,129);let pk=FS;function fk(e,t){if(!QS(e)||!e.hasOwnProperty("raw")){let e="invalid template strings array";throw e="\n          Internal Error: expected template strings to be an array\n          with a 'raw' field. Faking a template strings array by\n          calling html or svg like an ordinary function is effectively\n          the same as calling unsafeHtml and can lead to major security\n          issues, e.g. opening your code up to XSS attacks.\n          If you're using the html or svg tagged template functions normally\n          and still seeing this error, please file a bug at\n          https://github.com/lit/lit/issues/new?template=bug_report.md\n          and include information about your build tooling, if any.\n        ".trim().replace(/\n */g,"\n"),new Error(e)}return void 0!==US?US.createHTML(t):t}class mk{constructor({strings:e,_$litType$:t},n){let r;this.parts=[];let s=0,i=0;const o=e.length-1,a=this.parts,[c,l]=((e,t)=>{const n=e.length-1,r=[];let s,i=2===t?"<svg>":3===t?"<math>":"",o=ek;for(let a=0;a<n;a++){const t=e[a];let n,c,l=-1,u=0;for(;u<t.length&&(o.lastIndex=u,c=o.exec(t),null!==c);)if(u=o.lastIndex,o===ek){if("!--"===c[1])o=tk;else if(void 0!==c[1])o=nk;else if(void 0!==c[2])ok.test(c[2])&&(s=new RegExp(`</${c[2]}`,"g")),o=rk;else if(void 0!==c[3])throw new Error("Bindings in tag names are not supported. Please use static templates instead. See https://lit.dev/docs/templates/expressions/#static-expressions")}else o===rk?">"===c[0]?(o=s??ek,l=-1):void 0===c[1]?l=-2:(l=o.lastIndex-c[2].length,n=c[1],o=void 0===c[3]?rk:'"'===c[3]?ik:sk):o===ik||o===sk?o=rk:o===tk||o===nk?o=ek:(o=rk,s=void 0);const d=o===rk&&e[a+1].startsWith("/>")?" ":"";i+=o===ek?t+KS:l>=0?(r.push(n),t.slice(0,l)+HS+t.slice(l)+VS+d):t+VS+(-2===l?a:d)}return[fk(e,i+(e[n]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),r]})(e,t);if(this.el=mk.createElement(c,n),hk.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(r=hk.nextNode())&&a.length<o;){if(1===r.nodeType){{const e=r.localName;if(/^(?:textarea|template)$/i.test(e)&&r.innerHTML.includes(VS)){const t=`Expressions are not supported inside \`${e}\` elements. See https://lit.dev/msg/expression-in-${e} for more information.`;if("template"===e)throw new Error(t);DS("",t)}}if(r.hasAttributes())for(const e of r.getAttributeNames())if(e.endsWith(HS)){const t=l[i++],n=r.getAttribute(e).split(VS),o=/([.?@])?(.*)/.exec(t);a.push({type:1,index:s,name:o[2],strings:n,ctor:"."===o[1]?$k:"?"===o[1]?bk:"@"===o[1]?wk:vk}),r.removeAttribute(e)}else e.startsWith(VS)&&(a.push({type:6,index:s}),r.removeAttribute(e));if(ok.test(r.tagName)){const e=r.textContent.split(VS),t=e.length-1;if(t>0){r.textContent=jS?jS.emptyScript:"";for(let n=0;n<t;n++)r.append(e[n],YS()),hk.nextNode(),a.push({type:2,index:++s});r.append(e[t],YS())}}}else if(8===r.nodeType){if(r.data===GS)a.push({type:2,index:s});else{let e=-1;for(;-1!==(e=r.data.indexOf(VS,e+1));)a.push({type:7,index:s}),e+=VS.length-1}}s++}if(l.length!==i)throw new Error('Detected duplicate attribute bindings. This occurs if your template has duplicate attributes on an element tag. For example "<input ?disabled=${true} ?disabled=${false}>" contains a duplicate "disabled" attribute. The error was detected in the following template: \n`'+e.join("${...}")+"`");MS&&MS({kind:"template prep",template:this,clonableTemplate:this.el,parts:this.parts,strings:e})}static createElement(e,t){const n=JS.createElement("template");return n.innerHTML=e,n}}function gk(e,t,n=e,r){if(t===lk)return t;let s=void 0!==r?n.__directives?.[r]:n.__directive;const i=XS(t)?void 0:t._$litDirective$;return s?.constructor!==i&&(s?._$notifyDirectiveConnectionChanged?.(!1),void 0===i?s=void 0:(s=new i(e),s._$initialize(e,n,r)),void 0!==r?(n.__directives??(n.__directives=[]))[r]=s:n.__directive=s),void 0!==s&&(t=gk(e,s._$resolve(e,t.values),s,r)),t}class yk{constructor(e,t){this._$parts=[],this._$disconnectableChildren=void 0,this._$template=e,this._$parent=t}get parentNode(){return this._$parent.parentNode}get _$isConnected(){return this._$parent._$isConnected}_clone(e){const{el:{content:t},parts:n}=this._$template,r=(e?.creationScope??JS).importNode(t,!0);hk.currentNode=r;let s=hk.nextNode(),i=0,o=0,a=n[0];for(;void 0!==a;){if(i===a.index){let t;2===a.type?t=new _k(s,s.nextSibling,this,e):1===a.type?t=new a.ctor(s,a.name,a.strings,this,e):6===a.type&&(t=new Sk(s,this,e)),this._$parts.push(t),a=n[++o]}i!==a?.index&&(s=hk.nextNode(),i++)}return hk.currentNode=JS,r}_update(e){let t=0;for(const n of this._$parts)void 0!==n&&(MS&&MS({kind:"set part",part:n,value:e[t],valueIndex:t,values:e,templateInstance:this}),void 0!==n.strings?(n._$setValue(e,n,t),t+=n.strings.length-2):n._$setValue(e[t])),t++}}class _k{get _$isConnected(){return this._$parent?._$isConnected??this.__isConnected}constructor(e,t,n,r){this.type=2,this._$committedValue=uk,this._$disconnectableChildren=void 0,this._$startNode=e,this._$endNode=t,this._$parent=n,this.options=r,this.__isConnected=r?.isConnected??!0,this._textSanitizer=void 0}get parentNode(){let e=LS(this._$startNode).parentNode;const t=this._$parent;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$startNode}get endNode(){return this._$endNode}_$setValue(e,t=this){if(null===this.parentNode)throw new Error("This `ChildPart` has no `parentNode` and therefore cannot accept a value. This likely means the element containing the part was manipulated in an unsupported way outside of Lit's control such that the part's marker nodes were ejected from DOM. For example, setting the element's `innerHTML` or `textContent` can do this.");if(e=gk(this,e,t),XS(e))e===uk||null==e||""===e?(this._$committedValue!==uk&&(MS&&MS({kind:"commit nothing to child",start:this._$startNode,end:this._$endNode,parent:this._$parent,options:this.options}),this._$clear()),this._$committedValue=uk):e!==this._$committedValue&&e!==lk&&this._commitText(e);else if(void 0!==e._$litType$)this._commitTemplateResult(e);else if(void 0!==e.nodeType){if(this.options?.host===e)return void this._commitText("[probable mistake: rendered a template's host in itself (commonly caused by writing ${this} in a template]");this._commitNode(e)}else(e=>QS(e)||"function"==typeof e?.[Symbol.iterator])(e)?this._commitIterable(e):this._commitText(e)}_insert(e){return LS(LS(this._$startNode).parentNode).insertBefore(e,this._$endNode)}_commitNode(e){if(this._$committedValue!==e){if(this._$clear(),pk!==FS){const e=this._$startNode.parentNode?.nodeName;if("STYLE"===e||"SCRIPT"===e){let t="Forbidden";throw t="STYLE"===e?"Lit does not support binding inside style nodes. This is a security risk, as style injection attacks can exfiltrate data and spoof UIs. Consider instead using css`...` literals to compose styles, and do dynamic styling with css custom properties, ::parts, <slot>s, and by mutating the DOM rather than stylesheets.":"Lit does not support binding inside script nodes. This is a security risk, as it could allow arbitrary code execution.",new Error(t)}}MS&&MS({kind:"commit node",start:this._$startNode,parent:this._$parent,value:e,options:this.options}),this._$committedValue=this._insert(e)}}_commitText(e){if(this._$committedValue!==uk&&XS(this._$committedValue)){const t=LS(this._$startNode).nextSibling;void 0===this._textSanitizer&&(this._textSanitizer=WS(t,"data","property")),e=this._textSanitizer(e),MS&&MS({kind:"commit text",node:t,value:e,options:this.options}),t.data=e}else{const t=JS.createTextNode("");this._commitNode(t),void 0===this._textSanitizer&&(this._textSanitizer=WS(t,"data","property")),e=this._textSanitizer(e),MS&&MS({kind:"commit text",node:t,value:e,options:this.options}),t.data=e}this._$committedValue=e}_commitTemplateResult(e){const{values:t,_$litType$:n}=e,r="number"==typeof n?this._$getTemplate(e):(void 0===n.el&&(n.el=mk.createElement(fk(n.h,n.h[0]),this.options)),n);if(this._$committedValue?._$template===r)MS&&MS({kind:"template updating",template:r,instance:this._$committedValue,parts:this._$committedValue._$parts,options:this.options,values:t}),this._$committedValue._update(t);else{const e=new yk(r,this),n=e._clone(this.options);MS&&MS({kind:"template instantiated",template:r,instance:e,parts:e._$parts,options:this.options,fragment:n,values:t}),e._update(t),MS&&MS({kind:"template instantiated and updated",template:r,instance:e,parts:e._$parts,options:this.options,fragment:n,values:t}),this._commitNode(n),this._$committedValue=e}}_$getTemplate(e){let t=dk.get(e.strings);return void 0===t&&dk.set(e.strings,t=new mk(e)),t}_commitIterable(e){QS(this._$committedValue)||(this._$committedValue=[],this._$clear());const t=this._$committedValue;let n,r=0;for(const s of e)r===t.length?t.push(n=new _k(this._insert(YS()),this._insert(YS()),this,this.options)):n=t[r],n._$setValue(s),r++;r<t.length&&(this._$clear(n&&LS(n._$endNode).nextSibling,r),t.length=r)}_$clear(e=LS(this._$startNode).nextSibling,t){for(this._$notifyConnectionChanged?.(!1,!0,t);e&&e!==this._$endNode;){const t=LS(e).nextSibling;LS(e).remove(),e=t}}setConnected(e){if(void 0!==this._$parent)throw new Error("part.setConnected() may only be called on a RootPart returned from render().");this.__isConnected=e,this._$notifyConnectionChanged?.(e)}}class vk{get tagName(){return this.element.tagName}get _$isConnected(){return this._$parent._$isConnected}constructor(e,t,n,r,s){this.type=1,this._$committedValue=uk,this._$disconnectableChildren=void 0,this.element=e,this.name=t,this._$parent=r,this.options=s,n.length>2||""!==n[0]||""!==n[1]?(this._$committedValue=new Array(n.length-1).fill(new String),this.strings=n):this._$committedValue=uk,this._sanitizer=void 0}_$setValue(e,t=this,n,r){const s=this.strings;let i=!1;if(void 0===s)e=gk(this,e,t,0),i=!XS(e)||e!==this._$committedValue&&e!==lk,i&&(this._$committedValue=e);else{const r=e;let o,a;for(e=s[0],o=0;o<s.length-1;o++)a=gk(this,r[n+o],t,o),a===lk&&(a=this._$committedValue[o]),i||(i=!XS(a)||a!==this._$committedValue[o]),a===uk?e=uk:e!==uk&&(e+=(a??"")+s[o+1]),this._$committedValue[o]=a}i&&!r&&this._commitValue(e)}_commitValue(e){e===uk?LS(this.element).removeAttribute(this.name):(void 0===this._sanitizer&&(this._sanitizer=pk(this.element,this.name,"attribute")),e=this._sanitizer(e??""),MS&&MS({kind:"commit attribute",element:this.element,name:this.name,value:e,options:this.options}),LS(this.element).setAttribute(this.name,e??""))}}class $k extends vk{constructor(){super(...arguments),this.type=3}_commitValue(e){void 0===this._sanitizer&&(this._sanitizer=pk(this.element,this.name,"property")),e=this._sanitizer(e),MS&&MS({kind:"commit property",element:this.element,name:this.name,value:e,options:this.options}),this.element[this.name]=e===uk?void 0:e}}class bk extends vk{constructor(){super(...arguments),this.type=4}_commitValue(e){MS&&MS({kind:"commit boolean attribute",element:this.element,name:this.name,value:!(!e||e===uk),options:this.options}),LS(this.element).toggleAttribute(this.name,!!e&&e!==uk)}}class wk extends vk{constructor(e,t,n,r,s){if(super(e,t,n,r,s),this.type=5,void 0!==this.strings)throw new Error(`A \`<${e.localName}>\` has a \`@${t}=...\` listener with invalid content. Event listeners in templates must have exactly one expression and no surrounding text.`)}_$setValue(e,t=this){if((e=gk(this,e,t,0)??uk)===lk)return;const n=this._$committedValue,r=e===uk&&n!==uk||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==uk&&(n===uk||r);MS&&MS({kind:"commit event listener",element:this.element,name:this.name,value:e,options:this.options,removeListener:r,addListener:s,oldListener:n}),r&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$committedValue=e}handleEvent(e){"function"==typeof this._$committedValue?this._$committedValue.call(this.options?.host??this.element,e):this._$committedValue.handleEvent(e)}}class Sk{constructor(e,t,n){this.element=e,this.type=6,this._$disconnectableChildren=void 0,this._$parent=t,this.options=n}get _$isConnected(){return this._$parent._$isConnected}_$setValue(e){MS&&MS({kind:"commit to element binding",element:this.element,value:e,options:this.options}),gk(this,e)}}const kk=PS.litHtmlPolyfillSupportDevMode;kk?.(mk,_k),(PS.litHtmlVersions??(PS.litHtmlVersions=[])).push("3.3.0"),PS.litHtmlVersions.length>1&&queueMicrotask(()=>{DS("multiple-versions","Multiple versions of Lit loaded. Loading multiple versions is not recommended.")});const Tk=(e,t,n)=>{if(null==t)throw new TypeError(`The container to render into may not be ${t}`);const r=NS++,s=n?.renderBefore??t;let i=s._$litPart$;if(MS&&MS({kind:"begin render",id:r,value:e,container:t,options:n,part:i}),void 0===i){const e=n?.renderBefore??null;s._$litPart$=i=new _k(t.insertBefore(YS(),e),e,void 0,n??{})}return i._$setValue(e),MS&&MS({kind:"end render",id:r,value:e,container:t,options:n,part:i}),i};Tk.setSanitizer=zS,Tk.createSanitizer=WS,Tk._testOnlyClearSanitizerFactoryDoNotCallOrElse=BS;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Ek=globalThis;let xk;Ek.litIssuedWarnings??(Ek.litIssuedWarnings=new Set),xk=(e,t)=>{t+=` See https://lit.dev/msg/${e} for more information.`,Ek.litIssuedWarnings.has(t)||Ek.litIssuedWarnings.has(e)||Ek.litIssuedWarnings.add(t)};class Ck extends AS{constructor(){super(...arguments),this.renderOptions={host:this},this.__childPart=void 0}createRenderRoot(){var e;const t=super.createRenderRoot();return(e=this.renderOptions).renderBefore??(e.renderBefore=t.firstChild),t}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this.__childPart=Tk(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this.__childPart?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this.__childPart?.setConnected(!1)}render(){return lk}}var Ik;Ck._$litElement$=!0,Ck[(Ik="finalized",Ik)]=!0,Ek.litElementHydrateSupport?.({LitElement:Ck});const Rk=Ek.litElementPolyfillSupportDevMode;Rk?.({LitElement:Ck}),(Ek.litElementVersions??(Ek.litElementVersions=[])).push("4.2.0"),Ek.litElementVersions.length>1&&queueMicrotask(()=>{xk("multiple-versions","Multiple versions of Lit loaded. Loading multiple versions is not recommended.")})
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;const Ok=e=>(t,n)=>{void 0!==n?n.addInitializer(()=>{customElements.define(e,t)}):customElements.define(e,t)};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let Ak;globalThis.litIssuedWarnings??(globalThis.litIssuedWarnings=new Set),Ak=(e,t)=>{t+=` See https://lit.dev/msg/${e} for more information.`,globalThis.litIssuedWarnings.has(t)||globalThis.litIssuedWarnings.has(e)||globalThis.litIssuedWarnings.add(t)};const Pk={attribute:!0,type:String,converter:IS,reflect:!1,hasChanged:RS},Mk=(e=Pk,t,n)=>{const{kind:r,metadata:s}=n;null==s&&Ak("missing-class-metadata",`The class ${t} is missing decorator metadata. This could mean that you're using a compiler that supports decorators but doesn't support decorator metadata, such as TypeScript 5.1. Please update your compiler.`);let i=globalThis.litPropertyMetadata.get(s);if(void 0===i&&globalThis.litPropertyMetadata.set(s,i=new Map),"setter"===r&&((e=Object.create(e)).wrapped=!0),i.set(n.name,e),"accessor"===r){const{name:r}=n;return{set(n){const s=t.get.call(this);t.set.call(this,n),this.requestUpdate(r,s,e)},init(t){return void 0!==t&&this._$changeProperty(r,void 0,e,t),t}}}if("setter"===r){const{name:r}=n;return function(n){const s=this[r];t.call(this,n),this.requestUpdate(r,s,e)}}throw new Error(`Unsupported decorator location: ${r}`)};function Dk(e){return(t,n)=>"object"==typeof n?Mk(e,t,n):((e,t,n)=>{const r=t.hasOwnProperty(n);return t.constructor.createProperty(n,e),r?Object.getOwnPropertyDescriptor(t,n):void 0})(e,t,n)}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Nk(e){return Dk({...e,state:!0,attribute:!1})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */globalThis.litIssuedWarnings??(globalThis.litIssuedWarnings=new Set);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Lk=0,jk=1,Uk=2,qk=3,Fk=Symbol();class zk{get taskComplete(){return this._taskComplete||(this._status===jk?this._taskComplete=new Promise((e,t)=>{this._resolveTaskComplete=e,this._rejectTaskComplete=t}):this._status===qk?this._taskComplete=Promise.reject(this._error):this._taskComplete=Promise.resolve(this._value)),this._taskComplete}constructor(e,t,n){this._callId=0,this._status=Lk,(this._host=e).addController(this);const r="object"==typeof t?t:{task:t,args:n};this._task=r.task,this._argsFn=r.args,this._argsEqual=r.argsEqual??Bk,this._onComplete=r.onComplete,this._onError=r.onError,this.autoRun=r.autoRun??!0,"initialValue"in r&&(this._value=r.initialValue,this._status=Uk,this._previousArgs=this._getArgs?.())}hostUpdate(){!0===this.autoRun&&this._performTask()}hostUpdated(){"afterUpdate"===this.autoRun&&this._performTask()}_getArgs(){if(void 0===this._argsFn)return;const e=this._argsFn();if(!Array.isArray(e))throw new Error("The args function must return an array");return e}async _performTask(){const e=this._getArgs(),t=this._previousArgs;this._previousArgs=e,e===t||void 0===e||void 0!==t&&this._argsEqual(t,e)||await this.run(e)}async run(e){let t,n;e??(e=this._getArgs()),this._previousArgs=e,this._status===jk?this._abortController?.abort():(this._taskComplete=void 0,this._resolveTaskComplete=void 0,this._rejectTaskComplete=void 0),this._status=jk,"afterUpdate"===this.autoRun?queueMicrotask(()=>this._host.requestUpdate()):this._host.requestUpdate();const r=++this._callId;this._abortController=new AbortController;let s=!1;try{t=await this._task(e,{signal:this._abortController.signal})}catch(i){s=!0,n=i}if(this._callId===r){if(t===Fk)this._status=Lk;else{if(!1===s){try{this._onComplete?.(t)}catch{}this._status=Uk,this._resolveTaskComplete?.(t)}else{try{this._onError?.(n)}catch{}this._status=qk,this._rejectTaskComplete?.(n)}this._value=t,this._error=n}this._host.requestUpdate()}}abort(e){this._status===jk&&this._abortController?.abort(e)}get value(){return this._value}get error(){return this._error}get status(){return this._status}render(e){switch(this._status){case Lk:return e.initial?.();case jk:return e.pending?.();case Uk:return e.complete?.(this.value);case qk:return e.error?.(this.error);default:throw new Error(`Unexpected status: ${this._status}`)}}}const Bk=(e,t)=>e===t||e.length===t.length&&e.every((e,n)=>!RS(e,t[n]));export{Om as A,f_ as B,_o as C,oa as D,or as E,wt as F,aa as G,Bs as H,ir as I,Dh as J,Ks as K,ia as L,fn as M,Od as N,Jo as O,Ck as P,sa as Q,aS as R,Xs as S,ak as T,fS as U,Dk as V,Ok as W,Nk as X,zk as Y,gt as _,Gt as _hW,Ee as a,ft as b,no as c,pt as d,Yn as e,cn as f,S as g,_ as h,pn as i,yt as j,Go as k,T as l,Ko as m,mt as n,yv as o,$ as p,zs as q,Em as r,xm as s,Fa as s_2JDkTrnTacI,Ma as s_3A9q00AdLIk,va as s_71lGmHBg3VI,Ja as s_7wE2ujpW00Q,Wa as s_FX0CToya0Mw,ba as s_G5JRozgukmA,za as s_GjYBd0GVpcg,Aa as s_IW497M0sx4Q,ga as s_K0On9JINAzI,da as s_OMVY0yegPg8,la as s_SqKRCSVAvgI,Ra as s_TAuHDP8cAnk,Ya as s_YuBd54ykSfc,La as s_b3REbKXlmZQ,Na as s_bngvFl8JcZA,Ka as s_kd7Nq0HZIt0,ya as s_lnepK54CC0s,Ua as s_od2obl07f54,fa as s_pOY4MX0HEyo,ha as s_qucHDhplgik,Ca as s_tCo8NSe3Gng,Va as s_tFSUa4iZX9M,Am as t,qt as u,Rm as v,Im as w,Pm as x,Mm as y,_v as z};
