import{u as l,f as e,i as n,q as t,b as s,d as u,o as a,_hW as r}from"./q-rRPm90by.js";import{_ as i}from"./q-Ccds0Gka.js";import{l as o}from"./q-BUprbeDF.js";import"./q-CLlqVEZn.js";const d=e=>{const[n]=l();return n.value=e.target.value},c=Object.freeze(Object.defineProperty({__proto__:null,s_YCN88HLlJwA:d},Symbol.toStringTag,{value:"Module"})),g=()=>{const[e,n]=l();return e(n.value)},m=Object.freeze(Object.defineProperty({__proto__:null,s_08kI8AH8QFg:g},Symbol.toStringTag,{value:"Module"})),v=async({track:e})=>{const[n,t]=l();e(()=>t.value),await n(t.value)},x=Object.freeze(Object.defineProperty({__proto__:null,_hW:r,s_H1t3zAJGOHQ:v},Symbol.toStringTag,{value:"Module"})),p=()=>{const l=e("7d"),r=e(!0),o=e(null),d=e(""),g=e({pageViews:{value:0,change:"0%"},uniqueVisitors:{value:0,change:"0%"},bounceRate:{value:"0%",change:"0%"},avgSessionTime:{value:"0m 0s",change:"0%"}}),v=e({builderContent:{loadTime:"0s",rating:"Measuring..."},mediaFiles:{loadTime:"0s",rating:"Measuring..."},cacheHitRate:{value:"0%",rating:"Measuring..."},apiResponseTime:{value:"0ms",rating:"Measuring..."}}),p=e([]),b=t(()=>i(()=>Promise.resolve().then(()=>y),void 0),"s_YAwb1prRrtQ",[g,p,o,r,d,v]);return n(t(()=>i(()=>Promise.resolve().then(()=>x),void 0),"s_H1t3zAJGOHQ",[b,l])),s("div",null,null,[s("div",null,{class:"flex justify-between items-center mb-8"},[s("div",null,null,[s("h1",null,{class:"text-3xl font-bold text-gray-900"},"Analytics & Performance",3,null),s("p",null,{class:"text-gray-600 mt-2"},["Real-time monitoring of your content performance and system metrics",d.value&&s("span",null,{class:"ml-2 text-sm text-gray-500"},["• Last updated: ",u(l=>l.value,[d])],3,"M2_0")],1,null)],1,null),s("div",null,{class:"flex items-center gap-4"},[r.value&&s("div",null,{class:"flex items-center text-blue-600"},[s("div",null,{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"},null,3,null),"Loading..."],3,"M2_1"),s("select",null,{class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:u(l=>l.value,[l]),disabled:u(l=>l.value,[r]),onChange$:t(()=>i(()=>Promise.resolve().then(()=>c),void 0),"s_YCN88HLlJwA",[l])},[s("option",null,{value:"24h"},"Last 24 hours",3,null),s("option",null,{value:"7d"},"Last 7 days",3,null),s("option",null,{value:"30d"},"Last 30 days",3,null),s("option",null,{value:"90d"},"Last 90 days",3,null)],3,null)],1,null)],1,null),o.value&&s("div",null,{class:"bg-red-50 border border-red-200 rounded-md p-4 mb-8"},s("div",null,{class:"flex"},[s("div",null,{class:"flex-shrink-0"},s("span",null,{class:"text-red-400"},"⚠️",3,null),3,null),s("div",null,{class:"ml-3"},[s("h3",null,{class:"text-sm font-medium text-red-800"},"Analytics Data Error",3,null),s("div",null,{class:"mt-2 text-sm text-red-700"},[s("p",null,null,u(l=>l.value,[o]),3,null),s("button",null,{class:"mt-2 text-red-800 hover:text-red-600 underline",onClick$:t(()=>i(()=>Promise.resolve().then(()=>m),void 0),"s_08kI8AH8QFg",[b,l])},"Try again",3,null)],3,null)],3,null)],3,null),3,"M2_2"),s("div",null,{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},[s("div",null,{class:"bg-white rounded-lg shadow-sm border p-6"},s("div",null,{class:"flex items-center justify-between"},[s("div",null,null,[s("p",null,{class:"text-sm font-medium text-gray-600"},"Page Views",3,null),s("p",null,{class:"text-3xl font-bold text-gray-900"},g.value.pageViews.value.toLocaleString(),1,null)],1,null),s("div",null,{class:"text-green-600 text-sm font-medium"},u(l=>l.value.pageViews.change,[g]),3,null)],1,null),1,null),s("div",null,{class:"bg-white rounded-lg shadow-sm border p-6"},s("div",null,{class:"flex items-center justify-between"},[s("div",null,null,[s("p",null,{class:"text-sm font-medium text-gray-600"},"Unique Visitors",3,null),s("p",null,{class:"text-3xl font-bold text-gray-900"},g.value.uniqueVisitors.value.toLocaleString(),1,null)],1,null),s("div",null,{class:"text-green-600 text-sm font-medium"},u(l=>l.value.uniqueVisitors.change,[g]),3,null)],1,null),1,null),s("div",null,{class:"bg-white rounded-lg shadow-sm border p-6"},s("div",null,{class:"flex items-center justify-between"},[s("div",null,null,[s("p",null,{class:"text-sm font-medium text-gray-600"},"Bounce Rate",3,null),s("p",null,{class:"text-3xl font-bold text-gray-900"},u(l=>l.value.bounceRate.value,[g]),3,null)],3,null),s("div",null,{class:"text-green-600 text-sm font-medium"},u(l=>l.value.bounceRate.change,[g]),3,null)],3,null),3,null),s("div",null,{class:"bg-white rounded-lg shadow-sm border p-6"},s("div",null,{class:"flex items-center justify-between"},[s("div",null,null,[s("p",null,{class:"text-sm font-medium text-gray-600"},"Avg. Session Time",3,null),s("p",null,{class:"text-3xl font-bold text-gray-900"},u(l=>l.value.avgSessionTime.value,[g]),3,null)],3,null),s("div",null,{class:"text-green-600 text-sm font-medium"},u(l=>l.value.avgSessionTime.change,[g]),3,null)],3,null),3,null)],1,null),s("div",null,{class:"grid lg:grid-cols-2 gap-8 mb-8"},[s("div",null,{class:"bg-white rounded-lg shadow-sm border"},[s("div",null,{class:"px-6 py-4 border-b"},s("h2",null,{class:"text-lg font-semibold"},"System Performance",3,null),3,null),s("div",null,{class:"p-6 space-y-4"},[s("div",null,{class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},[s("div",null,null,[s("h3",null,{class:"font-medium text-gray-900"},"Builder.io Content",3,null),s("p",null,{class:"text-sm text-gray-500"},"Average load time",3,null)],3,null),s("div",null,{class:"text-right"},[s("p",null,{class:"text-xl font-bold text-gray-900"},u(l=>l.value.builderContent.loadTime,[v]),3,null),s("span",null,{class:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full"},u(l=>l.value.builderContent.rating,[v]),3,null)],3,null)],3,null),s("div",null,{class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},[s("div",null,null,[s("h3",null,{class:"font-medium text-gray-900"},"Media Files",3,null),s("p",null,{class:"text-sm text-gray-500"},"Average load time",3,null)],3,null),s("div",null,{class:"text-right"},[s("p",null,{class:"text-xl font-bold text-gray-900"},u(l=>l.value.mediaFiles.loadTime,[v]),3,null),s("span",null,{class:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full"},u(l=>l.value.mediaFiles.rating,[v]),3,null)],3,null)],3,null),s("div",null,{class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},[s("div",null,null,[s("h3",null,{class:"font-medium text-gray-900"},"Cache Hit Rate",3,null),s("p",null,{class:"text-sm text-gray-500"},"Caching efficiency",3,null)],3,null),s("div",null,{class:"text-right"},[s("p",null,{class:"text-xl font-bold text-gray-900"},u(l=>l.value.cacheHitRate.value,[v]),3,null),s("span",null,{class:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full"},u(l=>l.value.cacheHitRate.rating,[v]),3,null)],3,null)],3,null),s("div",null,{class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},[s("div",null,null,[s("h3",null,{class:"font-medium text-gray-900"},"API Response Time",3,null),s("p",null,{class:"text-sm text-gray-500"},"Average response time",3,null)],3,null),s("div",null,{class:"text-right"},[s("p",null,{class:"text-xl font-bold text-gray-900"},u(l=>l.value.apiResponseTime.value,[v]),3,null),s("span",null,{class:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full"},u(l=>l.value.apiResponseTime.rating,[v]),3,null)],3,null)],3,null)],3,null)],3,null),s("div",null,{class:"bg-white rounded-lg shadow-sm border"},[s("div",null,{class:"px-6 py-4 border-b"},s("h2",null,{class:"text-lg font-semibold"},"Content Analytics",3,null),3,null),s("div",null,{class:"p-6"},s("div",null,{class:"space-y-4"},0!==p.value.length||r.value?p.value.map((l,e)=>s("div",null,{class:"flex items-center justify-between p-4 border rounded-lg"},[s("div",null,null,[s("h3",null,{class:"font-medium text-gray-900"},a(l,"type"),1,null),s("p",null,{class:"text-sm text-gray-500"},[a(l,"count")," items"],1,null)],1,null),s("div",null,{class:"text-right"},[s("p",null,{class:"text-lg font-semibold text-gray-900"},void 0!==l.views?l.views.toLocaleString():l.usage?.toLocaleString()||"0",1,null),s("p",null,{class:"text-xs text-gray-500"},[void 0!==l.views?"views":"usage"," •",void 0!==l.engagement?` ${(l.engagement/1e3).toFixed(1)}k engagement`:l.performance||"No data"],1,null)],1,null)],1,e)):s("div",null,{class:"text-center py-8 text-gray-500"},[s("div",null,{class:"text-4xl mb-2"},"📊",3,null),s("p",null,null,"No content metrics available",3,null),s("p",null,{class:"text-sm"},"Create some content to see analytics",3,null)],3,"M2_3"),1,null),1,null)],1,null)],1,null),s("div",null,{class:"grid lg:grid-cols-2 gap-8"},[s("div",null,{class:"bg-white rounded-lg shadow-sm border"},[s("div",null,{class:"px-6 py-4 border-b"},s("h2",null,{class:"text-lg font-semibold"},"Traffic Trends",3,null),3,null),s("div",null,{class:"p-6"},s("div",null,{class:"h-64 bg-gray-100 rounded-lg flex items-center justify-center"},s("div",null,{class:"text-center"},[s("div",null,{class:"text-4xl mb-2"},"📈",3,null),s("p",null,{class:"text-gray-600"},"Traffic Chart",3,null),s("p",null,{class:"text-sm text-gray-500"},"Integration with Google Analytics",3,null)],3,null),3,null),3,null)],3,null),s("div",null,{class:"bg-white rounded-lg shadow-sm border"},[s("div",null,{class:"px-6 py-4 border-b"},s("h2",null,{class:"text-lg font-semibold"},"Component Usage",3,null),3,null),s("div",null,{class:"p-6"},s("div",null,{class:"h-64 bg-gray-100 rounded-lg flex items-center justify-center"},s("div",null,{class:"text-center"},[s("div",null,{class:"text-4xl mb-2"},"🧩",3,null),s("p",null,{class:"text-gray-600"},"Component Usage Chart",3,null),s("p",null,{class:"text-sm text-gray-500"},"Most used design system components",3,null)],3,null),3,null),3,null)],3,null)],3,null),s("div",null,{class:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6"},[s("h3",null,{class:"font-medium text-blue-900 mb-4"},"📊 AI-Powered Insights",3,null),s("div",null,{class:"grid md:grid-cols-2 lg:grid-cols-3 gap-4"},[s("div",null,{class:"bg-white rounded-lg p-4"},s("p",null,{class:"text-sm text-blue-800"},[s("strong",null,null,"Performance Tip:",3,null)," Your Builder.io pages load 23% faster than average. Consider using this architecture for more content."],3,null),3,null),s("div",null,{class:"bg-white rounded-lg p-4"},s("p",null,{class:"text-sm text-blue-800"},[s("strong",null,null,"Content Insight:",3,null)," Posts with DS Card components have 31% higher engagement rates."],3,null),3,null),s("div",null,{class:"bg-white rounded-lg p-4"},s("p",null,{class:"text-sm text-blue-800"},[s("strong",null,null,"Optimization:",3,null)," Enable image compression to reduce media load times by ~40%."],3,null),3,null)],3,null)],3,null)],1,"M2_4")},b=Object.freeze(Object.defineProperty({__proto__:null,s_c7k0xbY1wX8:p},Symbol.toStringTag,{value:"Module"})),f=async e=>{const[n,t,s,u,a,r]=l();try{u.value=!0,s.value=null,o.info("Fetching real analytics data",{timeRange:e});const l=await fetch(`/api/analytics/dashboard?range=${e}`);if(!l.ok)throw new Error(`HTTP ${l.status}: ${l.statusText}`);const i=await l.json();n.value=i.analytics||{},r.value=i.performance||{},t.value=i.content||[],a.value=i.lastUpdated?new Date(i.lastUpdated).toLocaleString():"Unknown",o.info("Real analytics data loaded successfully",{pageViews:i.analytics?.pageViews?.value||0,uniqueVisitors:i.analytics?.uniqueVisitors?.value||0,contentItems:Array.isArray(i.content)?i.content.length:0})}catch(i){const l=`Failed to load analytics: ${i instanceof Error?i.message:String(i)}`;s.value=l,o.error("Analytics data fetch failed",{error:i instanceof Error?i.message:String(i),timeRange:e}),n.value={pageViews:{value:0,change:"Error"},uniqueVisitors:{value:0,change:"Error"},bounceRate:{value:"Error",change:"Error"},avgSessionTime:{value:"Error",change:"Error"}}}finally{u.value=!1}},y=Object.freeze(Object.defineProperty({__proto__:null,_hW:r,s_YAwb1prRrtQ:f},Symbol.toStringTag,{value:"Module"}));export{r as _hW,b as i,g as s_08kI8AH8QFg,v as s_H1t3zAJGOHQ,f as s_YAwb1prRrtQ,d as s_YCN88HLlJwA,p as s_c7k0xbY1wX8};
